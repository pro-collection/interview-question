`package.json`å¸¸è§é…ç½®åˆ†ç±»ï¼š

- æè¿°é…ç½®

- æ–‡ä»¶é…ç½®

- è„šæœ¬é…ç½®

- ä¾èµ–é…ç½®

- å‘å¸ƒé…ç½®

- ç³»ç»Ÿé…ç½®

- ç¬¬ä¸‰æ–¹é…ç½®


`package.json` ä½œç”¨ï¼šå­˜å‚¨ä¸€åˆ‡ä¸é¡¹ç›®ç›¸å…³çš„é…ç½®ï¼Œä¾‹å¦‚é¡¹ç›®åŸºæœ¬ä¿¡æ¯ã€å¤–ç•Œè®¿é—®é¡¹ç›®çš„æ–¹å¼ã€é¡¹ç›®å†…ç½®è„šæœ¬ã€é¡¹ç›®ä¾èµ–ç­‰ã€‚

### æè¿°é…ç½®

ä¸»è¦æ˜¯é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ï¼Œç‰ˆæœ¬ï¼Œæè¿°ï¼Œä»“åº“ï¼Œä½œè€…ç­‰ï¼Œéƒ¨åˆ†ä¼šå±•ç¤ºåœ¨ npm å®˜ç½‘ä¸Šã€‚

```js
{
  "name": "react", // é¡¹ç›®åç§° or npmåŒ…å
  "version": "18.2.0", // ç‰ˆæœ¬å·ï¼Œå¼€æºé¡¹ç›®çš„ç‰ˆæœ¬å·é€šå¸¸éµå¾ª semver è¯­ä¹‰åŒ–è§„èŒƒ
  "repository": {
    "type": "git",
    "url": "https://github.com/facebook/react.git",
    "directory": "packages/react"
  }, // é¡¹ç›®çš„ä»“åº“åœ°å€åŠç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯
  "description": "React is a JavaScript library for building user interfaces.", // é¡¹ç›®æè¿° (å±•ç¤ºäº npm å®˜ç½‘)
  "keywords": [
    "ant",
    "component",
    "components",
    "design",
    "framework",
    "frontend",
    "react",
    "react-component",
    "ui"
  ], // é¡¹ç›®æŠ€æœ¯å…³é”®è¯
  "homepage": "https://reactjs.org/", // é¡¹ç›®çš„ä¸»é¡µé“¾æ¥ï¼Œé€šå¸¸æ˜¯é¡¹ç›® github é“¾æ¥ï¼Œé¡¹ç›®å®˜ç½‘æˆ–æ–‡æ¡£é¦–é¡µ
  "bugs": "https://github.com/vuejs/core/issues", // é¡¹ç›® bug åé¦ˆåœ°å€ï¼Œé€šå¸¸æ˜¯ github issue é¡µé¢çš„é“¾æ¥
  "author": "Li jiaxun", // ä½œè€…ä¿¡æ¯
  "private": true, // ç§æœ‰é¡¹ç›®, è‹¥ä¸º true åˆ™æ— æ³•å‘å¸ƒåˆ° npm å®˜ç½‘ä¸Š
}
```



### æ–‡ä»¶é…ç½®

åŒ…æ‹¬é¡¹ç›®æ‰€åŒ…å«çš„æ–‡ä»¶ï¼Œä»¥åŠå…¥å£ç­‰ä¿¡æ¯ã€‚

```js
{
  // ğŸ”¥@files: æŒ‡å®šéœ€è¦è·Ÿéšä¸€èµ·å‘å¸ƒçš„å†…å®¹ï¼Œæ§åˆ¶ npm åŒ…çš„å¤§å°ã€‚
  // å‘å¸ƒæ—¶é»˜è®¤ä¼šåŒ…æ‹¬ package.jsonï¼Œlicenseï¼ŒREADME å’Œmain å­—æ®µé‡ŒæŒ‡å®šçš„æ–‡ä»¶ã€‚å¿½ç•¥ node_modulesï¼Œlockfile ç­‰æ–‡ä»¶ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥æŒ‡å®šæ›´å¤šéœ€è¦ä¸€èµ·å‘å¸ƒçš„å†…å®¹ã€‚(å•ç‹¬çš„æ–‡ä»¶/æ•´ä¸ªæ–‡ä»¶å¤¹/ä½¿ç”¨é€šé…ç¬¦åŒ¹é…åˆ°çš„æ–‡ä»¶)
  // ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œfiles é‡Œä¼šæŒ‡å®šæ„å»ºå‡ºæ¥çš„äº§ç‰©ä»¥åŠç±»å‹æ–‡ä»¶ï¼Œè€Œ srcï¼Œtest ç­‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸éœ€è¦è·Ÿéšå‘å¸ƒã€‚
  "files": [
    "filename.js",
    "directory/",
    "glob/*.{js,json}"
  ],
  // ğŸ”¥@type: 'module' => ç”¨ ESM è§£é‡Š .js æ–‡ä»¶(æ­¤æ—¶è®¿é—® CJS æ¨¡å—æ–‡ä»¶éœ€è¦ .cjs åç¼€)ï¼›åä¹‹åŒç†ã€‚
  "type": "module",
  // ğŸ”¥@main: é¡¹ç›®å…¥å£æ–‡ä»¶ã€‚
  // if "type: 'module'" => æŒ‡å‘ ESM æ¨¡å—è§„èŒƒçš„é¡¹ç›®å…¥å£æ–‡ä»¶ else => CommonJS æ¨¡å—è§„èŒƒçš„é¡¹ç›®å…¥å£æ–‡ä»¶ã€‚
  "main": "./index.cjs",
  // @browser: webç«¯é¡¹ç›®å…¥å£æ–‡ä»¶è·¯å¾„ã€‚è¯¥è·¯å¾„ä¸‹æ–‡ä»¶ä¸å…è®¸åœ¨ server ç«¯ä½¿ç”¨ã€‚
  "browser": "./browser/index.js",
  // ğŸ”¥@module: ESM è§„èŒƒæ¨¡å—çš„é¡¹ç›®å…¥å£æ–‡ä»¶ã€‚
  "module": "./index.js",
  // ğŸ”¥@exports: é…ç½®ä¸åŒç¯å¢ƒå¯¹åº”çš„æ¨¡å—å…¥å£æ–‡ä»¶(ä¼˜å…ˆçº§æœ€é«˜ > main)ã€‚
  // ä½œç”¨1: ä»¥åˆ«åå½¢å¼å°è£…åŒ…çš„å­è·¯å¾„ã€‚"import packageA/dist/css/index.css" => "import packageA/style"
  // ä½œç”¨2: ä»¥ '.' ä¸ºåˆ«åæ—¶ï¼Œè¡¨ç¤ºæ¨¡å—ä¸»å…¥å£ï¼Œå¯ä»¥çœ‹åšæ˜¯ "mian"/"module" ç­‰å­—æ®µåŠŸèƒ½çš„é›†åˆã€‚
  // ä½œç”¨3: è®¾ç½®æ¨¡å—è®¿é—®æƒé™ã€‚exports é™åˆ¶ä½¿ç”¨è€…ä¸å¯ä»¥è®¿é—®æœªåœ¨"exports"ä¸­å®šä¹‰çš„ä»»ä½•å…¶ä»–è·¯å¾„ã€‚
  // ä½œç”¨4: æä¾›äº†é¡¹ç›®(åŒ…)å¤šå…¥å£è®¿é—®çš„é€”å¾„ã€‚ä¾‹å¦‚ä¸‹é¢çš„ './docs' å’Œ './components'
  "exports": {
    ".": {
      "require": "./index.cjs",
      "import": "./index.js"
    },
    "./docs": {
      "require": "./docs/index.cjs",
      "import": "./docs/index.js"
    },
    "./components": {
      "require": "./components/index.cjs",
      "import": "./components/index.js"
    },
    "./style": "./dist/css/index.css'
  },
  // ğŸ”¥@workspaces: é¡¹ç›®çš„å·¥ä½œåŒºé…ç½®ï¼Œç”¨äºåœ¨æœ¬åœ°çš„æ ¹ç›®å½•ä¸‹ç®¡ç†å¤šä¸ªå­é¡¹ç›®ã€‚
  // å¯ä»¥è‡ªåŠ¨åœ°åœ¨ npm install æ—¶å°† workspaces ä¸‹é¢çš„åŒ…ï¼Œè½¯é“¾åˆ°æ ¹ç›®å½•çš„ node_modules ä¸­ï¼Œä¸ç”¨æ‰‹åŠ¨æ‰§è¡Œ npm link æ“ä½œã€‚
  // é€šå¸¸å­é¡¹ç›®éƒ½ä¼šå¹³é“ºç®¡ç†åœ¨ packages ç›®å½•ä¸‹ï¼Œ"packages/*" è¡¨ç¤ºå°†è¯¥è·¯å¾„ä¸‹æ‰€æœ‰å­é¡¹ç›®çš„ node_modules è½¯é“¾åˆ°æ ¹ç›®å½•ã€‚
  "workspaces": [
    "packages/*",
  ],
}
```

> å½“ä¸€ä¸ªé¡¹ç›®åŒæ—¶å®šä¹‰äº† mainï¼Œbrowser å’Œ moduleï¼Œåƒ webpackï¼Œrollup ç­‰æ„å»ºå·¥å…·ä¼šæ„ŸçŸ¥è¿™äº›å­—æ®µï¼Œå¹¶ä¼šæ ¹æ®ç¯å¢ƒä»¥åŠä¸åŒçš„æ¨¡å—è§„èŒƒæ¥è¿›è¡Œä¸åŒçš„å…¥å£æ–‡ä»¶æŸ¥æ‰¾ã€‚

#### `exports` å­—æ®µè¯¦è§£

å‚è€ƒ [é˜®ä¸€å³°](https://es6.ruanyifeng.com/#docs/module-loader#package-json-%E7%9A%84-exports-%E5%AD%97%E6%AE%B5)

`exports`å­—æ®µçš„ä¼˜å…ˆçº§é«˜äº`main`å­—æ®µã€‚å®ƒæœ‰å¤šç§ç”¨æ³•ã€‚

1. å­ç›®å½•åˆ«å

`package.json`æ–‡ä»¶çš„`exports`å­—æ®µå¯ä»¥æŒ‡å®šè„šæœ¬æˆ–å­ç›®å½•çš„åˆ«åï¼Œæ­¤æ—¶å®ƒçš„å‰ç¼€çš„å‚ç…§æ‹¼æ¥è·¯å¾„æ˜¯åŒ…åã€‚

```js
// ./node_modules/es-module-package/package.json
{
 "exports": {
   "./submodule": "./src/submodule.js"
 }
}
```

ä¸Šé¢çš„ä»£ç æŒ‡å®š`src/submodule.js`åˆ«åä¸º`submodule`ï¼Œç„¶åå°±å¯ä»¥ä»åˆ«ååŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚

```js
import submodule from 'es-module-package/submodule';
// åŠ è½½ ./node_modules/es-module-package/src/submodule.js
```

å¦‚æœæ²¡æœ‰æŒ‡å®šåˆ«åï¼Œå°±ä¸èƒ½ç”¨â€œæ¨¡å—+è„šæœ¬åâ€è¿™ç§å½¢å¼åŠ è½½è„šæœ¬ã€‚

```js
// æŠ¥é”™
import submodule from 'es-module-package/private-module.js';

// ä¸æŠ¥é”™
import submodule from './node_modules/es-module-package/private-module.js';
```

2. main çš„åˆ«å

`exports`å­—æ®µçš„åˆ«åå¦‚æœæ˜¯`.`ï¼Œå°±ä»£è¡¨æ¨¡å—çš„ä¸»å…¥å£ï¼Œä¼˜å…ˆçº§é«˜äº`main`å­—æ®µï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥ç®€å†™æˆ`exports`å­—æ®µçš„å€¼ã€‚

```js
{
 "exports": {
   ".": "./main.js"
 }
}

// ç­‰åŒäº
{
 "exports": "./main.js"
}
```

ç”±äº`exports`å­—æ®µåªæœ‰æ”¯æŒ ES6 çš„ Node.js æ‰è®¤è¯†ï¼Œæ‰€ä»¥å¯ä»¥åŒæ—¶æ·»åŠ `main`å­—æ®µæ¥å…¼å®¹æ—§ç‰ˆæœ¬çš„ Node.jsã€‚

```
{
 "main": "./main-legacy.cjs",
 "exports": {
   ".": "./main-modern.cjs"
 }
}
```

> ä¸Šé¢ä»£ç ä¸­ï¼Œè€ç‰ˆæœ¬çš„ Node.js ï¼ˆä¸æ”¯æŒ ES6 æ¨¡å—ï¼‰çš„å…¥å£æ–‡ä»¶æ˜¯`main-legacy.cjs`ï¼Œæ–°ç‰ˆæœ¬çš„ Node.js çš„å…¥å£æ–‡ä»¶æ˜¯`main-modern.cjs`ã€‚

3. æ¡ä»¶åŠ è½½

åˆ©ç”¨`.`è¿™ä¸ªåˆ«åï¼Œå¯ä»¥ä¸º ES6 æ¨¡å—å’Œ CommonJS æŒ‡å®šä¸åŒçš„å…¥å£ã€‚

```json
{
 "type": "module",
 "exports": {
   ".": {
     "require": "./main.cjs",
     "default": "./main.js"
   }
 }
}
```

> ä¸Šé¢ä»£ç ä¸­ï¼Œåˆ«å`.`çš„`require`æ¡ä»¶æŒ‡å®š`require()`å‘½ä»¤çš„å…¥å£æ–‡ä»¶ï¼ˆå³ CommonJS çš„å…¥å£ï¼‰ï¼Œ`default`æ¡ä»¶æŒ‡å®šå…¶ä»–æƒ…å†µçš„å…¥å£ï¼Œæ­¤å¤„é…ç½®äº† `type: 'module'`ï¼Œå› æ­¤é»˜è®¤å‘½ä¸­ ESM æ¨¡å—è§„èŒƒã€‚

### è„šæœ¬é…ç½®

```
{
  // npm run {scripts} / yarn {scripts} ç­‰å‘½ä»¤è¡Œæ–¹å¼å¯åŠ¨é¢„è®¾ç½®çš„è„šæœ¬
  "scripts": {
    "build": "webpack"
  },
  // è®¾ç½® scripts é‡Œçš„è„šæœ¬åœ¨è¿è¡Œæ—¶çš„å‚æ•°
  "config": {
    "port": "3001"
  },
}
```

### ä¾èµ–é…ç½®

é¡¹ç›®ä¾èµ–å…¶ä»–åŒ…å¼•ç”¨çš„ç›¸å…³ä¿¡æ¯ã€‚
```js
{
  // é¡¹ç›®ç”Ÿäº§ç¯å¢ƒ(è¿è¡Œæ—¶)ä¸‹éœ€è¦ç”¨åˆ°çš„ä¾èµ–
  // ä½¿ç”¨ npm install xxx æˆ–åˆ™ npm install xxx --save æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨æ’å…¥åˆ°è¯¥å­—æ®µä¸­ã€‚
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  // é¡¹ç›®å¼€å‘ç¯å¢ƒéœ€è¦ç”¨åˆ°è€Œè¿è¡Œæ—¶ä¸éœ€è¦çš„ä¾èµ–ï¼Œç”¨äºè¾…åŠ©å¼€å‘
  // ä½¿ç”¨ npm install xxx -D æˆ–è€… npm install xxx --save-dev æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨æ’å…¥åˆ°è¯¥å­—æ®µä¸­ã€‚
  "devDependencies": {
    "webpack": "^5.69.0"
  },
  // åŒä¼´ä¾èµ–
  // ä¸€ç§ç‰¹æ®Šçš„ä¾èµ–ï¼Œä¸ä¼šè¢«è‡ªåŠ¨å®‰è£…ï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºä¸å¦ä¸€ä¸ªåŒ…çš„ä¾èµ–ä¸å…¼å®¹æ€§å…³ç³»æ¥è­¦ç¤ºä½¿ç”¨è€…ã€‚
  // æ¯”å¦‚æˆ‘ä»¬å®‰è£… Aï¼ŒA çš„æ­£å¸¸ä½¿ç”¨ä¾èµ– B@2.x ç‰ˆæœ¬ï¼Œé‚£ä¹ˆ B@2.x å°±åº”è¯¥è¢«åˆ—åœ¨ A çš„ peerDependencies ä¸‹ï¼Œè¡¨ç¤ºâ€œå¦‚æœä½ ä½¿ç”¨æˆ‘ï¼Œé‚£ä¹ˆä½ ä¹Ÿéœ€è¦å®‰è£… Bï¼Œå¹¶ä¸”è‡³å°‘æ˜¯ 2.x ç‰ˆæœ¬â€ã€‚
  // æ¯”å¦‚ React ç»„ä»¶åº“ Ant Designï¼Œå®ƒçš„ package.json é‡Œ peerDependencies ä¸º
  // è¡¨ç¤ºå¦‚æœä½ ä½¿ç”¨ Ant Designï¼Œé‚£ä¹ˆä½ çš„é¡¹ç›®ä¹Ÿåº”è¯¥å®‰è£… react å’Œ react-domï¼Œå¹¶ä¸”ç‰ˆæœ¬éœ€è¦å¤§äºç­‰äº 16.9.0ã€‚
  "peerDependencies": {
    "react": ">=16.9.0",
    "react-dom": ">=16.9.0"
  },
  // optionalDependencies
  // å¯é€‰ä¾èµ–ï¼Œé¡¾åæ€ä¹‰ï¼Œè¡¨ç¤ºä¾èµ–æ˜¯å¯é€‰çš„ï¼Œå®ƒä¸ä¼šé˜»å¡ä¸»åŠŸèƒ½çš„ä½¿ç”¨ï¼Œå®‰è£…æˆ–è€…å¼•å…¥å¤±è´¥ä¹Ÿæ— å¦¨ã€‚è¿™ç±»ä¾èµ–å¦‚æœå®‰è£…å¤±è´¥ï¼Œé‚£ä¹ˆ npm çš„æ•´ä¸ªå®‰è£…è¿‡ç¨‹ä¹Ÿæ˜¯æˆåŠŸçš„ã€‚
  // æ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨ colors è¿™ä¸ªåŒ…æ¥å¯¹ console.log æ‰“å°çš„ä¿¡æ¯è¿›è¡Œç€è‰²æ¥å¢å¼ºå’ŒåŒºåˆ†æç¤ºï¼Œä½†å®ƒå¹¶ä¸æ˜¯å¿…éœ€çš„ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶åŠ å…¥åˆ° optionalDependenciesï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶å¤„ç†å¼•å…¥å¤±è´¥çš„é€»è¾‘ã€‚
  // ä½¿ç”¨ npm install xxx -O æˆ–è€… npm install xxx --save-optional æ—¶ï¼Œä¾èµ–ä¼šè¢«è‡ªåŠ¨æ’å…¥åˆ°è¯¥å­—æ®µä¸­ã€‚
  "optionalDependencies": {
    "colors": "^1.4.0"
  },
  // peerDependenciesMeta
  // åŒä¼´ä¾èµ–ä¹Ÿå¯ä»¥ä½¿ç”¨ peerDependenciesMeta å°†å…¶æŒ‡å®šä¸ºå¯é€‰çš„ã€‚
  "peerDependencies": {
    "colors": "^1.4.0"
  },
  "peerDependenciesMeta": {
    "colors": {
      "optional": true
    }
  },
  // bundleDependencies
  // æ‰“åŒ…ä¾èµ–ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨å‘å¸ƒåŒ…æ—¶ï¼ŒbundleDependencies é‡Œé¢çš„ä¾èµ–éƒ½ä¼šè¢«ä¸€èµ·æ‰“åŒ…ã€‚
  // æ¯”å¦‚æŒ‡å®š react å’Œ react-dom ä¸ºæ‰“åŒ…ä¾èµ–ï¼š
  // åœ¨æ‰§è¡Œ npm pack æ‰“åŒ…ç”Ÿæˆ tgz å‹ç¼©åŒ…ä¸­ï¼Œå°†å‡ºç° node_modules å¹¶åŒ…å« react å’Œ react-domã€‚
  // éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå­—æ®µæ•°ç»„ä¸­çš„å€¼å¿…é¡»æ˜¯åœ¨ dependenciesï¼ŒdevDependencies ä¸¤ä¸ªé‡Œé¢å£°æ˜è¿‡çš„ä¾èµ–æ‰è¡Œã€‚
  // æ™®é€šä¾èµ–é€šå¸¸ä» npm registry å®‰è£…ï¼Œä½†å½“ä½ æƒ³ç”¨ä¸€ä¸ªä¸åœ¨ npm registry é‡Œçš„åŒ…ï¼Œæˆ–è€…ä¸€ä¸ªè¢«ä¿®æ”¹è¿‡çš„ç¬¬ä¸‰æ–¹åŒ…æ—¶ï¼Œæ‰“åŒ…ä¾èµ–ä¼šæ¯”æ™®é€šä¾èµ–æ›´å¥½ç”¨ã€‚
  "bundleDependencies": [
    "react",
    "react-dom"
  ],
  // overrides
  // overrides å¯ä»¥é‡å†™é¡¹ç›®ä¾èµ–çš„ä¾èµ–ï¼ŒåŠå…¶ä¾èµ–æ ‘ä¸‹æŸä¸ªä¾èµ–çš„ç‰ˆæœ¬å·ï¼Œè¿›è¡ŒåŒ…çš„æ›¿æ¢ã€‚
  // æ¯”å¦‚æŸä¸ªä¾èµ– Aï¼Œç”±äºä¸€äº›åŸå› å®ƒä¾èµ–çš„åŒ… foo@1.0.0 éœ€è¦æ›¿æ¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ overrides ä¿®æ”¹ foo çš„ç‰ˆæœ¬å·ï¼š
  "overrides": {
    "foo": "1.1.0-patch"
  }
}
```

### å‘å¸ƒé…ç½®
ä¸»è¦æ˜¯å’Œé¡¹ç›®å‘å¸ƒç›¸å…³çš„é…ç½®ã€‚

**private**

å¦‚æœæ˜¯ç§æœ‰é¡¹ç›®ï¼Œä¸å¸Œæœ›å‘å¸ƒåˆ°å…¬å…± npm ä»“åº“ä¸Šï¼Œå¯ä»¥å°† `private` è®¾ä¸º trueã€‚
```
"private": true
```

**publishConfig**

é¡¾åæ€ä¹‰ï¼ŒpublishConfig å°±æ˜¯ npm åŒ…å‘å¸ƒæ—¶ä½¿ç”¨çš„é…ç½®ã€‚

æ¯”å¦‚åœ¨å®‰è£…ä¾èµ–æ—¶æŒ‡å®šäº† registry ä¸º taobao é•œåƒæºï¼Œä½†å‘å¸ƒæ—¶å¸Œæœ›åœ¨å…¬ç½‘å‘å¸ƒï¼Œå°±å¯ä»¥æŒ‡å®š publishConfig.registryã€‚

```
"publishConfig": {
  "registry": "https://registry.npmjs.org/"
}
```


### ç³»ç»Ÿé…ç½®

å’Œé¡¹ç›®å…³è”çš„ç³»ç»Ÿé…ç½®ï¼Œæ¯”å¦‚ node ç‰ˆæœ¬æˆ–æ“ä½œç³»ç»Ÿå…¼å®¹æ€§ä¹‹ç±»ã€‚è¿™äº›è¦æ±‚åªä¼šèµ·åˆ°æç¤ºè­¦å‘Šçš„ä½œç”¨ï¼Œå³ä½¿ç”¨æˆ·çš„ç¯å¢ƒä¸ç¬¦åˆè¦æ±‚ï¼Œä¹Ÿä¸å½±å“å®‰è£…ä¾èµ–åŒ…ã€‚

**engines**

ä¸€äº›é¡¹ç›®ç”±äºå…¼å®¹æ€§é—®é¢˜ä¼šå¯¹ node æˆ–è€…åŒ…ç®¡ç†å™¨æœ‰ç‰¹å®šçš„ç‰ˆæœ¬å·è¦æ±‚ï¼Œæ¯”å¦‚ï¼š

```
"engines": {
  "node": ">=14 <16",
  "pnpm": ">7"
}
```
è¦æ±‚ node ç‰ˆæœ¬å¤§äºç­‰äº 14 ä¸”å°äº 16ï¼ŒåŒæ—¶ pnpm ç‰ˆæœ¬å·éœ€è¦å¤§äº 7ã€‚


**os**

åœ¨ linux ä¸Šèƒ½æ­£å¸¸è¿è¡Œçš„é¡¹ç›®å¯èƒ½åœ¨ windows ä¸Šä¼šå‡ºç°å¼‚å¸¸ï¼Œä½¿ç”¨ os å­—æ®µå¯ä»¥æŒ‡å®šé¡¹ç›®å¯¹æ“ä½œç³»ç»Ÿçš„å…¼å®¹æ€§è¦æ±‚ã€‚

```
"os": ["darwin", "linux"]
```

**cpu**

æŒ‡å®šé¡¹ç›®åªèƒ½åœ¨ç‰¹å®šçš„ CPU ä½“ç³»ä¸Šè¿è¡Œã€‚

```
"cpu": ["x64", "ia32"]
```




### ç¬¬ä¸‰æ–¹é…ç½®

ä¸€äº›ç¬¬ä¸‰æ–¹åº“æˆ–åº”ç”¨åœ¨è¿›è¡ŒæŸäº›å†…éƒ¨å¤„ç†æ—¶ä¼šä¾èµ–è¿™äº›å­—æ®µï¼Œä½¿ç”¨å®ƒä»¬æ—¶éœ€è¦å®‰è£…å¯¹åº”çš„ç¬¬ä¸‰æ–¹åº“ã€‚

```js
{
  // å…¶ä»–å·¥å…·è®¿é—®æœ¬é¡¹ç›® ts ç±»å‹å®šä¹‰æ—¶çš„å…¥å£æ–‡ä»¶
  "types": "./index.d.ts",
  // npm ä¸Šæ‰€æœ‰çš„æ–‡ä»¶éƒ½å¼€å¯ CDN æœåŠ¡
  "unpkg": "dist/vue.global.js",
  // è®¾ç½®é¡¹ç›®çš„æµè§ˆå™¨å…¼å®¹æƒ…å†µ, babel å’Œ autoprefixer ç­‰å·¥å…·ä¼šä½¿ç”¨è¯¥é…ç½®å¯¹ä»£ç è¿›è¡Œè½¬æ¢
  "browserslist": [
    "> 1%",
    "last 2 versions"
  ],
  // ç”¨äº webpack çš„ tree-shaking ä¼˜åŒ–, æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶ä¸å‚ä¸ tree-shaking å¹¶å§‹ç»ˆä¿ç•™ã€‚
  "sideEffects": [
    "dist/*",
    "es/**/style/*",
    "lib/**/style/*",
    "*.less"
  ]
}
```


### å‚è€ƒæ–‡æ¡£
- https://juejin.cn/post/7145001740696289317
- https://juejin.cn/post/7161392772665540644
