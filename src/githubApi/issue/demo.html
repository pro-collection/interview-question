<div class="markdown-body cache"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre>code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote>p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre>code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
  <p>æœ¬æ–‡ä½œè€…æ˜¯èš‚èšé›†å›¢å‰ç«¯å·¥ç¨‹å¸ˆäº¦æ± ï¼Œè®°å½•äº†é‡å­¦ TS è¿‡ç¨‹ä¸­æ•´ç†çš„ä¸€äº›ç¬”è®°ï¼Œæœ‰ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹ã€ç±»å‹æ¨å¯¼æŠ€å·§ã€æ¡ˆä¾‹å’Œä¹ é¢˜ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ TS çŸ¥è¯†ä½“ç³»ï¼Œé‡ç‚¹è®°å½•äº† TS åŸºç¡€ä½¿ç”¨è€…å®¹æ˜“è¢«å¿½ç•¥è€Œé«˜é˜¶ä½“æ“éœ€è¦çš„ä¿¡æ¯ã€‚</p>
</blockquote>
  <p>éå¸¸æ±—é¢œï¼Œå†™tså¥½å¤šå¹´äº†ï¼Œè™½ç„¶ä¸æ˜¯anyscripté£æ ¼ï¼Œä½†ä¸€ç›´å½“ä½œç±»å‹æ ‡æ³¨åœ¨å†™ï¼Œé¡¶å¤šç”¨ç”¨å‡½æ•°é‡è½½å’ŒèŒƒå‹ï¼Œè¿inferæ˜¯è°éƒ½ä¸è®¤è¯†ï¼Œè™½ç„¶ä¹Ÿä»å½“å¹´è¿™ä¸ªæ–‡ç« ä¸­ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F426966480" target="_blank" title="https://zhuanlan.zhihu.com/p/426966480" ref="nofollow noopener noreferrer">ç”¨ TypeScript ç±»å‹è¿ç®—å®ç°ä¸€ä¸ªä¸­å›½è±¡æ£‹ç¨‹åº</a>ï¼ŒçŸ¥é“tsçš„èƒ½åŠ›ï¼Œä½†å½“æ—¶çš„è®¤çŸ¥æ˜¯è¿™ç§èŠ±æ´»å¤§å¯ä¸å¿…ğŸ¶ã€‚</p>
  <p>å¥½åƒå†™äº†è¿™ä¹ˆä¹…çš„åŸºç¡€tsä¹Ÿç›¸å®‰æ— äº‹ï¼Œç±»å‹éƒ½åœ¨çš„ã€‚å› ä¸ºtsæ˜¯ä¸€é—¨è¯­è¨€ï¼Œè·Ÿjsä¸€æ ·ï¼Œå®ç°ç›®æ ‡æœ‰å¾ˆå¤šè·¯å¾„ï¼Œå¤§ä¸äº†ä½ ç»™æ¯ä¸ªå‡½æ•°ã€å˜é‡éƒ½æ˜¾å¼æ³¨æ˜ç±»å‹ï¼Œå¤§å®¶ä¹Ÿéƒ½èƒ½ç”¨ã€‚ä½†æ˜¯ä¸ä¼šä½¿ç”¨ç±»å‹æ¨å¯¼æ–¹æ³•ä½ å°±å¾—ï¼š</p>
  <ul>
    <li>åˆ°å¤„å†™ç›¸ä¼¼çš„ç±»å‹å£°æ˜ï¼Œä»–ä»¬æœ¬æ¥æ˜¯æœ‰å…³è”çš„å¯ä»¥å†™è¾…åŠ©ç±»å‹å·¥å…·æ¨å¯¼å‡ºæ¥çš„</li>
    <li>ä¸€æ—¦æœ‰ä¸ªåœ°æ–¹éœ€æ±‚å˜æ›´éœ€è¦æ”¹åŠ¨ç±»å‹ï¼Œä½ å¯èƒ½è¦æ‰‹åŠ¨æ”¹åŠ¨è°ƒç”¨é“¾ä¸Šçš„Nå¤„</li>
    <li>é‡åˆ°é¡¹ç›®ä¸­é«˜é˜¶é€‰æ‰‹å†™çš„æ¨å¯¼ç±»å‹ä¸€è„¸æ‡µ</li>
  </ul>
  <p>åªä¼šå†™åŸºç¡€TSå°±è·Ÿå¤„å¤„å†™é‡å¤ä»£ç ä¸ä¼šæŠ½ é€šç”¨æ¨¡å—ã€åŠŸèƒ½å‡½æ•° çš„jsåˆå­¦è€…ä¸€æ ·ä¸€æ ·çš„ï¼Œrunæ˜¯èƒ½runï¼Œå°±æ˜¯æœ‰ç‚¹è´¹é”®ç›˜ã€‚ã€‚ã€‚</p>
  <p>TSæ˜¯ä¸€é—¨è¯­è¨€ï¼Œå®ƒæ‹¥æœ‰ä¸€å¥—å®Œæ•´çš„åŸºç¡€è¯­æ³•ï¼ŒåŒ…æ‹¬é€»è¾‘è¯­å¥ï¼Œå¯ä»¥åšåˆ°å„ç§è½¬æ¢å’Œä¸€äº›è¿ç®—ã€‚è¦å½“ä¸€é—¨è¯­è¨€æ¥ç†è§£ã€‚</p>
  <h2 data-id="heading-0">ç¼–è¾‘å™¨ä»£ç çš„å®ä¾‹</h2>
  <p>å¦‚æœè¯´æˆ‘ä¸ºå•¥çªç„¶æƒ³è¿›ä¿®tsï¼Œå› ä¸ºä¸æƒ³æ‹‰ä½è¯­é›€ç¼–è¾‘å™¨çš„tsæ°´å¹³ã€‚æ¥çœ‹ä¸‹è¿™ä¸ªæˆ‘åŒäº‹ ç®•å®¿ å†™çš„ä¸€æ®µç±»å‹ã€‚
    èƒŒæ™¯æ˜¯è¿™æ ·çš„ï¼š</p>
  <blockquote>
    <p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæŠ›å‡ºå»çš„é€šç”¨ç±»Viewerï¼Œç°åœ¨è¦å†å¦ä¸€ä¸ªåœ°æ–¹å¾€è¿™ä¸ªç±»ä¸ŠåŠ å‡ ä¸ªè¯­é›€ç¯å¢ƒä¸‹çš„ä¸šåŠ¡ç›¸å…³çš„æ–¹æ³•ï¼Œä¸æƒ³æ±¡æŸ“åŸç±»Viewerï¼Œè¯­é›€ç¼–è¾‘å™¨è‡ªè¡Œä½¿ç”¨æ‹“å±•åçš„çš„ç±»æ¥å®ä¾‹åŒ–ã€‚åŸjsä»£ç çš„å®ç°æ¨¡å¼å…¶å®å°±æ˜¯mixinsï¼Œåœ¨åŸç±»çš„prototypeä¸ŠæŒ‚ç‚¹æ–¹æ³•ã€‚
      é—®é¢˜æ˜¯æ€ä¹ˆç»™è¿™ä¸ªmixinåŠ ç±»å‹ï¼Œæˆ‘ä»¬å¯¹å®˜æ–¹æ–¹æ¡ˆçš„éé€šç”¨æ–¹æ³•çš„extendsä¸å¤ªæ»¡æ„ã€‚</p>
  </blockquote>
  <p>éš¾ç‚¹ï¼šè¿™ä¸ªmixinè¿”å›çš„ä¸œè¥¿æ—¢æ˜¯æ„é€ å™¨æ–¹æ³•ç±»å‹ï¼Œå¯ä»¥è¢«å¤–éƒ¨ç›´æ¥newæ–°çš„å®ä¾‹ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ç±»çš„å®ä¾‹ï¼Œéœ€è¦èƒ½è·å–åŸç±»å’Œmixinä¸Šæ‰©å±•çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚å°±åƒæ˜¯æ„é€ äº†ä¸€ä¸ªæ–°çš„ç±»ï¼Œä½†æ˜¯tsé‡Œclassæ˜¯æ— æ³•å®ç°å¤šç»§æ‰¿çš„ã€‚æˆ‘ä»¬æ˜¯è¦è§£å†³<strong>ä¸€ä¸ªå¤šç»§æ‰¿çš„æœ‰å®Œå–„ç±»å‹çš„æ¨å¯¼é—®é¢˜ï¼Œæä¾›ä¸€ä¸ªæ³›åŒ–çš„å·¥å…·mixinèƒ½åŠ›ã€‚</strong></p>
  <p>äºæ˜¯æˆ‘è¯·æ•™åŒäº‹åè§åˆ°çš„ç¤ºä¾‹ç‰ˆæœ¬é•¿è¿™æ ·ï¼šç±»ä¼¼ä¸€ä¸ªmergeClassçš„åŠŸèƒ½</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">TypeJoin</span>&lt;A <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]&gt; = A <span class="hljs-keyword">extends</span> [infer R, ...infer L] ? R &amp; <span class="hljs-title class_">TypeJoin</span>&lt;L&gt; : A;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Class</span>&lt;A <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[] = <span class="hljs-built_in">any</span>[], I = <span class="hljs-built_in">any</span>&gt; = <span class="hljs-keyword">new</span> (...<span class="hljs-attr">args</span>: A)=&gt;I;</span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ClassInstance</span>&lt;T&gt; =T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Class</span>&lt;<span class="hljs-built_in">any</span>[], infer R&gt; ? R : <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MixinType</span>&lt;O <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Class</span>, T&gt; = <span class="hljs-title class_">ClassInstance</span>&lt;O&gt; &amp; T;</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">MixinTypeClass</span>&lt;O <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Class</span>, T&gt; = <span class="hljs-title class_">Class</span>&lt;<span class="hljs-title class_">ConstructorParameters</span>&lt;O&gt;, <span class="hljs-title class_">MixinType</span>&lt;O, T&gt;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ClassMix</span>&lt;<span class="hljs-title class_">Cs</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Class</span>&lt;<span class="hljs-built_in">void</span>[]&gt;[], <span class="hljs-title class_">Result</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]= []&gt; = <span class="hljs-title class_">Cs</span> <span class="hljs-keyword">extends</span> [infer R, ...infer L] ?</span>
<span class="code-block-extension-codeLine" data-line-num="8">L <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Class</span>&lt;<span class="hljs-built_in">void</span>[]&gt;[] ? <span class="hljs-title class_">ClassMix</span>&lt;L, [...<span class="hljs-title class_">Result</span>, <span class="hljs-title class_">ClassInstance</span>&lt;R&gt;]&gt; : [...<span class="hljs-title class_">Result</span>, <span class="hljs-title class_">ClassInstance</span>&lt;R&gt;] : <span class="hljs-title class_">Result</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">function</span> extendsMultiple&lt;<span class="hljs-title class_">Cs</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Class</span>&lt;<span class="hljs-built_in">void</span>[]&gt;[]&gt;(...<span class="hljs-attr">args</span>: <span class="hljs-title class_">Cs</span>): <span class="hljs-title class_">Class</span>&lt;<span class="hljs-built_in">void</span>[], <span class="hljs-title class_">TypeJoin</span>&lt;<span class="hljs-title class_">ClassMix</span>&lt;<span class="hljs-title class_">Cs</span>&gt;&gt;&gt; {</span>
<span class="code-block-extension-codeLine" data-line-num="11">  <span class="hljs-keyword">class</span> <span class="hljs-title class_">mixed</span> {};</span>
<span class="code-block-extension-codeLine" data-line-num="12">  <span class="hljs-keyword">return</span> mixed <span class="hljs-keyword">as</span> <span class="hljs-title class_">Class</span>&lt;<span class="hljs-built_in">void</span>[], <span class="hljs-title class_">TypeJoin</span>&lt;<span class="hljs-title class_">ClassMix</span>&lt;<span class="hljs-title class_">Cs</span>&gt;&gt;&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="13">}</span>
<span class="code-block-extension-codeLine" data-line-num="14"></span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-comment">// ä½¿ç”¨æ–¹å¼ï¼š å®šä¹‰å¤šä¸ªåŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹class</span></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Mix</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="17">  bar = <span class="hljs-string">'123'</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="18">  <span class="hljs-title function_">getName</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>: Foo</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="19">    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="20">  }</span>
<span class="code-block-extension-codeLine" data-line-num="21">}</span>
<span class="code-block-extension-codeLine" data-line-num="22"></span>
<span class="code-block-extension-codeLine" data-line-num="23"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Mix2</span>  {</span>
<span class="code-block-extension-codeLine" data-line-num="24">  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>: Foo</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="25">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">foo</span>);</span>
<span class="code-block-extension-codeLine" data-line-num="26">  }</span>
<span class="code-block-extension-codeLine" data-line-num="27">}</span>
<span class="code-block-extension-codeLine" data-line-num="28"></span>
<span class="code-block-extension-codeLine" data-line-num="29"><span class="hljs-comment">// ä¸šåŠ¡ä½¿ç”¨æ–¹extendsåˆå¹¶åçš„Classåšå®ä¾‹åŒ–ï¼Œå…¶å®å®ç°ä¸Šè¿˜æ˜¯mixinæ‹“å±•äº†åŸç±»çš„prototypeï¼Œç±»ä¼¼ä¸Šé¢æ³¨é‡Šæ‰çš„mixinï¼Œè¿™é‡Œèšç„¦åœ¨ç±»å‹çš„å®ç°ä¸Š</span></span>
<span class="code-block-extension-codeLine" data-line-num="30"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">extendsMultiple</span>(<span class="hljs-title class_">Mix</span>, <span class="hljs-title class_">Mix2</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="31">  foo = <span class="hljs-string">'FOO'</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="32">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> a: <span class="hljs-built_in">string</span></span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="33">    <span class="hljs-variable language_">super</span>();</span>
<span class="code-block-extension-codeLine" data-line-num="34">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo</span> = a;</span>
<span class="code-block-extension-codeLine" data-line-num="35">  }</span>
<span class="code-block-extension-codeLine" data-line-num="36">}</span>
<span class="code-block-extension-codeLine" data-line-num="37"></span>
<span class="code-block-extension-codeLine" data-line-num="38"><span class="hljs-keyword">const</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(<span class="hljs-string">'123'</span>);</span>
<span class="code-block-extension-codeLine" data-line-num="39"><span class="hljs-comment">// ç°åœ¨aä¸Šæœ‰äº†Mixå’ŒMix2åŒæ–¹çš„æ–¹æ³•å’Œå±æ€§</span></span>
<span class="code-block-extension-codeLine" data-line-num="40">a.<span class="hljs-property">bar</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="41">a.<span class="hljs-property">foo</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="42">a.<span class="hljs-title function_">getName</span>();</span>
<span class="code-block-extension-codeLine" data-line-num="43">a.<span class="hljs-title function_">sayHello</span>();</span>
</code></pre>
  <p>è¿™åœ¨å½“æ—¶ï¼ŒçœŸçš„ç»™æˆ‘ä¸€å¤©æˆ‘ä¹Ÿæƒ³ä¸å‡ºæ¥è¿™ä¸ªèŠ±æ´»ã€‚ã€‚ã€‚æ‰€ä»¥æˆ‘å»é‡å­¦äº†tsã€‚ã€‚ã€‚</p>
  <h1 data-id="heading-1">èµ„æ–™</h1>
  <ul>
    <li>åŸºç¡€ï¼š
      <ul>
        <li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Fintro.html" target="_blank" title="https://www.typescriptlang.org/docs/handbook/intro.html" ref="nofollow noopener noreferrer">www.typescriptlang.org/docs/handboâ€¦</a>ï¼Œæ¨èç›´æ¥é€šè¯»å®˜æ–¹æ–‡æ¡£ï¼Œå…¶ä»–å„ç§å¼€å‘è€…äºŒæ¬¡åˆ†äº«çš„æ–‡æ¡£ä¹Ÿéƒ½æœ‰å®˜ç½‘çŸ¥è¯†ç‚¹çš„å½±å­ã€‚</li>
        <li>TSå†…ç½®çš„ä¸€äº›å·¥å…·ç±»å‹
          <ul>
            <li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Futility-types.html" target="_blank" title="https://www.typescriptlang.org/docs/handbook/utility-types.html" ref="nofollow noopener noreferrer">Utility Types</a></li>
            <li>å·¥å…·ç±»å‹çš„å†…éƒ¨å®ç°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Froblox-ts.com%2Fdocs%2Fapi%2Futility-types%2F%23omitthisparametert" target="_blank" title="https://roblox-ts.com/docs/api/utility-types/#omitthisparametert" ref="nofollow noopener noreferrer">roblox-ts.com/docs/api/utâ€¦</a></li>
          </ul>
        </li>
        <li>this: <a href="https://link.juejin.cn?target=https%3A%2F%2Ffettblog.eu%2Fthis-in-javascript-and-typescript%2F" target="_blank" title="https://fettblog.eu/this-in-javascript-and-typescript/" ref="nofollow noopener noreferrer">fettblog.eu/this-in-javâ€¦</a></li>
      </ul>
    </li>
    <li>è§£æå’Œæ€æƒ³ï¼š
      <ul>
        <li><a href="https://juejin.cn/post/7132490947320872974" target="_blank" title="https://juejin.cn/post/7132490947320872974">Typescript ç±»å‹ç¼–ç¨‹ï¼Œä»å…¥é—¨åˆ°å¿µå¤´é€šè¾¾ğŸ˜‡</a></li>
        <li><a href="https://juejin.cn/post/6844903904140853255" target="_blank" title="https://juejin.cn/post/6844903904140853255">TypeScriptä¸­é«˜çº§åº”ç”¨ä¸æœ€ä½³å®è·µ</a></li>
      </ul>
    </li>
    <li>ts ä½“æ“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftype-challenges%2Ftype-challenges%2Fblob%2Fmain%2FREADME.zh-CN.md%25EF%25BC%258C%25E5%2588%25B7%25E9%25A2%2598%25E5%2590%25A7%25EF%25BC%258C%25E5%25B0%2591%25E5%25B9%25B4%25EF%25BD%259E" target="_blank" title="https://github.com/type-challenges/type-challenges/blob/main/README.zh-CN.md%EF%BC%8C%E5%88%B7%E9%A2%98%E5%90%A7%EF%BC%8C%E5%B0%91%E5%B9%B4%EF%BD%9E" ref="nofollow noopener noreferrer">github.com/type-challeâ€¦</a></li>
  </ul>
  <h1 data-id="heading-2">ğŸ˜ƒæœ‰ç”¨çš„</h1>
  <h2 data-id="heading-3">åŸºç¡€</h2>
  <h3 data-id="heading-4">ğŸ§ç±»å‹å…³ç³»</h3>
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b639e1765924e39a439b87831966c5d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image">
    ä¸€å›¾å±•ç¤ºé¡¶éƒ¨ç±»å‹ã€åº•éƒ¨ç±»å‹ã€‚</p>
  <p>ç±»å‹ä¹‹é—´çš„å¹¶é›†ï¼ˆ<code>|</code>ï¼‰ä¼šå‘ä¸Šå–é¡¶éƒ¨çš„ç±»å‹ã€‚å³<code>never | 'a' =&gt; 'a'</code>ï¼Œ<code>unknown | 'a' =&gt; 'unknown'</code>
    ç±»å‹ä¹‹é—´çš„äº¤é›†ï¼ˆ<code>&amp;</code>ï¼‰ä¼šå‘ä¸‹å–åº•éƒ¨çš„ç±»å‹ã€‚å³<code>never &amp; 'a' = never</code>ï¼Œ<code>unknown &amp; 'a' =&gt; 'a'</code></p>
  <ul>
    <li>bottom Type: never</li>
    <li>top type: unknown</li>
    <li>æ—¢æ˜¯topä¹Ÿæ˜¯bottom: any</li>
  </ul>
  <h3 data-id="heading-5">never</h3>
  <p><strong>æ˜¯å…¶ä»–ä»»æ„ç±»å‹çš„å­ç±»å‹çš„ç±»å‹è¢«ç§°ä¸ºåº•éƒ¨ç±»å‹(bottom type)ã€‚</strong></p>
  <p>åœ¨ TypeScript ä¸­ï¼Œnever ç±»å‹ä¾¿ä¸ºç©ºç±»å‹å’Œåº•éƒ¨ç±»å‹ã€‚never ç±»å‹çš„å˜é‡æ— æ³•è¢«èµ‹å€¼ï¼Œä¸å…¶ä»–ç±»å‹æ±‚äº¤é›†ä¸ºè‡ªèº«ï¼Œæ±‚å¹¶é›†ä¸å‚ä¸è¿ç®—ã€‚</p>
  <h4 data-id="heading-6">åº”ç”¨ä¸€: è”åˆç±»å‹ä¸­çš„è¿‡æ»¤</h4>
  <p><strong>neveråœ¨è”åˆç±»å‹ä¸­ä¼šè¢«è¿‡æ»¤æ‰ï¼š</strong></p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Exclude</span>&lt;T, U&gt; = T <span class="hljs-keyword">extends</span> U ? <span class="hljs-built_in">never</span> : T;</span>
<span class="code-block-extension-codeLine" data-line-num="2"></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-comment">// ç›¸å½“äº: type A = 'a'</span></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> A = <span class="hljs-title class_">Exclude</span>&lt;<span class="hljs-string">'x'</span> | <span class="hljs-string">'a'</span>, <span class="hljs-string">'x'</span> | <span class="hljs-string">'y'</span> | <span class="hljs-string">'z'</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6">T | <span class="hljs-built_in">never</span> <span class="hljs-comment">// ç»“æœä¸ºT</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">T &amp; <span class="hljs-built_in">never</span> <span class="hljs-comment">// ç»“æœä¸ºnever</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
</code></pre>
  <p>å–ä¸€ä¸ªæ˜ å°„ç±»å‹ä¸­æ‰€æœ‰valueä¸ºæŒ‡å®šç±»å‹çš„keyã€‚ä¾‹å¦‚ï¼Œå·²çŸ¥æŸä¸ªReactç»„ä»¶çš„propsç±»å‹ï¼Œæˆ‘éœ€è¦â€œçŸ¥é“â€ï¼ˆç¼–ç¨‹æ„ä¹‰ä¸Šï¼‰å“ªäº›å‚æ•°æ˜¯functionç±»å‹ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">SomeProps</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">    <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">    <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">    <span class="hljs-attr">c</span>: <span class="hljs-function">(<span class="hljs-params">e: MouseEvent</span>) =&gt;</span> <span class="hljs-built_in">void</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">    <span class="hljs-attr">d</span>: <span class="hljs-function">(<span class="hljs-params">e: TouchEvent</span>) =&gt;</span> <span class="hljs-built_in">void</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-comment">// å¦‚ä½•å¾—åˆ° 'c' | 'd' ï¼Ÿ </span></span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">type</span> <span class="hljs-title class_">GetKeyByValueType</span>&lt;T, <span class="hljs-title class_">Condition</span>&gt; = {</span>
<span class="code-block-extension-codeLine" data-line-num="10">    [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Condition</span> ? K : <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">} [keyof T];</span>
<span class="code-block-extension-codeLine" data-line-num="12"></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FunctionPropNames</span> =  <span class="hljs-title class_">GetKeyByValueType</span>&lt;<span class="hljs-title class_">SomeProps</span>, <span class="hljs-title class_">Function</span>&gt;;    <span class="hljs-comment">// 'c' | 'd'</span></span>
<span class="code-block-extension-codeLine" data-line-num="14"></span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
</code></pre>
  <p>è¿ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// å¼€å§‹</span></span>
<span class="code-block-extension-codeLine" data-line-num="2">{</span>
<span class="code-block-extension-codeLine" data-line-num="3">    <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">    <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">    <span class="hljs-attr">c</span>: <span class="hljs-function">(<span class="hljs-params">e: MouseEvent</span>) =&gt;</span> <span class="hljs-built_in">void</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="hljs-attr">d</span>: <span class="hljs-function">(<span class="hljs-params">e: TouchEvent</span>) =&gt;</span> <span class="hljs-built_in">void</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">}</span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼Œæ¡ä»¶æ˜ å°„</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">{</span>
<span class="code-block-extension-codeLine" data-line-num="10">    <span class="hljs-attr">a</span>: <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">    <span class="hljs-attr">b</span>: <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="12">    <span class="hljs-attr">c</span>: <span class="hljs-string">'c'</span></span>
<span class="code-block-extension-codeLine" data-line-num="13">    <span class="hljs-attr">d</span>: <span class="hljs-string">'d'</span></span>
<span class="code-block-extension-codeLine" data-line-num="14">}</span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼Œç´¢å¼•å–å€¼</span></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-built_in">never</span> | <span class="hljs-built_in">never</span> | <span class="hljs-string">'c'</span> | <span class="hljs-string">'d'</span></span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-comment">// neverçš„æ€§è´¨</span></span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-string">'c'</span> | <span class="hljs-string">'d'</span></span>
</code></pre>
  <h4 data-id="heading-7">åº”ç”¨äºŒï¼šé˜²å¾¡æ€§ç¼–ç¨‹</h4>
  <p>ä¸¾ä¸ªå…·ä½“ç‚¹çš„ä¾‹å­ï¼Œå½“ä½ æœ‰ä¸€ä¸ª union type:</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Foo</span> {   <span class="hljs-attr">type</span>: <span class="hljs-string">'foo'</span> } </span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Bar</span> {   <span class="hljs-attr">type</span>: <span class="hljs-string">'bar'</span> } </span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">type</span> <span class="hljs-title class_">All</span> = <span class="hljs-title class_">Foo</span> | <span class="hljs-title class_">Bar</span></span>
</code></pre>
  <p>åœ¨ switch å½“ä¸­åˆ¤æ–­ typeï¼ŒTS æ˜¯å¯ä»¥æ”¶çª„ç±»å‹çš„ (discriminated union)ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleValue</span>(<span class="hljs-params">val: All</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-keyword">switch</span> (val.<span class="hljs-property">type</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="3">    <span class="hljs-keyword">case</span> <span class="hljs-string">'foo'</span>:</span>
<span class="code-block-extension-codeLine" data-line-num="4">      <span class="hljs-comment">// è¿™é‡Œ val è¢«æ”¶çª„ä¸º Foo</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">      <span class="hljs-keyword">break</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="hljs-keyword">case</span> <span class="hljs-string">'bar'</span>:</span>
<span class="code-block-extension-codeLine" data-line-num="7">      <span class="hljs-comment">// val åœ¨è¿™é‡Œæ˜¯ Bar</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">      <span class="hljs-keyword">break</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">    <span class="hljs-attr">default</span>:</span>
<span class="code-block-extension-codeLine" data-line-num="10">      <span class="hljs-comment">// val åœ¨è¿™é‡Œæ˜¯ never</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">      <span class="hljs-keyword">const</span> <span class="hljs-attr">exhaustiveCheck</span>: <span class="hljs-built_in">never</span> = val</span>
<span class="code-block-extension-codeLine" data-line-num="12">      <span class="hljs-keyword">break</span></span>
<span class="code-block-extension-codeLine" data-line-num="13">  }</span>
<span class="code-block-extension-codeLine" data-line-num="14">}</span>
</code></pre>
  <p>æ³¨æ„åœ¨ default é‡Œé¢æˆ‘ä»¬æŠŠè¢«æ”¶çª„ä¸º never çš„ val èµ‹å€¼ç»™ä¸€ä¸ªæ˜¾å¼å£°æ˜ä¸º never çš„å˜é‡ã€‚å¦‚æœä¸€åˆ‡é€»è¾‘æ­£ç¡®ï¼Œé‚£ä¹ˆè¿™é‡Œåº”è¯¥èƒ½å¤Ÿç¼–è¯‘é€šè¿‡ã€‚ä½†æ˜¯å‡å¦‚åæ¥æœ‰ä¸€å¤©ä½ çš„åŒäº‹æ”¹äº† All çš„ç±»å‹ï¼š</p>
  <p><code>type All = Foo | Bar | Baz</code></p>
  <p>ç„¶è€Œä»–å¿˜è®°äº†åœ¨ handleValue é‡Œé¢åŠ ä¸Šé’ˆå¯¹ Baz çš„å¤„ç†é€»è¾‘ï¼Œè¿™ä¸ªæ—¶å€™åœ¨ default branch é‡Œé¢ val ä¼šè¢«æ”¶çª„ä¸º Bazï¼Œå¯¼è‡´æ— æ³•èµ‹å€¼ç»™ neverï¼Œäº§ç”Ÿä¸€ä¸ªç¼–è¯‘é”™è¯¯ã€‚æ‰€ä»¥é€šè¿‡è¿™ä¸ªåŠæ³•ï¼Œä½ å¯ä»¥ç¡®ä¿ handleValue æ€»æ˜¯ç©·å°½ (exhaust) äº†æ‰€æœ‰ All çš„å¯èƒ½ç±»å‹ã€‚</p>
  <h3 data-id="heading-8">unknown</h3>
  <p>unknownæŒ‡çš„æ˜¯<strong>ä¸å¯é¢„å…ˆå®šä¹‰çš„ç±»å‹</strong>ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œå®ƒå¯ä»¥æ›¿ä»£anyçš„åŠŸèƒ½åŒæ—¶ä¿ç•™é™æ€æ£€æŸ¥çš„èƒ½åŠ›ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">const</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">10</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2">(num <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>);          <span class="hljs-comment">// æ³¨æ„ï¼Œè¿™é‡Œå’Œanyä¸€æ ·å®Œå…¨å¯ä»¥é€šè¿‡é™æ€æ£€æŸ¥</span></span>
</code></pre>
  <p>è¿™ä¸ªæ—¶å€™unknownçš„ä½œç”¨å°±è·Ÿanyé«˜åº¦ç±»ä¼¼äº†ï¼Œä½ å¯ä»¥æŠŠå®ƒè½¬åŒ–æˆä»»ä½•ç±»å‹ï¼Œä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œåœ¨é™æ€ç¼–è¯‘çš„æ—¶å€™ï¼Œunknownä¸èƒ½è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼Œè€Œanyå¯ä»¥ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">const</span> <span class="hljs-attr">foo</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-string">'string'</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2">foo.<span class="hljs-title function_">substr</span>(<span class="hljs-number">1</span>);           <span class="hljs-comment">// Error: é™æ€æ£€æŸ¥ä¸é€šè¿‡æŠ¥é”™</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">const</span> <span class="hljs-attr">bar</span>: <span class="hljs-built_in">any</span> = <span class="hljs-number">10</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">bar.<span class="hljs-title function_">substr</span>(<span class="hljs-number">1</span>); </span>
</code></pre>
  <p>unknownçš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯ï¼Œé¿å…ä½¿ç”¨anyä½œä¸ºå‡½æ•°çš„å‚æ•°ç±»å‹è€Œå¯¼è‡´çš„é™æ€ç±»å‹æ£€æŸ¥bugï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">input: <span class="hljs-built_in">unknown</span></span>): <span class="hljs-built_in">number</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(input)) {</span>
<span class="code-block-extension-codeLine" data-line-num="3">    <span class="hljs-keyword">return</span> input.<span class="hljs-property">length</span>;    <span class="hljs-comment">// Pass: è¿™ä¸ªä»£ç å—ä¸­ï¼Œç±»å‹å®ˆå«å·²ç»å°†inputè¯†åˆ«ä¸ºarrayç±»å‹</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">  }</span>
<span class="code-block-extension-codeLine" data-line-num="5">  <span class="hljs-keyword">return</span> input.<span class="hljs-property">length</span>;      <span class="hljs-comment">// Error: è¿™é‡Œçš„inputè¿˜æ˜¯unknownç±»å‹ï¼Œé™æ€æ£€æŸ¥æŠ¥é”™ã€‚å¦‚æœå…¥å‚æ˜¯anyï¼Œåˆ™ä¼šæ”¾å¼ƒæ£€æŸ¥ç›´æ¥æˆåŠŸï¼Œå¸¦æ¥æŠ¥é”™é£é™©</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
</code></pre>
  <p>æˆ‘ä»¬åœ¨ä¸€äº›æ— æ³•ç¡®å®šå‡½æ•°å‚æ•°ï¼ˆè¿”å›å€¼ï¼‰ç±»å‹ä¸­ unknown ä½¿ç”¨çš„åœºæ™¯éå¸¸å¤š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// åœ¨ä¸ç¡®å®šå‡½æ•°å‚æ•°çš„ç±»å‹æ—¶</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">// å°†å‡½æ•°çš„å‚æ•°å£°æ˜ä¸ºunknownç±»å‹è€Œéany</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-comment">// TSåŒæ ·ä¼šå¯¹äºunknownè¿›è¡Œç±»å‹æ£€æµ‹ï¼Œè€Œanyå°±ä¸ä¼š</span></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">function</span> <span class="hljs-title function_">resultValueBySome</span>(<span class="hljs-params">val:<span class="hljs-built_in">unknown</span></span>) { </span>
<span class="code-block-extension-codeLine" data-line-num="5">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> val === <span class="hljs-string">'string'</span>) {  </span>
<span class="code-block-extension-codeLine" data-line-num="6">    <span class="hljs-comment">// æ­¤æ—¶ val æ˜¯stringç±»å‹   </span></span>
<span class="code-block-extension-codeLine" data-line-num="7">    <span class="hljs-comment">// do someThing </span></span>
<span class="code-block-extension-codeLine" data-line-num="8">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> val === <span class="hljs-string">'number'</span>) { </span>
<span class="code-block-extension-codeLine" data-line-num="9">    <span class="hljs-comment">// æ­¤æ—¶ val æ˜¯numberç±»å‹   </span></span>
<span class="code-block-extension-codeLine" data-line-num="10">    <span class="hljs-comment">// do someThing  </span></span>
<span class="code-block-extension-codeLine" data-line-num="11">  } </span>
<span class="code-block-extension-codeLine" data-line-num="12">  <span class="hljs-comment">// ...</span></span>
<span class="code-block-extension-codeLine" data-line-num="13">}</span>
</code></pre>
  <h3 data-id="heading-9">è”åˆç±»å‹</h3>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> A&lt;T&gt; = T <span class="hljs-keyword">extends</span> { <span class="hljs-attr">a</span>: infer U, <span class="hljs-attr">b</span>: infer U } ? U : <span class="hljs-built_in">any</span>; </span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Foo</span> = A&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }&gt; <span class="hljs-comment">// type Foo = string | number</span></span>
</code></pre>
  <p>å£°æ˜å¤šä¸ªåŒå ç±»å‹å˜é‡ ä¹Ÿä¼šè¢«æ¨æ–­ä¸ºè”åˆç±»å‹</p>
  <h3 data-id="heading-10">å‡½æ•°ç±»å‹</h3>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FnType</span> = <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">number</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="4">  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">}</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">const</span> fn = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>): <span class="hljs-built_in">number</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="8">  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">}</span>
<span class="code-block-extension-codeLine" data-line-num="10"></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">const</span> fn = (): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="12">  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span></span>
<span class="code-block-extension-codeLine" data-line-num="13">}</span>
<span class="code-block-extension-codeLine" data-line-num="14"></span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-keyword">const</span> obj = {</span>
<span class="code-block-extension-codeLine" data-line-num="16">  fn (): <span class="hljs-built_in">number</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="17">    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span></span>
<span class="code-block-extension-codeLine" data-line-num="18">  }</span>
<span class="code-block-extension-codeLine" data-line-num="19">}</span>
<span class="code-block-extension-codeLine" data-line-num="20"></span>
</code></pre>
  <p>å‡½æ•°çš„ç±»å‹å£°æ˜æ ¼å¼å¾ˆå¤šæ ·ï¼Œè®°ä½æ˜¯åœ¨ () åé¢æ·»åŠ è¿”å›å€¼ç±»å‹å³å¯ã€‚</p>
  <p><strong>é‡è½½ç­¾åçš„ç±»å‹ä¸ä¼šåˆå¹¶ï¼š</strong></p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// é‡è½½ç­¾åï¼ˆå‡½æ•°ç±»å‹å®šä¹‰ï¼‰</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">function</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params">x: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">function</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">// å®ç°ç­¾åï¼ˆå‡½æ•°ä½“å…·ä½“å®ç°ï¼‰</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">function</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params">x: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>(x)</span>
<span class="code-block-extension-codeLine" data-line-num="8">}</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">function</span> <span class="hljs-title function_">stringOrNumber</span>(<span class="hljs-params">x</span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="11">  <span class="hljs-keyword">return</span> x ? <span class="hljs-string">''</span> : <span class="hljs-number">0</span></span>
<span class="code-block-extension-codeLine" data-line-num="12">}</span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-comment">// input æ˜¯ string å’Œ number çš„è”åˆç±»å‹</span></span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-comment">// å³ string | number</span></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">const</span> input = <span class="hljs-title function_">stringOrNumber</span>(<span class="hljs-number">1</span>)</span>
<span class="code-block-extension-codeLine" data-line-num="17"></span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-title function_">toString</span>(<span class="hljs-string">'hello'</span>) <span class="hljs-comment">// ok</span></span>
<span class="code-block-extension-codeLine" data-line-num="19"><span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>) <span class="hljs-comment">// ok</span></span>
<span class="code-block-extension-codeLine" data-line-num="20"><span class="hljs-title function_">toString</span>(input) <span class="hljs-comment">// error</span></span>
</code></pre>
  <p>é“¾å¼çš„å‡½æ•°å¯ä»¥åœ¨è¿”å›å‡½æ•°ä¸­å†æ·»åŠ èŒƒå‹</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Join</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>[], U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>, <span class="hljs-title class_">Acc</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>&gt; = </span>
<span class="code-block-extension-codeLine" data-line-num="2">T <span class="hljs-keyword">extends</span> [infer <span class="hljs-title class_">First</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>, ...infer <span class="hljs-title class_">Rest</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>[]]</span>
<span class="code-block-extension-codeLine" data-line-num="3">? <span class="hljs-title class_">Rest</span> <span class="hljs-keyword">extends</span> []</span>
<span class="code-block-extension-codeLine" data-line-num="4">  ? <span class="hljs-string">`<span class="hljs-subst">${Acc}</span><span class="hljs-subst">${First}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">  : <span class="hljs-title class_">Join</span>&lt;<span class="hljs-title class_">Rest</span>, U,<span class="hljs-string">`<span class="hljs-subst">${Acc}</span><span class="hljs-subst">${First}</span><span class="hljs-subst">${U}</span>`</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="6">: <span class="hljs-title class_">Acc</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> join&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt;(<span class="hljs-attr">delimiter</span>: T): &lt;S <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>[]&gt;<span class="hljs-function">(<span class="hljs-params">...parts: S</span>) =&gt;</span> <span class="hljs-title class_">Join</span>&lt;S, T&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> hyphenJoiner = <span class="hljs-title function_">join</span>(<span class="hljs-string">'-'</span>)</span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">hyphenJoiner</span>(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>); <span class="hljs-comment">// = 'a-b-c'</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-title function_">join</span>(<span class="hljs-string">'#'</span>)(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>) <span class="hljs-comment">// = 'a#b#c'</span></span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
</code></pre>
  <h3 data-id="heading-11">ğŸ§æ³›å‹</h3>
  <p>é™¤äº†ä¼ å…¥çš„èŒƒå‹ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ä¼ å…¥çš„èŒƒå‹ç»„åˆæ–°çš„èŒƒå‹ï¼Œå°±ç±»ä¼¼åƒæ˜¯å¯¹ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œåˆ©ç”¨å‡½æ•°å‚æ•°çš„è¿ç®—ï¼Œç»„åˆäº†ä¸€ä¸ªæ–°çš„åœ¨å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡ã€‚</p>
  <p>ä¸¾ä¾‹ï¼š Overwrite&lt;T, U&gt;ä»Uä¸­çš„åŒåå±æ€§çš„ç±»å‹è¦†ç›–Tä¸­çš„åŒåå±æ€§ç±»å‹ã€‚(åè€…ä¸­çš„åŒåå±æ€§è¦†ç›–å‰è€…)</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"> * Overwriteå®ç°</span>
<span class="code-block-extension-codeLine" data-line-num="3"> * è·å–å‰è€…ç‹¬æœ‰çš„keyå’Œç±»å‹ï¼Œå†å–ä¸¤è€…å…±æœ‰çš„keyå’Œè¯¥keyåœ¨åè€…ä¸­çš„ç±»å‹ï¼Œæœ€ååˆå¹¶ã€‚</span>
<span class="code-block-extension-codeLine" data-line-num="4"> */</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">// ä»Tä¸­æå–å­˜åœ¨äºUä¸­çš„keyå’Œå¯¹åº”çš„ç±»å‹</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Intersection</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;T,</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-title class_">Extract</span>&lt;keyof T, keyof U&gt; &amp; <span class="hljs-title class_">Extract</span>&lt;keyof U, keyof T&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="8">&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-comment">// ä»Tä¸­æ’é™¤å­˜åœ¨äºUä¸­çš„keyå’Œç±»å‹</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Diff</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="12">  T,</span>
<span class="code-block-extension-codeLine" data-line-num="13">  <span class="hljs-title class_">Exclude</span>&lt;keyof T, keyof U&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="14">&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Overwrite</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="17">  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="18">  U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="19">  I = <span class="hljs-title class_">Diff</span>&lt;T, U&gt; &amp; <span class="hljs-title class_">Intersection</span>&lt;U, T&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="20">&gt; = <span class="hljs-title class_">Pick</span>&lt;I, keyof I&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="21"></span>
<span class="code-block-extension-codeLine" data-line-num="22"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="23"> * <span class="hljs-doctag">@example</span></span>
<span class="code-block-extension-codeLine" data-line-num="24"> * type Eg = { key1: string; other: boolean }</span>
<span class="code-block-extension-codeLine" data-line-num="25"> */</span>
<span class="code-block-extension-codeLine" data-line-num="26"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Eg</span> = <span class="hljs-title class_">Overwrite</span>&lt;{<span class="hljs-attr">key1</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">other</span>: <span class="hljs-built_in">boolean</span>}, {<span class="hljs-attr">key1</span>: <span class="hljs-built_in">string</span>}&gt;</span>
</code></pre>
  <h2 data-id="heading-12">ğŸ§extends æ¡ä»¶è¯­å¥</h2>
  <p>è¿™æ˜¯ç±»å‹æ¨å¯¼ç»•ä¸å¼€çš„å·¥å…·ï¼Œå› ä¸ºæˆ‘ä¸€å¼€å§‹å°±æ¯”è¾ƒç†Ÿæ‚‰è¿™ä¸ªï¼Œä¸è´´èµ„æ–™äº†ã€‚</p>
  <h2 data-id="heading-13">ğŸ§infer</h2>
  <p>åŸºç¡€æ¦‚å¿µçœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2F2%2Fconditional-types.html%23inferring-within-conditional-types" target="_blank" title="https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#inferring-within-conditional-types" ref="nofollow noopener noreferrer">æ–‡æ¡£</a>ã€‚inferä¸€å®šç”¨åœ¨extendsè¯­å¥åè¡¨ç¤ºå¾…æ¨æ–­çš„ç±»å‹ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œç†è§£ä¸€ä¸‹inferä¸ä»…å¯ä»¥ä½œä¸ºå‡½æ•°å…¥å‚å‡ºå‚çš„æ¨æ–­ç±»å‹ï¼Œå¯ä»¥åœ¨ä»»æ„åœ°æ–¹æˆä¸ºæ¨æ–­ç±»å‹ï¼Œè­¬å¦‚æ•°ç»„ã€å­—ç¬¦ä¸²å†…éƒ¨ã€‚
    <strong>extends å’Œ inferæ˜¯èµ°å…¥ç±»å‹æ¨æ–­é«˜é˜¶tsçš„åŸºçŸ³ï¼Œæ˜¯æœ€å¸¸ç”¨çš„å·¥å…·ã€‚</strong>
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a66e2ed2fde4a088bc41c94770b2cbf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <h2 data-id="heading-14">ğŸ§é€’å½’</h2>
  <p>æ•°ç»„å’Œå­—ç¬¦ä¸²éƒ½æœ‰è‡ªå·±çš„é€’å½’æ–¹æ³•ã€‚è¯¦ç»†å¯æŸ¥é˜…æ–‡æ¡£ã€‚</p>
  <h3 data-id="heading-15">æ•°ç»„</h3>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">LoopArr</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]&gt; = T <span class="hljs-keyword">extends</span> [infer P, ...infer R]</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">// can do something with P</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">? [P, ...<span class="hljs-title class_">LoopArr</span>&lt;R&gt;]</span>
<span class="code-block-extension-codeLine" data-line-num="4">: [];</span>
</code></pre>
  <p><em>è¯¥exampleæ²¡æœ‰ä»»ä½•å®é™…æ„ä¹‰ï¼Œä»…ä»…å±•ç¤ºä¸€ä¸‹é€’å½’çš„æ–¹å¼</em></p>
  <p>å¦‚æœæ²¡æœ‰æŒ‡å®šç‰¹å®šçš„å­åºåˆ—ï¼ŒPæ˜¯æ¯æ¬¡éƒ½æ˜¯æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œè¾¾åˆ°é€é¡¹éå†ï¼Œä½ ä¹Ÿå¯ä»¥ç»™æŒ‡å®šä¸€ä¸ªå­åºåˆ—ï¼Œä»æŸä¸€éƒ¨åˆ†å¼€å§‹éå†ï¼Œè­¬å¦‚<code> T extends [ 2, 3 , infer P, ...infer R]</code></p>
  <h3 data-id="heading-16">å­—ç¬¦ä¸²</h3>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">LoopStr</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer P}</span><span class="hljs-subst">${infer R}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">// can do something with P</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">? <span class="hljs-string">`<span class="hljs-subst">${P}</span><span class="hljs-subst">${LoopStr&lt;R&gt;}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">: <span class="hljs-string">''</span>;</span>
</code></pre>
  <p><em>è¯¥exampleæ²¡æœ‰ä»»ä½•å®é™…æ„ä¹‰ï¼Œä»…ä»…å±•ç¤ºä¸€ä¸‹é€’å½’çš„æ–¹å¼</em></p>
  <p>å¦‚æœæ²¡æœ‰æŒ‡å®šç‰¹å®šçš„å­å­—ç¬¦åºåˆ—ï¼ŒPæ˜¯æ¯æ¬¡éƒ½æ˜¯å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œè¾¾åˆ°é€é¡¹éå†ï¼Œä½ ä¹Ÿå¯ä»¥ç»™æŒ‡å®šä¸€ä¸ªå­åºåˆ—ï¼Œä»æŸä¸€éƒ¨åˆ†å¼€å§‹éå†ï¼Œè­¬å¦‚<code>T extends</code>ABC<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mi>e</mi><mi>r</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">{infer P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></span></span>{infer R}``</p>
  <h2 data-id="heading-17">ç±»</h2>
  <p>åˆå­¦è€…ä¸€å®šå¯¹classè¿™ç§ç±»å‹æ„Ÿåˆ°å›°æƒ‘ï¼Œå› ä¸ºä»–ä»¬æœ‰æ—¶å€™ä»£è¡¨ç±»çš„å®ä¾‹ç±»å‹ï¼Œæœ‰æ—¶å€™ä»£è¡¨æ„é€ å™¨æ–¹æ³•ç±»å‹</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"> * å®šä¹‰ä¸€ä¸ªç±»</span>
<span class="code-block-extension-codeLine" data-line-num="3"> */</span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="5">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {}</span>
<span class="code-block-extension-codeLine" data-line-num="8">}</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-comment">// p1å¯ä»¥æ­£å¸¸èµ‹å€¼</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">const</span> <span class="hljs-attr">p1</span>: <span class="hljs-title class_">People</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>();</span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-comment">// ç­‰å·åé¢çš„PeopleæŠ¥é”™ï¼Œç±»å‹â€œtypeof Peopleâ€ç¼ºå°‘ç±»å‹â€œPeopleâ€ä¸­çš„ä»¥ä¸‹å±æ€§: name, age</span></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-keyword">const</span> <span class="hljs-attr">p2</span>: <span class="hljs-title class_">People</span> = <span class="hljs-title class_">People</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="14"></span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-comment">// p3æŠ¥é”™ï¼Œç±»å‹ "People" ä¸­ç¼ºå°‘å±æ€§ "prototype"ï¼Œä½†ç±»å‹ "typeof People" ä¸­éœ€è¦è¯¥å±æ€§</span></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">const</span> <span class="hljs-attr">p3</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">People</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>();</span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-comment">// p4å¯ä»¥æ­£å¸¸èµ‹å€¼</span></span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-keyword">const</span> <span class="hljs-attr">p4</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">People</span> = <span class="hljs-title class_">People</span>;</span>
</code></pre>
  <p>ç»“è®ºæ˜¯è¿™æ ·çš„ï¼š</p>
  <ul>
    <li>
      <p>å½“æŠŠç±»ç›´æ¥ä½œä¸ºç±»å‹æ—¶ï¼Œè¯¥ç±»å‹çº¦æŸçš„æ˜¯è¯¥ç±»å‹å¿…é¡»æ˜¯ç±»çš„å®ä¾‹ï¼›å³è¯¥ç±»å‹è·å–çš„æ˜¯è¯¥ç±»ä¸Šçš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ï¼ˆä¹Ÿå«åŸå‹æ–¹æ³•ï¼‰ï¼›</p>
    </li>
    <li>
      <p>å½“æŠŠtypeof ç±»ä½œä¸ºç±»å‹æ—¶ï¼Œçº¦æŸçš„æ»¡è¶³è¯¥ç±»çš„ç±»å‹ï¼›å³è¯¥ç±»å‹è·å–çš„æ˜¯è¯¥ç±»ä¸Šçš„é™æ€å±æ€§å’Œæ–¹æ³•ã€‚</p>
    </li>
    <li>
      <p>é™æ€å±æ€§å’Œé™æ€æ–¹æ³•çš„ç»§æ‰¿ï¼Œå³å±æ€§å’Œæ–¹æ³•ä¸æ˜¯æŒ‚è½½åˆ°æ„é€ å‡½æ•°çš„prototypeåŸå‹ä¸Šçš„ï¼Œè€Œæ˜¯ç›´æ¥æŒ‚è½½åˆ°æ„é€ å‡½æ•°æœ¬èº«ã€‚</p>
    </li>
    <li>
      <p>new å…³é”®å­—ç”¨åœ¨ç±»å‹ä¸Šï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç±»å‹ã€‚</p>
    </li>
    <li>
      <p>å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå…¶å®å£°æ˜çš„æ˜¯è¿™ä¸ªç±»çš„å®ä¾‹ç±»å‹å’Œé™æ€ç±»å‹ä¸¤ä¸ªç±»å‹ã€‚</p>
    </li>
  </ul>
  <p>è¿™é‡Œæœ‰ä¸€äº›ä¿¡æ¯å’Œjsä¸­åŸå‹é“¾å½¢æˆçš„ç±»çš„ç»§æ‰¿æœ‰ç›¸å…³æ€§</p>
  <ul>
    <li>
      <p><a href="https://juejin.cn/post/6844904021300346887" target="_blank" title="https://juejin.cn/post/6844904021300346887">ã€ŠTypeScripté«˜çº§ç”¨æ³•è¯¦è§£ã€‹</a></p>
    </li>
    <li>
      <p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fquestion%2F34183746" target="_blank" title="https://www.zhihu.com/question/34183746" ref="nofollow noopener noreferrer"> ã€Šjsä¸­__proto__å’Œprototypeçš„åŒºåˆ«å’Œå…³ç³»ï¼Ÿã€‹</a></p>
    </li>
    <li>
      <p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F104565681" target="_blank" title="https://zhuanlan.zhihu.com/p/104565681" ref="nofollow noopener noreferrer"> ã€Šè¯¦è§£Typescripté‡Œçš„Thisã€‹</a></p>
    </li>
    <li>
      <p><a href="https://link.juejin.cn?target=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F60696671%2Ftypescript-extending-this-inside-class" target="_blank" title="https://stackoverflow.com/questions/60696671/typescript-extending-this-inside-class" ref="nofollow noopener noreferrer"> ã€ŠTypescript: extending "this" inside classã€‹</a></p>
    </li>
  </ul>
  <p>è€Œinstanceof çš„å³ä¾§è¦æ±‚æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ŒTypeScript å°†ç»†åŒ–ä¸ºï¼š</p>
  <ul>
    <li>æ­¤æ„é€ å‡½æ•°çš„ prototype å±æ€§çš„ç±»å‹ï¼Œå¦‚æœå®ƒçš„ç±»å‹ä¸ä¸º any çš„è¯</li>
    <li>æ„é€ ç­¾åæ‰€è¿”å›çš„ç±»å‹çš„è”åˆ</li>
  </ul>
  <h2 data-id="heading-18"></h2>
  <h2 data-id="heading-19">ğŸ¤©å¥½ç”¨çš„å°ç‰¹æ€§</h2>
  <h3 data-id="heading-20">name!</h3>
  <p>å¦‚æœä½ æ‰“ç®—é€šè¿‡æ„é€ å‡½æ•°ä»¥å¤–çš„å…¶ä»–æ–¹å¼å»åˆå§‹åŒ–ç±»ä¸­çš„å­—æ®µ (ä¾‹å¦‚ï¼Œä¹Ÿè®¸å¤–éƒ¨åº“ä¸€å®šä¼šå¸®ä½ å¡«å……ç±»çš„ä¸€éƒ¨åˆ†)ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ ç¡®å®šèµ‹å€¼æ–­è¨€è¿ç®—ç¬¦ <code>!</code>ï¼Œå®ƒåªèƒ½è¢«ç”¨åœ¨ä½ ç¡®å®šå®‰å…¨çš„åœ°æ–¹</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">class</span> <span class="hljs-title class_">OKGreeter</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-comment">// Not initialized, but no error</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">  name!: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">}<span class="hljs-title class_">Try</span></span>
</code></pre>
  <h3 data-id="heading-21">Type-only Field Declarations</h3>
  <p>å½“ <code>target &gt;= ES2022</code> æˆ–è€… é…ç½®æ–‡ä»¶é‡Œçš„ <code>useDefineForClassFields</code>æ˜¯ <code>true</code>æ—¶, ç±»å­—æ®µåœ¨çˆ¶ç±»æ„é€ å‡½æ•°å®Œæˆååˆå§‹åŒ–ï¼Œè¦†ç›–çˆ¶ç±»è®¾ç½®çš„ä»»ä½•å€¼ã€‚å½“æ‚¨åªæƒ³ä¸ºç»§æ‰¿çš„å­—æ®µé‡æ–°å£°æ˜æ›´å‡†ç¡®çš„ç±»å‹æ—¶ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚è¦å¤„ç†è¿™äº›æƒ…å†µï¼Œä½ å¯ä»¥å†™ å£°æ˜ å‘TypeScriptæŒ‡ç¤ºæ­¤å­—æ®µå£°æ˜ä¸åº”æœ‰è¿è¡Œæ—¶æ•ˆæœã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">dateOfBirth</span>: <span class="hljs-built_in">any</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">}</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-attr">breed</span>: <span class="hljs-built_in">any</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="7">}</span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AnimalHouse</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="10">  <span class="hljs-attr">resident</span>: <span class="hljs-title class_">Animal</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="11">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">animal: Animal</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="12">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">resident</span> = animal;</span>
<span class="code-block-extension-codeLine" data-line-num="13">  }</span>
<span class="code-block-extension-codeLine" data-line-num="14">}</span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DogHouse</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AnimalHouse</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="17">  <span class="hljs-comment">// Does not emit JavaScript code,</span></span>
<span class="code-block-extension-codeLine" data-line-num="18">  <span class="hljs-comment">// only ensures the types are correct</span></span>
<span class="code-block-extension-codeLine" data-line-num="19">  <span class="hljs-keyword">declare</span> <span class="hljs-attr">resident</span>: <span class="hljs-title class_">Dog</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="20">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">dog: Dog</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="21">    <span class="hljs-variable language_">super</span>(dog);</span>
<span class="code-block-extension-codeLine" data-line-num="22">  }</span>
<span class="code-block-extension-codeLine" data-line-num="23">}<span class="hljs-title class_">Try</span></span>
</code></pre>
  <h3 data-id="heading-22">class constructor parameter properties</h3>
  <p>TypeScriptæä¾›äº†ç‰¹æ®Šçš„è¯­æ³•ï¼Œç”¨äºå°†æ„é€ å‡½æ•°å‚æ•°è½¬æ¢ä¸ºå…·æœ‰ç›¸åŒåç§°å’Œå€¼çš„ç±»å±æ€§ã€‚è¿™äº›å«åš <code>parameter properties</code>  ï¼Œæ˜¯é€šè¿‡åœ¨æ„é€ å‡½æ•°å‚æ•°ä¹‹å‰åŠ ä¸Šå¯è§æ€§ä¿®é¥°ç¬¦ä¹‹ä¸€æ¥åˆ›å»ºçš„ï¼š <code>public</code>, <code>private</code>, <code>protected</code>, <code>readonly</code>ï¼Œè¿™ç§åšæ³•ä»£ç ä¸Šæ¯”è¾ƒç®€æ´ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span></span>
<span class="code-block-extension-codeLine" data-line-num="3">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> x: <span class="hljs-built_in">number</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="4">    <span class="hljs-keyword">protected</span> y: <span class="hljs-built_in">number</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="5">    <span class="hljs-keyword">private</span> z: <span class="hljs-built_in">number</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">  ) {</span>
<span class="code-block-extension-codeLine" data-line-num="7">    <span class="hljs-comment">// No body necessary</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">  }</span>
<span class="code-block-extension-codeLine" data-line-num="9">}</span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">const</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">x</span>);</span>
<span class="code-block-extension-codeLine" data-line-num="12">(property) <span class="hljs-title class_">Params</span>.<span class="hljs-property">x</span>: <span class="hljs-built_in">number</span></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">z</span>);<span class="hljs-title class_">Property</span> <span class="hljs-string">'z'</span> is <span class="hljs-keyword">private</span> and only accessible within <span class="hljs-keyword">class</span> <span class="hljs-string">'Params'</span>.<span class="hljs-property">Property</span> <span class="hljs-string">'z'</span> is <span class="hljs-keyword">private</span> and only accessible within <span class="hljs-keyword">class</span> <span class="hljs-string">'Params'</span>.<span class="hljs-property">Try</span></span>
</code></pre>
  <h3 data-id="heading-23">ç±»å‹è°“è¯is</h3>
  <ul>
    <li>è¯­æ³•ï¼šparameterName is TypeparameterName</li>
  </ul>
  <p>å¿…é¡»æ˜¯æ¥è‡ªäºå½“å‰å‡½æ•°ç­¾åé‡Œçš„ä¸€ä¸ªå‚æ•°åï¼Œåˆ¤æ–­ parameterName æ˜¯å¦æ˜¯ Type ç±»å‹ã€‚<strong>ç±»å‹è°“è¯æ‰§è¡Œç»“æœå°†ä¼šåŒ¹é… boolean ç±»å‹</strong></p>
  <p>is å…³é”®å­—ç”¨åœ¨å‡½æ•°çš„è¿”å›å€¼ä¸Šï¼Œç”¨æ¥è¡¨ç¤ºå¯¹äºå‡½æ•°è¿”å›å€¼çš„ç±»å‹ä¿æŠ¤ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isString</span> (value) {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(value) === <span class="hljs-string">'[object String]'</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">}</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span> (<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isString</span>(x)) {</span>
<span class="code-block-extension-codeLine" data-line-num="7">    <span class="hljs-keyword">return</span> x.<span class="hljs-property">length</span> <span class="hljs-comment">// error ç±»å‹â€œstring | numberâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œlengthâ€ã€‚</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">  } <span class="hljs-keyword">else</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="9">    <span class="hljs-comment">// .....</span></span>
<span class="code-block-extension-codeLine" data-line-num="10">  }</span>
<span class="code-block-extension-codeLine" data-line-num="11">}</span>
<span class="code-block-extension-codeLine" data-line-num="12"></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-comment">// =&gt;</span></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isString</span> (<span class="hljs-attr">value</span>: <span class="hljs-built_in">unknown</span>): value is <span class="hljs-built_in">string</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="15">  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(value) === <span class="hljs-string">'[object String]'</span></span>
<span class="code-block-extension-codeLine" data-line-num="16">}</span>
<span class="code-block-extension-codeLine" data-line-num="17"></span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span> (<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="19">  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isString</span>(x)) {</span>
<span class="code-block-extension-codeLine" data-line-num="20">    <span class="hljs-keyword">return</span> x.<span class="hljs-property">length</span></span>
<span class="code-block-extension-codeLine" data-line-num="21">  } <span class="hljs-keyword">else</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="22">    <span class="hljs-comment">// .....</span></span>
<span class="code-block-extension-codeLine" data-line-num="23">  }</span>
<span class="code-block-extension-codeLine" data-line-num="24">}</span>
</code></pre>
  <p>ä¸Šé¢çš„ä¾‹å­è¿˜ä¸æ˜æ˜¾ï¼Œæ¯•ç«Ÿæ˜¯å› ä¸ºtsè§£æå™¨å¯¹Object.prototype.toStringæ²¡æœ‰å®ç°ç±»å‹æ¨æ–­ï¼Œæˆ‘ä»¬è¦æ˜¯ç”¨ <code>typeof x === 'string' </code>ï¼Œåˆ©ç”¨typeofå…·æœ‰ç±»å‹æ¨æ–­çš„èƒ½åŠ›ä¸€æ ·è¾¾åˆ°æ•ˆæœ</p>
  <p>ä½†æ€»æœ‰äº›ç±»å‹æ˜¯ä¸èƒ½ä¾é typeofçš„èƒ½åŠ›çš„ï¼Œè­¬å¦‚æœ‹å‹æå‡ºçš„è¿™ä¸ªï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> TA {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">}</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">interface</span> TB {</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="7">}</span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">function</span> <span class="hljs-title function_">cookTest</span>(<span class="hljs-params">val: TA | TB</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="10">  <span class="hljs-keyword">if</span> (val.<span class="hljs-property">a</span>) { <span class="hljs-comment">// error: Property 'a' does not exist on type 'TA | TB'.</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">  }</span>
<span class="code-block-extension-codeLine" data-line-num="12">}</span>
</code></pre>
  <p>è¿™æ—¶å€™iså°±å¯ä»¥ç”¨èµ·æ¥äº†ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> TA {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">}</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">interface</span> TB {</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="7">}</span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getA</span>(<span class="hljs-params">params: TA | TB</span>): params is <span class="hljs-variable constant_">TA</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="10">  <span class="hljs-keyword">return</span> <span class="hljs-string">"a"</span> <span class="hljs-keyword">in</span> params;</span>
<span class="code-block-extension-codeLine" data-line-num="11">}</span>
<span class="code-block-extension-codeLine" data-line-num="12"></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-keyword">function</span> <span class="hljs-title function_">cookTest</span>(<span class="hljs-params">val: TA | TB</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="14">  <span class="hljs-keyword">const</span> a = <span class="hljs-title function_">getA</span>(val) ? val.<span class="hljs-property">a</span> : <span class="hljs-string">''</span>; <span class="hljs-comment">// å®‰å…¨</span></span>
<span class="code-block-extension-codeLine" data-line-num="15">}</span>
</code></pre>
  <p>å½“ç„¶æˆ‘ä¾æ—§è§‰å¾—è¿™ä¸æ˜¯æœ€å¥½çš„ä¾‹å­ï¼Œè¿™ä¹ˆç¹ççš„ç”¨æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘å®æ„¿ç”¨<code>val as TA</code>ğŸ¶ã€‚</p>
  <p>æ‰€ä»¥ï¼Œ<strong>é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ is å…³é”®å­—ï¼ˆç±»å‹è°“è¯ï¼‰åœ¨å‡½æ•°çš„è¿”å›å€¼ä¸­ï¼Œä»è€Œå¯¹äºå‡½æ•°ä¼ å…¥çš„å‚æ•°è¿›è¡Œç±»å‹ä¿æŠ¤</strong>ã€‚</p>
  <h3 data-id="heading-24">ä¿®é¥°ç¬¦çš„åŠ å‡</h3>
  <p>TSä¸­å¼•å…¥äº†ä¸¤ä¸ªä¿®é¥°ç¬¦æ¥<strong>ç²¾ç¡®æ§åˆ¶</strong>æ·»åŠ æˆ–è€…ç§»é™¤æ˜ å°„å±æ€§çš„ "?" ä¿®é¥°ç¬¦å’Œ readonly ä¿®é¥°ç¬¦</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T0</span>&lt;T&gt; = { -<span class="hljs-keyword">readonly</span> [P <span class="hljs-keyword">in</span> keyof T]-?: T[P] }; </span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span>&lt;T&gt; = { +<span class="hljs-keyword">readonly</span> [P <span class="hljs-keyword">in</span> keyof T]+?: T[P] };</span>
</code></pre>
  <p>è§£é‡Šï¼š</p>
  <ul>
    <li>"+" ä¿®é¥°ç¬¦ï¼Œä¸ºæ˜ å°„å±æ€§<strong>æ·»åŠ </strong> "?" ä¿®é¥°ç¬¦æˆ–è€… readonly</li>
    <li>"-" ä¿®é¥°ç¬¦ï¼Œä¸ºæ˜ å°„å±æ€§<strong>ç§»é™¤</strong> "?" ä¿®é¥°ç¬¦æˆ–è€… readonly</li>
    <li>"+" æˆ–è€… "-" ä¿®é¥°ç¬¦<strong>å¿…é¡»åº”ç”¨</strong>åœ¨ "?" ä¿®é¥°ç¬¦æˆ–è€… readonly <strong>ä¹‹å‰</strong></li>
    <li>å¯¹äº "+" ä¿®é¥°ç¬¦ï¼Œ æ˜ç¡®çš„æ·»åŠ ä¸çœç•¥å®ƒçš„ä½œç”¨æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥é€šå¸¸éƒ½çœç•¥ã€‚ ä¾‹å¦‚ "+readonly" ç­‰åŒäº "readonly"</li>
  </ul>
  <h3 data-id="heading-25">âœ¨è”åˆç±»å‹çš„çˆ¶å­å…³ç³»</h3>
  <p>å½“å­ç±»å‹ä¸çˆ¶ç±»å‹ç»„æˆè”åˆç±»å‹æ—¶ï¼Œå®é™…æ•ˆæœç­‰äºçˆ¶ç±»å‹ã€‚ä¾‹å¦‚ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> A = <span class="hljs-built_in">number</span> | <span class="hljs-number">1</span>; <span class="hljs-comment">// number </span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> B = <span class="hljs-built_in">never</span> | <span class="hljs-built_in">string</span>; <span class="hljs-comment">// string ï¼ˆnever å‰é¢è¯´äº†æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼‰</span></span>
</code></pre>
  <p>åˆ©ç”¨<code>never | others = others</code>çš„ç‰¹æ€§å¯ä»¥å®ç°objectçš„è¿‡æ»¤ï¼Œè­¬å¦‚ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ExtractFun</span>&lt;T&gt; = {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  [key <span class="hljs-keyword">in</span> keyof T]: T[key] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Function</span> ? <span class="hljs-attr">key</span>: <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">}[keyof T];</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PickFun</span>&lt;T&gt; = <span class="hljs-title class_">Pick</span>&lt;T, <span class="hljs-title class_">ExtractFun</span>&lt;T&gt;&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Origin</span> = {</span>
<span class="code-block-extension-codeLine" data-line-num="8">  <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="9">  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="10">  <span class="hljs-title function_">method</span>(): <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="11">}</span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">type</span> test0 = onlyFunKey&lt;<span class="hljs-title class_">Origin</span>&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="14">test0 = {</span>
<span class="code-block-extension-codeLine" data-line-num="15">	method(): void</span>
<span class="code-block-extension-codeLine" data-line-num="16">}</span>
<span class="code-block-extension-codeLine" data-line-num="17">**/</span>
</code></pre>
  <h3 data-id="heading-26">this</h3>
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04baa80502144e43bbcdee170c48d3af~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image">
    è™½ç„¶thisçš„å£°æ˜åœ¨è½¬åŒ–æˆjsåä¼šä¸¢å¤±ï¼Œä½†æ˜¯åœ¨tsä¸­ä¼šå‘ç°ä¸ç¬¦åˆå£°æ˜æ¡ä»¶çš„è°ƒç”¨ï¼Œæå‰æ‹¦ä½é”™è¯¯</p>
  <h3 data-id="heading-27">æ˜ å°„ç±»å‹ä¸­çš„in</h3>
  <p>inå¯ä»¥è§£å†³ï¼š<code>An index signature parameter type cannot be a literal type or generic type</code>
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f641b3b82b424091af68ada30ec505c2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> name = <span class="hljs-string">'firstName'</span> | <span class="hljs-string">'lastName'</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TName</span> = {</span>
<span class="code-block-extension-codeLine" data-line-num="3">  [key <span class="hljs-keyword">in</span> name]: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">};</span>
</code></pre>
  <h2 data-id="heading-28">ğŸ§interface å’Œ type å…³é”®å­—</h2>
  <p>interface å’Œ type ä¸¤ä¸ªå…³é”®å­—å› ä¸ºå…¶åŠŸèƒ½æ¯”è¾ƒæ¥è¿‘ï¼Œå¸¸å¸¸å¼•èµ·æ–°æ‰‹çš„ç–‘é—®ï¼šåº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ç”¨typeï¼Œä»€ä¹ˆæ—¶å€™ç”¨interfaceï¼Ÿ interface çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š
    :::info</p>
  <ul>
    <li>åŒåinterfaceè‡ªåŠ¨èšåˆï¼Œä¹Ÿå¯ä»¥å’Œå·²æœ‰çš„åŒåclassèšåˆï¼Œé€‚åˆåšpolyfill</li>
    <li>è‡ªèº«åªèƒ½è¡¨ç¤ºobject/class/functionçš„ç±»å‹
      :::
      å»ºè®®<strong>åº“çš„å¼€å‘è€…æ‰€æä¾›çš„å…¬å…±apiåº”è¯¥å°½é‡ç”¨interface/class</strong>ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è‡ªè¡Œæ‰©å±•ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œmonacoç¼ºå¤±äº†ä¸€äº›éœ€è¦çš„APIï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨polyfillä¸€ä¸‹ã€‚</li>
  </ul>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"> * Cloud Studioä½¿ç”¨çš„monacoç‰ˆæœ¬è¾ƒè€0.14.3ï¼Œå’Œå®˜æ–¹æ–‡æ¡£ç›¸æ¯”ç¼ºå¤±éƒ¨åˆ†åŠŸèƒ½</span>
<span class="code-block-extension-codeLine" data-line-num="3"> * å¦å¤–vscodeæœ‰ä¸€äº›ç‰¹æœ‰çš„åŠŸèƒ½ï¼Œå¿…é¡»é€‚é…</span>
<span class="code-block-extension-codeLine" data-line-num="4"> * æ•…åœ¨è¿™é‡Œæ‰‹åŠ¨å®ç°ä½œä¸ºè¡¥å……</span>
<span class="code-block-extension-codeLine" data-line-num="5"> */</span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> monaco {</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Position</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="8">    <span class="hljs-title function_">delta</span>(deltaLineNumber?: <span class="hljs-built_in">number</span>, deltaColumn?: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Position</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">  }</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
<span class="code-block-extension-codeLine" data-line-num="11"></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-comment">// monaco 0.15.5</span></span>
<span class="code-block-extension-codeLine" data-line-num="13">monaco.<span class="hljs-property">Position</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">delta</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">this</span>: monaco.Position, deltaLineNumber = <span class="hljs-number">0</span>, deltaColumn = <span class="hljs-number">0</span></span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="14">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> monaco.<span class="hljs-title class_">Position</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">lineNumber</span> + deltaLineNumber, <span class="hljs-variable language_">this</span>.<span class="hljs-property">column</span> + deltaColumn);</span>
<span class="code-block-extension-codeLine" data-line-num="15">}</span>
<span class="code-block-extension-codeLine" data-line-num="16"></span>
</code></pre>
  <p>ä¸interfaceç›¸æ¯”ï¼Œtypeçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š
    :::info</p>
  <ul>
    <li>è¡¨è¾¾åŠŸèƒ½æ›´å¼ºå¤§ï¼Œä¸å±€é™äºobject/class/function</li>
    <li>è¦æ‰©å±•å·²æœ‰typeéœ€è¦åˆ›å»ºæ–°typeï¼Œä¸å¯ä»¥é‡å</li>
    <li>æ”¯æŒæ›´å¤æ‚çš„ç±»å‹æ“ä½œ
      :::
      åŸºæœ¬ä¸Šæ‰€æœ‰ç”¨interfaceè¡¨è¾¾çš„ç±»å‹éƒ½æœ‰å…¶ç­‰ä»·çš„typeè¡¨è¾¾ã€‚ä½†åœ¨å®è·µçš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå‘ç°äº†ä¸€ç§ç±»å‹åªèƒ½ç”¨interfaceè¡¨è¾¾ï¼Œæ— æ³•ç”¨typeè¡¨è¾¾ï¼Œé‚£å°±æ˜¯å¾€å‡½æ•°ä¸ŠæŒ‚è½½å±æ€§ã€‚</li>
  </ul>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">FuncWithAttachment</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">    (<span class="hljs-attr">param</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">    <span class="hljs-attr">someProperty</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">const</span> <span class="hljs-attr">testFunc</span>: <span class="hljs-title class_">FuncWithAttachment</span> = ...;</span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">const</span> result = <span class="hljs-title function_">testFunc</span>(<span class="hljs-string">'mike'</span>);    <span class="hljs-comment">// æœ‰ç±»å‹æé†’</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">testFunc.<span class="hljs-property">someProperty</span> = <span class="hljs-number">3</span>;    <span class="hljs-comment">// æœ‰ç±»å‹æé†’</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
</code></pre>
  <p>from&nbsp;<a href="https://juejin.cn/post/6844903904140853255" target="_blank" title="https://juejin.cn/post/6844903904140853255">ã€ŠTypeScriptä¸­é«˜çº§åº”ç”¨ä¸æœ€ä½³å®è·µã€‹</a></p>
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7fd55c79091a435792ce71d120aca641~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <p>ç›®å‰è¯­é›€ç¼–è¾‘å™¨å†…éƒ¨ä¹Ÿæ˜¯é™¤äº†å¯¹å¤–æŠ›å‡ºçš„æ¥å£å®šä¹‰çº¦æŸç”¨çš„interfaceï¼Œå†…éƒ¨çš„ç±»å‹éƒ½å°½é‡ç”¨çš„typeã€‚</p>
  <h2 data-id="heading-29">ç¯å¢ƒ Ambient Modules</h2>
  <p>åœ¨å®é™…åº”ç”¨å¼€å‘æ—¶æœ‰ä¸€ç§åœºæ™¯ï¼Œå½“å‰ä½œç”¨åŸŸä¸‹å¯ä»¥è®¿é—®æŸä¸ªå˜é‡ï¼Œä½†è¿™ä¸ªå˜é‡å¹¶ä¸ç”±å¼€å‘è€…æ§åˆ¶ã€‚ä¾‹å¦‚é€šè¿‡Scriptæ ‡ç­¾ç›´æ¥å¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“CDNã€ä¸€äº›å®¿ä¸»ç¯å¢ƒçš„APIç­‰ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥åˆ©ç”¨TSçš„ç¯å¢ƒå£°æ˜åŠŸèƒ½ï¼Œæ¥å‘Šè¯‰TSå½“å‰ä½œç”¨åŸŸå¯ä»¥è®¿é—®è¿™äº›å˜é‡ï¼Œä»¥è·å¾—ç±»å‹æé†’ã€‚</p>
  <p>å…·ä½“æœ‰ä¸¤ç§æ–¹å¼ï¼Œdeclareå’Œä¸‰æ–œçº¿æŒ‡ä»¤ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">IS_MOBILE</span> = <span class="hljs-literal">true</span>;    <span class="hljs-comment">// ç¼–è¯‘åæ­¤è¡Œæ¶ˆå¤± </span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">const</span> wording = <span class="hljs-variable constant_">IS_MOBILE</span> ? <span class="hljs-string">'ç§»åŠ¨ç«¯'</span> : <span class="hljs-string">'PCç«¯'</span>; </span>
</code></pre>
  <p>ç”¨ä¸‰æ–œçº¿æŒ‡ä»¤å¯ä»¥ä¸€æ¬¡æ€§å¼•å…¥æ•´ä¸ªç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">/// &lt;reference path="../typings/monaco.d.ts" /&gt; </span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">const</span> range = <span class="hljs-keyword">new</span> monaco.<span class="hljs-title class_">Range</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>);</span>
</code></pre>
  <h2 data-id="heading-30">ğŸ™ƒç±»å‹å…¼å®¹æ€§ - é€†å˜/åå˜</h2>
  <p>å…ˆè¯´ï¼Œé€†å˜æ˜¯æˆ‘åœ¨tsæ¥è§¦åˆ°çš„æœ€éš¾ç†è§£çš„éƒ¨åˆ†ã€‚</p>
  <h3 data-id="heading-31">æ¦‚å¿µ</h3>
  <p>é›†åˆè®ºä¸­ï¼Œå¦‚æœä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ åœ¨é›†åˆBä¸­éƒ½å­˜åœ¨ï¼Œåˆ™Aæ˜¯Bçš„å­é›†ï¼›</p>
  <p><strong>ç±»å‹ç³»ç»Ÿä¸­ï¼Œå¦‚æœä¸€ä¸ªç±»å‹çš„å±æ€§æ›´å…·ä½“ï¼Œåˆ™è¯¥ç±»å‹æ˜¯å­ç±»å‹ã€‚ï¼ˆå› ä¸ºå±æ€§æ›´å°‘åˆ™è¯´æ˜è¯¥ç±»å‹çº¦æŸçš„æ›´å®½æ³›ï¼Œæ˜¯çˆ¶ç±»å‹ï¼‰</strong>ï¼ˆå­ç±»å‹æ›´å…·ä½“ï¼Œçˆ¶ç±»å‹æ›´å®½æ³›ï¼‰ï¼ˆå­ç±»å‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»å‹ï¼‰</p>
  <p>ç±»ä¸­ï¼Œå¦‚æœä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼Œå¯èƒ½åšäº†æ‰©å±•ï¼Œå±æ€§æ›´å¤šï¼Œåˆ™æ˜¯å­ç±»ï¼ˆå­ç±»æ›´å…·ä½“ï¼Œçˆ¶ç±»æ›´å®½æ³›ï¼‰ï¼ˆå­ç±»å¯ä»¥å®‰å…¨è¦†ç›–çˆ¶ç±»ï¼‰ã€‚</p>
  <p><strong>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºåŸºæœ¬çš„ç»“è®ºï¼šå­ç±»å‹æ¯”çˆ¶ç±»å‹æ›´åŠ å…·ä½“, çˆ¶ç±»å‹æ¯”å­ç±»å‹æ›´å®½æ³›ã€‚</strong> ä¸‹é¢æˆ‘ä»¬ä¹Ÿå°†åŸºäºç±»å‹çš„å¯å¤åˆ¶æ€§ï¼ˆå¯åˆ†é…æ€§ï¼‰ã€åå˜ã€é€†å˜ã€åŒå‘åå˜ç­‰è¿›è¡Œè¿›ä¸€æ­¥çš„è®²è§£ã€‚</p>
  <blockquote>
    <p>åå˜ä¸é€†å˜(Covariance and contravariance )æ˜¯åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæè¿°å…·æœ‰çˆ¶/å­å‹åˆ«å…³ç³»çš„å¤šä¸ªå‹åˆ«é€šè¿‡å‹åˆ«æ„é€ å™¨ã€æ„é€ å‡ºçš„å¤šä¸ªå¤æ‚å‹åˆ«ä¹‹é—´æ˜¯å¦æœ‰çˆ¶/å­å‹åˆ«å…³ç³»çš„ç”¨è¯­ã€‚</p>
  </blockquote>
  <blockquote>
    <p>å…·æœ‰çˆ¶å­å…³ç³»çš„å¤šä¸ªç±»å‹ï¼Œåœ¨é€šè¿‡æŸç§æ„é€ å…³ç³»æ„é€ æˆçš„æ–°çš„ç±»å‹ï¼Œå¦‚æœè¿˜å…·æœ‰çˆ¶å­å…³ç³»åˆ™æ˜¯åå˜çš„ï¼Œè€Œå…³ç³»é€†è½¬äº†ï¼ˆå­å˜çˆ¶ï¼Œçˆ¶å˜å­ï¼‰å°±æ˜¯é€†å˜çš„</p>
  </blockquote>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">}</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-title function_">break</span>(): <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="7">}</span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Eg1</span>: <span class="hljs-title class_">Animal</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Eg2</span>: <span class="hljs-title class_">Dog</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-comment">// å…¼å®¹ï¼Œå¯ä»¥èµ‹å€¼</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-title class_">Eg1</span> = <span class="hljs-title class_">Eg2</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Eg3</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Animal</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Eg4</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Dog</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-comment">// å…¼å®¹ï¼Œå¯ä»¥èµ‹å€¼</span></span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-title class_">Eg3</span> = <span class="hljs-title class_">Eg4</span></span>
<span class="code-block-extension-codeLine" data-line-num="18"></span>
<span class="code-block-extension-codeLine" data-line-num="19"><span class="hljs-keyword">type</span> <span class="hljs-title class_">AnimalFn</span> = <span class="hljs-function">(<span class="hljs-params">arg: Animal</span>) =&gt;</span> <span class="hljs-built_in">void</span></span>
<span class="code-block-extension-codeLine" data-line-num="20"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DogFn</span> = <span class="hljs-function">(<span class="hljs-params">arg: Dog</span>) =&gt;</span> <span class="hljs-built_in">void</span></span>
<span class="code-block-extension-codeLine" data-line-num="21"></span>
<span class="code-block-extension-codeLine" data-line-num="22"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Eg1Fn</span>: <span class="hljs-title class_">AnimalFn</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="23"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Eg2Fn</span>: <span class="hljs-title class_">DogFn</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="24"><span class="hljs-comment">// ä¸å†å¯ä»¥èµ‹å€¼äº†ï¼Œ</span></span>
<span class="code-block-extension-codeLine" data-line-num="25"><span class="hljs-comment">// AnimalFn = DogFnä¸å¯ä»¥èµ‹å€¼äº†, Animal = Dogæ˜¯å¯ä»¥çš„</span></span>
<span class="code-block-extension-codeLine" data-line-num="26"><span class="hljs-title class_">Eg1Fn</span> = <span class="hljs-title class_">Eg2Fn</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="27"></span>
</code></pre>
  <p>å‡è®¾å¯ä»¥èµ‹å€¼ï¼Œåˆ™ä¼ é€’å‚æ•°çš„çº¦æŸæ˜¯åŸå§‹çš„æ›´å°‘çš„Animalç›¸å…³çº¦æŸï¼Œä½†æ˜¯è°ƒç”¨æ—¶çš„å®ç°å´æ˜¯èµ‹å€¼çš„Dogçš„å®ç°ï¼Œä¼šå‡ºç°å®ç°è°ƒç”¨çš„å†…å®¹å¯èƒ½æ¯”çº¦æŸæ›´å¤šï¼Œè­¬å¦‚å®ç°ä¸ŠEg2Fné‡Œå¯èƒ½è°ƒç”¨äº†åªæœ‰Dogä¸Šå‡ºç°çš„æ–¹æ³•ï¼Œä¸å®‰å…¨ã€‚æ‰€ä»¥ä¸å…è®¸ã€‚</p>
  <p>æ™®é€šæƒ…å†µä¸‹ï¼Œå­ç±»å‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»å‹ã€‚ä½†æ˜¯<strong>åœ¨ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œå­ç±»å‹å‚æ•°çš„å‡½æ•°ä¸å†å¯ä»¥èµ‹å€¼ç»™æ¥å—çˆ¶ç±»å‹å‚æ•°çš„å‡½æ•°ã€‚å³</strong><code>**type Fn&lt;T&gt; = (arg: T) =&gt; void**</code><strong>æ„é€ å™¨æ„é€ åï¼Œçˆ¶å­å…³ç³»é€†è½¬äº†ï¼Œæ­¤æ—¶æˆä¸ºâ€œé€†å˜â€ã€‚</strong></p>
  <p>ä¸ºäº†æ–¹ä¾¿ï¼Œçº¦å®šA â†’ B æŒ‡çš„æ˜¯ä»¥ A ä¸ºå‚æ•°ç±»å‹ï¼Œä»¥ B ä¸ºè¿”å›å€¼ç±»å‹çš„å‡½æ•°ç±»å‹ã€‚</p>
  <p>å‚æ•°ç±»å‹ä¸€å®šæ˜¯TåŠå…¶å­ç±»ï¼Œé‚£ä¹ˆå®ƒä¹Ÿä¸€å®šæ»¡è¶³ç»§æ‰¿äºTçš„è¶…ç±»ã€‚</p>
  <p>è¿”å›å€¼åªèƒ½ä½¿ç”¨TåŠå…¶è¶…ç±»ä¸Šçš„æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒæ˜¯Tçš„å­ç±»æ—¶æ‰ä¸€å®šå¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚</p>
  <p>æ­¤æ—¶ï¼Œæˆ‘ä»¬ç§° è¿”å›å€¼ç±»å‹æ˜¯åå˜çš„ï¼Œè€Œå‚æ•°ç±»å‹æ˜¯é€†å˜çš„ã€‚</p>
  <p>A â‰¼ B æ„å‘³ç€ A æ˜¯ B çš„å­ç±»å‹ã€‚</p>
  <p>è¿”å›å€¼ç±»å‹æ˜¯åå˜çš„ï¼Œæ„æ€æ˜¯ A â‰¼ B å°±æ„å‘³ç€ (T â†’ A) â‰¼ (T â†’ B) ã€‚</p>
  <p>å‚æ•°ç±»å‹æ˜¯é€†å˜çš„ï¼Œæ„æ€æ˜¯ A â‰¼ B å°±æ„å‘³ç€ (B â†’ T) â‰¼ (A â†’ T)</p>
  <p><strong>å³é€†å˜æ˜¯ç¼©å°ç±»å‹èŒƒå›´çš„è¡¨ç°ï¼Œåå˜æ˜¯æ”¾å¤§ç±»å‹èŒƒå›´çš„è¡¨ç°ã€‚</strong></p>
  <h3 data-id="heading-32">ğŸ¤£ç‰¹æ€§</h3>
  <p>å‡½æ•°çš„å‚æ•°ç±»å‹èµ‹å€¼å°±è¢«ç§°ä¸ºé€†å˜ï¼Œå‚æ•°å°‘ï¼ˆçˆ¶ï¼‰çš„å¯ä»¥èµ‹ç»™å‚æ•°å¤šï¼ˆå­ï¼‰çš„é‚£ä¸€ä¸ªã€‚çœ‹èµ·æ¥å’Œç±»å‹å…¼å®¹æ€§ï¼ˆå¤šçš„å¯ä»¥èµ‹ç»™å°‘çš„ï¼‰ç›¸åã€‚ä¸ºä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿä¸ç†è§£è¿™ç§åå®‰å…¨æ€§çš„è®¾è®¡</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">let</span> fn1!: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">string</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">let</span> fn2!: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">string</span>, b: <span class="hljs-built_in">number</span>, c: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">fn2 = fn1; <span class="hljs-comment">// æ­£ç¡®ï¼Œè¢«å…è®¸</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">fn1 = fn2 <span class="hljs-comment">// error</span></span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
</code></pre>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">IParent</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">IChild</span> = <span class="hljs-function">(<span class="hljs-params">val: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">let</span> <span class="hljs-attr">parentTest</span>: <span class="hljs-title class_">IParent</span> = <span class="hljs-function">() =&gt;</span> {};</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">let</span> <span class="hljs-attr">childTest</span>: <span class="hljs-title class_">IChild</span> = <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)};</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7">childTest = parentTest; <span class="hljs-comment">// ok</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">parentTest = childTest; <span class="hljs-comment">// error</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">let</span> <span class="hljs-attr">parentTest2</span>: <span class="hljs-title class_">IParent</span> = <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)}; <span class="hljs-comment">// error</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">let</span> <span class="hljs-attr">childTest2</span>: <span class="hljs-title class_">IChild</span> = <span class="hljs-function">() =&gt;</span> { }; <span class="hljs-comment">// ok</span></span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
<span class="code-block-extension-codeLine" data-line-num="14"></span>
</code></pre>
  <p>å®ç°æ¯”ç±»å‹å®šä¹‰æ›´å°‘çš„å‚æ•°æ˜¯åˆæ³•çš„ï¼Œä½†å®ç°æ¯”ç±»å‹å®šä¹‰æ›´å¤šçš„å‚æ•°æ˜¯è¿æ³•çš„ã€‚</p>
  <p>è¿™ä¸ªå¾ˆåç›´è§‰ï¼Œä¸€ä¸ªç†è§£æ–¹å¼æ˜¯ï¼Œ<strong>æŠŠç±»å‹å£°æ˜å½“æˆç”Ÿäº§æ–¹ï¼Œå®ç°å½“æˆæ¶ˆè´¹æ–¹ï¼Œæ¶ˆè´¹äº†ç”Ÿäº§æ–¹ä¸å­˜åœ¨çš„å‚æ•°æ˜¯è¡Œä¸é€šçš„ï¼Œä¹Ÿå°±æ˜¯å®ç°ä¸èƒ½æ¯”ç±»å‹å®šä¹‰å¤šå‡ºå‚æ•°ã€‚ä½†æ˜¯ç”Ÿäº§æ–¹æä¾›äº†æ›´å¤šçš„å†…å®¹ï¼Œæ¶ˆè´¹æ–¹ä¸å¤„ç†æ˜¯æ²¡å…³ç³»çš„ï¼Œä¹Ÿå°±æ˜¯å®ç°å¯ä»¥æ¯”ç±»å‹å®šä¹‰å°‘å‚æ•°ã€‚</strong></p>
  <p><strong>å‡½æ•°ç±»å‹èµ‹å€¼å…¼å®¹æ—¶å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯å…¸å‹çš„åå˜åœºæ™¯</strong></p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">let</span> fn1!: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">string</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">let</span> fn2!: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">string</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">fn2 = fn1; <span class="hljs-comment">// correct </span></span>
<span class="code-block-extension-codeLine" data-line-num="4">fn1 = fn2 <span class="hljs-comment">// error: ä¸å¯ä»¥å°† string|number|boolean èµ‹ç»™ string ç±»å‹</span></span>
</code></pre>
  <p>è¿™æ˜¯è°ƒç”¨ç»“æœä¹‹é—´çš„èµ‹å€¼ï¼Œè¦ä¿è¯å®‰å…¨æ€§ã€‚
    å¯¹äºå‡½æ•°ç±»å‹æ¥è¯´ï¼Œå‡½æ•°å‚æ•°çš„ç±»å‹å…¼å®¹æ˜¯åå‘çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º é€†å˜ ï¼Œè¿”å›å€¼çš„ç±»å‹å…¼å®¹æ˜¯æ­£å‘çš„ï¼Œç§°ä¹‹ä¸º åå˜ ã€‚</p>
  <h3 data-id="heading-33">ğŸ¤ªç±»å‹æ¨å¯¼å·¥å…·ä¸­çš„åº”ç”¨</h3>
  <ul>
    <li>inferæ¨å¯¼çš„åç§°ç›¸åŒå¹¶ä¸”éƒ½å¤„äº<strong>é€†å˜</strong>çš„ä½ç½®ï¼Œåˆ™æ¨å¯¼çš„ç»“æœå°†ä¼šæ˜¯<strong>äº¤å‰ç±»å‹</strong>ã€‚</li>
  </ul>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Bar</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">a</span>: <span class="hljs-function">(<span class="hljs-params">x: infer U</span>) =&gt;</span> <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-attr">b</span>: <span class="hljs-function">(<span class="hljs-params">x: infer U</span>) =&gt;</span> <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">} ? U : <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-comment">// type T1 = string</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Bar</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>; <span class="hljs-attr">b</span>: <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> }&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-comment">// type T2 = never</span></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Bar</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>; <span class="hljs-attr">b</span>: <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> }&gt;;</span>
</code></pre>
  <ul>
    <li>inferæ¨å¯¼çš„åç§°ç›¸åŒå¹¶ä¸”éƒ½å¤„äº<strong>åå˜</strong>çš„ä½ç½®ï¼Œåˆ™æ¨å¯¼çš„ç»“æœå°†ä¼šæ˜¯<strong>è”åˆç±»å‹</strong>ã€‚</li>
  </ul>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Foo</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">a</span>: infer U;</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-attr">b</span>: infer U;</span>
<span class="code-block-extension-codeLine" data-line-num="4">} ? U : <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-comment">// type T1 = string</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Foo</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-comment">// type T2 = string | number</span></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Foo</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span> }&gt;;</span>
</code></pre>
  <h3 data-id="heading-34">ğŸ¤­ä¸€ä¸ªä¸èƒ½ç†è§£çš„ä¾‹å­</h3>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// lib.dom.d.tsä¸­EventListenerçš„æ¥å£å®šä¹‰</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">EventListener</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="3">  (<span class="hljs-attr">evt</span>: <span class="hljs-title class_">Event</span>): <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">// ç®€åŒ–åçš„Event</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Event</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">target</span>: <span class="hljs-title class_">EventTarget</span> | <span class="hljs-literal">null</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="8">  <span class="hljs-title function_">preventDefault</span>(): <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="9">}</span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-comment">// ç®€åŒ–åˆå¹¶åçš„MouseEvent</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">MouseEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Event</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="12">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="13">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="14">}</span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-comment">// ç®€åŒ–åçš„Windowæ¥å£</span></span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Window</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="18">  <span class="hljs-comment">// ç®€åŒ–åçš„addEventListener</span></span>
<span class="code-block-extension-codeLine" data-line-num="19">  <span class="hljs-title function_">addEventListener</span>(<span class="hljs-attr">type</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">listener</span>: <span class="hljs-title class_">EventListener</span>)</span>
<span class="code-block-extension-codeLine" data-line-num="20">}</span>
<span class="code-block-extension-codeLine" data-line-num="21"></span>
<span class="code-block-extension-codeLine" data-line-num="22"><span class="hljs-comment">// æ—¥å¸¸ä½¿ç”¨</span></span>
<span class="code-block-extension-codeLine" data-line-num="23"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e: Event</span>) =&gt;</span> {});</span>
<span class="code-block-extension-codeLine" data-line-num="24"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">e: MouseEvent</span>) =&gt;</span> {});</span>
</code></pre>
  <p>å¯ä»¥çœ‹åˆ°Windowçš„listenerå‡½æ•°è¦æ±‚å‚æ•°æ˜¯Eventï¼Œä½†æ˜¯æ—¥å¸¸ä½¿ç”¨æ—¶æ›´å¤šæ—¶å€™ä¼ å…¥çš„æ˜¯Eventå­ç±»å‹ï¼Œä¸ä¸Šè¿°ä¸ç¬¦ã€‚ä½†æ˜¯è¿™é‡Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œæ­£æ˜¯å…¶é»˜è®¤è¡Œä¸ºæ˜¯<strong>åŒå‘åå˜</strong>çš„åŸå› ã€‚å¯ä»¥é€šè¿‡tsconfig.jsä¸­ä¿®æ”¹strictFunctionTypeå±æ€§æ¥ä¸¥æ ¼æ§åˆ¶åå˜å’Œé€†å˜ã€‚è¿™ä¸ªåŒå‘åå˜æ˜¯æˆ‘ä¸èƒ½ç†è§£çš„ã€‚ã€‚ã€‚ã€‚</p>
  <h3 data-id="heading-35">èµ„æ–™</h3>
  <ul>
    <li>
      <p><a href="https://juejin.cn/post/6994102811218673700" target="_blank" title="https://juejin.cn/post/6994102811218673700">ã€ŠTsé«˜æ‰‹ç¯‡ï¼š22ä¸ªç¤ºä¾‹æ·±å…¥è®²è§£Tsæœ€æ™¦æ¶©éš¾æ‡‚çš„é«˜çº§ç±»å‹å·¥å…·ã€‹</a></p>
    </li>
    <li>
      <p><a href="https://juejin.cn/post/7035887669054242823" target="_blank" title="https://juejin.cn/post/7035887669054242823">ä¸€ä¸ªé€†å˜åº”ç”¨çš„åˆ—å­ï¼šã€ŠTypeScript: Union to intersection type[TypeScript é«˜çº§ç±»å‹ç¼–ç¨‹åˆçº§æ•™ç¨‹][å…¨æ–‡ç¿»è¯‘]ã€‹</a></p>
    </li>
    <li>
      <p><a href="https://juejin.cn/post/6844904066821128199" target="_blank" title="https://juejin.cn/post/6844904066821128199">ã€Štypescriptéš¾ç‚¹ï¼šé¡ºå˜å’Œé€†å˜ã€‹</a></p>
    </li>
    <li>
      <p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Frelease-notes%2Ftypescript-2-8.html%23type-inference-in-conditional-types" target="_blank" title="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types" ref="nofollow noopener noreferrer">www.typescriptlang.org/docs/handboâ€¦</a></p>
    </li>
  </ul>
  <h1 data-id="heading-36">ğŸ™Šåç›´è§‰</h1>
  <h2 data-id="heading-37">æ•°ç»„æ˜¯å¯¹è±¡çš„ä¸€ç§</h2>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// Ts ç¤ºä¾‹ï¼šå¸Œæœ› [1, () =&gt; number, string] èƒ½å¤Ÿè¢«å¤„ç†æˆ [1, number, string]</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">// å¯¹è±¡éå†çš„æ–¹å¼</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">type</span> <span class="hljs-title class_">GetType1</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]&gt; = {</span>
<span class="code-block-extension-codeLine" data-line-num="4">  [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> () =&gt; infer R ? R : T[K]</span>
<span class="code-block-extension-codeLine" data-line-num="5">}</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> <span class="hljs-title class_">GetType1Test</span> = <span class="hljs-title class_">GetType1</span>&lt;[<span class="hljs-number">1</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>]&gt;;</span>
</code></pre>
  <p><strong>æ•°ç»„æ˜¯keyä¸º0ï¼Œ1ï¼Œ2ç­‰æ•°å­—ç´¢å¼•çš„ç‰¹æ®Šå¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨æ˜ å°„ç±»å‹çš„ in éå†</strong></p>
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0440ee8e2a5f4fce89b1ff5adc275e55~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <h2 data-id="heading-38">å¯¹è±¡ç»§æ‰¿æ—¶åˆå§‹åŒ–çš„é¡ºåº</h2>
  <p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒJavaScriptç±»åˆå§‹åŒ–çš„é¡ºåºå¯èƒ½ä»¤äººæƒŠè®¶ã€‚è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹è¿™æ®µä»£ç :</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  name = <span class="hljs-string">"base"</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="4">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"My name is "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);</span>
<span class="code-block-extension-codeLine" data-line-num="5">  }</span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Base</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="9">  name = <span class="hljs-string">"derived"</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
<span class="code-block-extension-codeLine" data-line-num="11"></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-comment">// Prints "base", not "derived"</span></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-keyword">const</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Derived</span>();</span>
</code></pre>
  <p>è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
    ç”±JavaScriptå®šä¹‰çš„ç±»åˆå§‹åŒ–é¡ºåºä¸º:</p>
  <ul>
    <li>åŸºç±»å­—æ®µå·²åˆå§‹åŒ–</li>
    <li>åŸºç±»æ„é€ å‡½æ•°è¿è¡Œ</li>
    <li>æ´¾ç”Ÿç±»å­—æ®µå·²åˆå§‹åŒ–</li>
    <li>æ´¾ç”Ÿç±»æ„é€ å‡½æ•°è¿è¡Œ</li>
  </ul>
  <p>è¿™æ„å‘³ç€åŸºç±»æ„é€ å‡½æ•°åœ¨å…¶è‡ªå·±çš„æ„é€ å‡½æ•°ä¸­çœ‹åˆ°äº†è‡ªå·±çš„nameå€¼ï¼Œå› ä¸ºæ´¾ç”Ÿç±»å­—æ®µåˆå§‹åŒ–å°šæœªè¿è¡Œã€‚</p>
  <h2 data-id="heading-39">keyof ç´¢å¼•æ˜¯å…¬æœ‰å±æ€§keyçš„è”åˆ</h2>
  <p>keyof ç´¢å¼•æŸ¥è¯¢</p>
  <p>å¯¹åº”ä»»ä½•ç±»å‹T, keyof Tçš„ç»“æœä¸ºè¯¥ç±»å‹ä¸Šæ‰€æœ‰å…¬æœ‰å±æ€§keyçš„è”åˆï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Eg1</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">// T1çš„ç±»å‹å®åˆ™æ˜¯name | age</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = keyof <span class="hljs-title class_">Eg1</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Eg2</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="9">  <span class="hljs-keyword">private</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="10">  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="11">  <span class="hljs-keyword">protected</span> <span class="hljs-attr">home</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="12">}</span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-comment">// T2å®åˆ™è¢«çº¦æŸä¸º age</span></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-comment">// è€Œnameå’Œhomeä¸æ˜¯å…¬æœ‰å±æ€§ï¼Œæ‰€ä»¥ä¸èƒ½è¢«keyofè·å–åˆ°</span></span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = keyof <span class="hljs-title class_">Eg2</span></span>
</code></pre>
  <p>ç´¢å¼•è®¿é—®ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Eg1</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">// string</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">V1</span> = <span class="hljs-title class_">Eg1</span>[<span class="hljs-string">'name'</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-comment">// string | number</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">V2</span> = <span class="hljs-title class_">Eg1</span>[<span class="hljs-string">'name'</span> | <span class="hljs-string">'age'</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-comment">// any</span></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">V2</span> = <span class="hljs-title class_">Eg1</span>[<span class="hljs-string">'name'</span> | <span class="hljs-string">'age2222'</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-comment">// string | number</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">V3</span> = <span class="hljs-title class_">Eg1</span>[keyof <span class="hljs-title class_">Eg1</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
</code></pre>
  <p>å¦‚æœ[]ä¸­çš„keyæœ‰ä¸å­˜åœ¨Tä¸­çš„ï¼Œåˆ™æ˜¯anyï¼›</p>
  <p>äº¤å‰ç±»å‹å–çš„å¤šä¸ªç±»å‹çš„å¹¶é›†ï¼Œä½†æ˜¯å¦‚æœç›¸åŒkeyä½†æ˜¯ç±»å‹ä¸åŒï¼Œåˆ™è¯¥keyä¸ºneverã€‚</p>
  <h2 data-id="heading-40">ğŸ’¥æ¡ä»¶ç±»å‹çš„åˆ†å¸ƒå¼ç‰¹æ€§</h2>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"> * <span class="hljs-doctag">@example</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"> * type A1 = 1</span>
<span class="code-block-extension-codeLine" data-line-num="4"> */</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">A1</span> = <span class="hljs-string">'x'</span> <span class="hljs-keyword">extends</span> <span class="hljs-string">'x'</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"> * <span class="hljs-doctag">@example</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"> * type A2 = 2</span>
<span class="code-block-extension-codeLine" data-line-num="10"> */</span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">A2</span> = <span class="hljs-string">'x'</span> | <span class="hljs-string">'y'</span> <span class="hljs-keyword">extends</span> <span class="hljs-string">'x'</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="12"></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="14"> * <span class="hljs-doctag">@example</span></span>
<span class="code-block-extension-codeLine" data-line-num="15"> * type A3 = 1 | 2</span>
<span class="code-block-extension-codeLine" data-line-num="16"> */</span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-keyword">type</span> P&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-string">'x'</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">A3</span> = P&lt;<span class="hljs-string">'x'</span> | <span class="hljs-string">'y'</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="19"></span>
</code></pre>
  <p>ä¸ºä»€ä¹ˆA2å’ŒA3çš„å€¼ä¸ä¸€æ ·ï¼Ÿ</p>
  <ul>
    <li>å¦‚æœç”¨äºç®€å•çš„æ¡ä»¶åˆ¤æ–­ï¼Œåˆ™æ˜¯ç›´æ¥åˆ¤æ–­å‰é¢çš„ç±»å‹æ˜¯å¦å¯åˆ†é…ç»™åé¢çš„ç±»å‹</li>
    <li>è‹¥extendså‰é¢çš„ç±»å‹æ˜¯æ³›å‹ï¼Œä¸”æ³›å‹ä¼ å…¥çš„æ˜¯è”åˆç±»å‹æ—¶ï¼Œåˆ™ä¼šä¾æ¬¡åˆ¤æ–­è¯¥è”åˆç±»å‹çš„æ‰€æœ‰å­ç±»å‹æ˜¯å¦å¯åˆ†é…ç»™extendsåé¢çš„ç±»å‹ï¼ˆæ˜¯ä¸€ä¸ªåˆ†å‘çš„è¿‡ç¨‹ï¼‰ã€‚</li>
  </ul>
  <p><strong>æ€»ç»“ï¼Œå°±æ˜¯extendså‰é¢çš„å‚æ•°ä¸ºè”åˆç±»å‹æ—¶åˆ™ä¼šåˆ†è§£ï¼ˆä¾æ¬¡éå†æ‰€æœ‰çš„å­ç±»å‹è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼‰è”åˆç±»å‹è¿›è¡Œåˆ¤æ–­ã€‚ç„¶åå°†æœ€ç»ˆçš„ç»“æœç»„æˆæ–°çš„è”åˆç±»å‹ã€‚</strong></p>
  <p>å¦‚æœä¸æƒ³è¢«åˆ†è§£ï¼ˆåˆ†å‘ï¼‰ï¼Œåšæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„å…ƒç»„ç±»å‹åŒ…è£¹ä»¥ä¸‹ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> P&lt;T&gt; = [T] <span class="hljs-keyword">extends</span> [<span class="hljs-string">'x'</span>] ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"> * type A4 = 2;</span>
<span class="code-block-extension-codeLine" data-line-num="4"> */</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">A4</span> = P&lt;<span class="hljs-string">'x'</span> | <span class="hljs-string">'y'</span>&gt;</span>
</code></pre>
  <h2 data-id="heading-41">èµ‹å€¼</h2>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> testA {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">findElementById</span>: <span class="hljs-title class_">IInterfaces</span>[<span class="hljs-string">'findElementById'</span>];</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-attr">extractMention</span>: <span class="hljs-title class_">IInterfaces</span>[<span class="hljs-string">'extractMention'</span>];</span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">let</span> <span class="hljs-attr">testa</span>: testA;</span>
<span class="code-block-extension-codeLine" data-line-num="8">(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(interfaces) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Array</span>&lt;keyof <span class="hljs-title class_">IInterfaces</span>&gt;).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="9">  testa[name] = interfaces[name];</span>
<span class="code-block-extension-codeLine" data-line-num="10">});</span>
</code></pre>
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ffa16383969c48b3afe0d0cc97809b7b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image">
    ä¸å…è®¸æŠŠä¸€ä¸ªæ•´ä½“æ‹†å¼€ä¸€æ¬¡æ¬¡èµ‹å€¼</p>
  <h2 data-id="heading-42">ğŸ§enum</h2>
  <p>enumåœ¨TSä¸­å‡ºç°çš„æ¯”è¾ƒæ—©ï¼Œå®ƒå¼•å…¥äº†JavaScriptæ²¡æœ‰çš„æ•°æ®ç»“æ„ï¼ˆç¼–è¯‘æˆä¸€ä¸ªåŒå‘mapï¼‰ï¼Œå…¥ä¾µäº†è¿è¡Œæ—¶ï¼Œä¸TypeScriptå®—æ—¨ä¸ç¬¦ã€‚ç”¨ string literal unionï¼ˆ'small' | 'big' | 'large'ï¼‰å¯ä»¥åšåˆ°ç›¸åŒçš„äº‹ï¼Œä¸”åœ¨debugæ—¶å¯è¯»æ€§æ›´å¥½ã€‚å¦‚æœå¾ˆåœ¨æ„æ¡ä»¶æ¯”è¾ƒçš„æ€§èƒ½ï¼Œåº”è¯¥ç”¨äºŒè¿›åˆ¶flagåŠ ä½è¿ç®—ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// TypeScript</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Size</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="3">    small = <span class="hljs-number">3</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="4">    big,</span>
<span class="code-block-extension-codeLine" data-line-num="5">    large</span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>:<span class="hljs-title class_">Size</span> = <span class="hljs-title class_">Size</span>.<span class="hljs-property">large</span>;    <span class="hljs-comment">// 5</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-comment">// ç¼–è¯‘ä¸º</span></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Size</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="11">(<span class="hljs-keyword">function</span> (<span class="hljs-params">Size</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="12">    <span class="hljs-title class_">Size</span>[<span class="hljs-title class_">Size</span>[<span class="hljs-string">"small"</span>] = <span class="hljs-number">3</span>] = <span class="hljs-string">"small"</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="13">    <span class="hljs-title class_">Size</span>[<span class="hljs-title class_">Size</span>[<span class="hljs-string">"big"</span>] = <span class="hljs-number">4</span>] = <span class="hljs-string">"big"</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="14">    <span class="hljs-title class_">Size</span>[<span class="hljs-title class_">Size</span>[<span class="hljs-string">"large"</span>] = <span class="hljs-number">5</span>] = <span class="hljs-string">"large"</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="15">})(<span class="hljs-title class_">Size</span> || (<span class="hljs-title class_">Size</span> = {}));</span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">const</span> a = <span class="hljs-title class_">Size</span>.<span class="hljs-property">large</span>; <span class="hljs-comment">// 5</span></span>
<span class="code-block-extension-codeLine" data-line-num="17"></span>
</code></pre>
  <h2 data-id="heading-43">ğŸ˜…å¯¹è±¡å­—é¢é‡çš„excess property check</h2>
  <p>å­ç±»å‹ä¸­å¿…é¡»åŒ…å«æºç±»å‹æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•:</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPointX</span>(<span class="hljs-params">point: { x: <span class="hljs-built_in">number</span> }</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-keyword">return</span> point.<span class="hljs-property">x</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">}</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">const</span> point = {</span>
<span class="code-block-extension-codeLine" data-line-num="6">	<span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-attr">y</span>: <span class="hljs-string">'2'</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">}</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-title function_">getPointX</span>(point) <span class="hljs-comment">// OK</span></span>
</code></pre>
  <p><strong>æ³¨æ„</strong>: å¦‚æœç›´æ¥ä¼ å…¥ä¸€ä¸ªå¯¹è±¡å­—é¢é‡æ˜¯ä¼šæŠ¥é”™çš„ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPointX</span>(<span class="hljs-params">point: { x: <span class="hljs-built_in">number</span> }</span>) {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-keyword">return</span> point.<span class="hljs-property">x</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">}</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-title function_">getPointX</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-string">'2'</span> }) <span class="hljs-comment">// error</span></span>
</code></pre>
  <p>è¿™æ˜¯ ts ä¸­çš„å¦ä¸€ä¸ªç‰¹æ€§ï¼Œå«åš:  <strong>excess property check</strong>  ï¼Œ<strong>å½“ä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡æ—¶ï¼Œä¼šè¿›è¡Œé¢å¤–å±æ€§æ£€æŸ¥ã€‚</strong></p>
  <h2 data-id="heading-44">å…¨å±€æ¨¡å— vs. æ–‡ä»¶æ¨¡å—</h2>
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e4136bb434f542e1b1c246efd3581661~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <h1 data-id="heading-45">ğŸ¤«åˆ·é¢˜ä¹ å¾—é»‘é­”æ³•</h1>
  <h2 data-id="heading-46">ğŸŒŸå­—ç¬¦ä¸²ã€æ•°ç»„æ‹†è§£</h2>
  <p>æ•°ç»„å¯ä»¥ç›´æ¥ç”¨ç±»ä¼¼jsçš„<code>[infer start, ...infer M, infer end] </code>æ¥è·å¾—ä¸€ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå€¼ã€‚
    å­—ç¬¦ä¸²ä¹Ÿæ˜¯<code>${infer L}${infer M}${infer R}</code>ï¼Œä½†æ³¨æ„è¿™é‡ŒLæ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ŒMæ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ï¼ŒRæ˜¯å‰©ä¸‹çš„å­—ç¬¦ï¼Œå¦‚æœå­—ç¬¦åªæœ‰2ä¸ªï¼Œåˆ™Ræ˜¯''ï¼Œå¦‚æœå­—ç¬¦åªæœ‰ä¸€ä½ï¼Œåˆ™æ— æ³•è¿™ä¹ˆæ‹†è§£æˆ3ä¸ªå˜é‡ï¼Œ<code>T extends </code><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mi>e</mi><mi>r</mi><mi>L</mi></mrow><annotation encoding="application/x-tex">{infer L}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">L</span></span></span></span></span></span>{infer M}${infer R}``æ¡ä»¶ä¼šèµ°åˆ°falseçš„è¯­å¥é‡Œå»ï¼Œè¿™ä¸€ç‚¹æ¯”è¾ƒå¥‡æ€ªã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// 15 å®ç°ä¸€ä¸ªé€šç”¨Last&lt;T&gt;ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„Tå¹¶è¿”å›å…¶æœ€åä¸€ä¸ªå…ƒç´ çš„ç±»å‹ã€‚</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Last</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]&gt; = T <span class="hljs-keyword">extends</span> [...infer B, infer P] ? P : <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> arr1 = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> arr2 = [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> tail1 = <span class="hljs-title class_">Last</span>&lt;arr1&gt; <span class="hljs-comment">// expected to be 'c'</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> tail2 = <span class="hljs-title class_">Last</span>&lt;arr2&gt; <span class="hljs-comment">// expected to be 1</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-comment">// å®ç° Replace&lt;S, From, To&gt; å°†å­—ç¬¦ä¸² S ä¸­çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸² From æ›¿æ¢ä¸º To ã€‚</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Replace</span>&lt;S <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>, <span class="hljs-title class_">From</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>, <span class="hljs-title class_">To</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = <span class="hljs-title class_">From</span> <span class="hljs-keyword">extends</span> <span class="hljs-string">''</span> </span>
<span class="code-block-extension-codeLine" data-line-num="13">? S </span>
<span class="code-block-extension-codeLine" data-line-num="14">: S <span class="hljs-keyword">extends</span> (<span class="hljs-string">`<span class="hljs-subst">${infer L}</span><span class="hljs-subst">${From}</span><span class="hljs-subst">${infer R}</span>`</span>) ? <span class="hljs-string">`<span class="hljs-subst">${L}</span><span class="hljs-subst">${To}</span><span class="hljs-subst">${R}</span>`</span>: S</span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">type</span> replaced = <span class="hljs-title class_">Replace</span>&lt;<span class="hljs-string">'types are fun!'</span>, <span class="hljs-string">'fun'</span>, <span class="hljs-string">'awesome'</span>&gt; <span class="hljs-comment">// æœŸæœ›æ˜¯ 'types are awesome!'</span></span>
</code></pre>
  <p>Replaceçš„ç”¨æ³•å¯è§å­—ç¬¦ä¸²æ‹†è§£æ—¶ï¼Œå˜é‡ä½ç½®æ˜ç¡®æ—¶å¯ä»¥æ˜¯å¤šä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²</p>
  <h2 data-id="heading-47">ğŸŒŸéå†</h2>
  <h3 data-id="heading-48">è”åˆç±»å‹</h3>
  <p>ç±»ä¼¼ç»“æ„çš„è”åˆç±»å‹å¯ä»¥ç›´æ¥é€šè¿‡extendsæ¡ä»¶è¯­å¥éå†åˆ°</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Cat</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">type</span>: <span class="hljs-string">'cat'</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-attr">breeds</span>: <span class="hljs-string">'Abyssinian'</span> | <span class="hljs-string">'Shorthair'</span> | <span class="hljs-string">'Curl'</span> | <span class="hljs-string">'Bengal'</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Dog</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-attr">type</span>: <span class="hljs-string">'dog'</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">  <span class="hljs-attr">breeds</span>: <span class="hljs-string">'Hound'</span> | <span class="hljs-string">'Brittany'</span> | <span class="hljs-string">'Bulldog'</span> | <span class="hljs-string">'Boxer'</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">  <span class="hljs-attr">color</span>: <span class="hljs-string">'brown'</span> | <span class="hljs-string">'white'</span> | <span class="hljs-string">'black'</span></span>
<span class="code-block-extension-codeLine" data-line-num="10">}</span>
<span class="code-block-extension-codeLine" data-line-num="11"></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">type</span> <span class="hljs-title class_">LookUp</span>&lt;T, K <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = T <span class="hljs-keyword">extends</span> { <span class="hljs-attr">type</span>: K } ? T : <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MyDog</span> = <span class="hljs-title class_">LookUp</span>&lt;<span class="hljs-title class_">Cat</span> | <span class="hljs-title class_">Dog</span>, <span class="hljs-string">'dog'</span>&gt; <span class="hljs-comment">// expected to be `Dog`</span></span>
</code></pre>
  <p>è¿™ä¸ªç‰¹æ€§å¯ä»¥åšäº›å˜æ€çš„äº‹äº†ï¼Œè­¬å¦‚æŠŠè”åˆç±»å‹ç»„æˆç¬›å¡å°”ç§¯çš„æ•°ç»„ï¼Œç›´æ¥çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftype-challenges%2Ftype-challenges%2Fissues%2F614" target="_blank" title="https://github.com/type-challenges/type-challenges/issues/614" ref="nofollow noopener noreferrer">github.com/type-challeâ€¦</a></p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Permutation</span>&lt;T, K=T&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="2">    [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">never</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="3">      ? []</span>
<span class="code-block-extension-codeLine" data-line-num="4">      : K <span class="hljs-keyword">extends</span> K</span>
<span class="code-block-extension-codeLine" data-line-num="5">        ? [K, ...<span class="hljs-title class_">Permutation</span>&lt;<span class="hljs-title class_">Exclude</span>&lt;T, K&gt;&gt;]</span>
<span class="code-block-extension-codeLine" data-line-num="6">        : <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> perm = <span class="hljs-title class_">Permutation</span>&lt;<span class="hljs-string">'A'</span> | <span class="hljs-string">'B'</span> | <span class="hljs-string">'C'</span>&gt;; </span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-comment">// ['A', 'B', 'C'] | ['A', 'C', 'B'] | ['B', 'A', 'C'] | ['B', 'C', 'A'] | ['C', 'A', 'B'] | ['C', 'B', 'A']</span></span>
</code></pre>
  <h3 data-id="heading-49">æ˜ å°„ç±»å‹</h3>
  <p>é€šè¿‡<code>extends keyof T</code>è¿›è¡Œéå†</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ObjectEntries</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;, K = keyof T&gt; = K <span class="hljs-keyword">extends</span> keyof T ? [K, T[K]]: [];</span>
<span class="code-block-extension-codeLine" data-line-num="2"></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Model</span> {</span>
<span class="code-block-extension-codeLine" data-line-num="4">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="5">  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-attr">locations</span>: <span class="hljs-built_in">string</span>[] | <span class="hljs-literal">null</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="7">}</span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> modelEntries = <span class="hljs-title class_">ObjectEntries</span>&lt;<span class="hljs-title class_">Model</span>&gt; <span class="hljs-comment">// ['name', string] | ['age', number] | ['locations', string[] | null];</span></span>
</code></pre>
  <h3 data-id="heading-50">å…ƒç»„</h3>
  <p>å…ƒç»„çš„éå†ï¼Œå€ŸåŠ©å…ƒç»„è§£æ„é€ä¸ªå¤„ç†é€»è¾‘ï¼Œå†æŠŠå‰©ä¸‹çš„å…ƒç»„è¿­ä»£è°ƒç”¨å½“å‰çš„ç±»å‹åˆ†æå™¨</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PromiseParseAll</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]&gt; = T <span class="hljs-keyword">extends</span> [infer P, ...infer O]</span>
<span class="code-block-extension-codeLine" data-line-num="2">  ? P <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer R&gt; ? [R, ...<span class="hljs-title class_">PromiseParseAll</span>&lt;O&gt;] : [P, ...<span class="hljs-title class_">PromiseParseAll</span>&lt;O&gt;]</span>
<span class="code-block-extension-codeLine" data-line-num="3">  : []</span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PromiseAll</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]&gt; = <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PromiseParseAll</span>&lt;T&gt;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">// expected to be `Promise&lt;[number, 42, string]&gt;`</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PRes</span> = <span class="hljs-title class_">PromiseAll</span>&lt;[<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt;, <span class="hljs-number">42</span>, <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;]&gt;;</span>
</code></pre>
  <h3 data-id="heading-51">å­—ç¬¦ä¸²</h3>
  <p>å­—ç¬¦ä¸²ç±»ä¼¼</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TrimLeft</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer L}</span><span class="hljs-subst">${infer R}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="2">? L <span class="hljs-keyword">extends</span> <span class="hljs-string">" "</span>|<span class="hljs-string">"\n"</span>|<span class="hljs-string">"\t"</span> ? <span class="hljs-title class_">TrimLeft</span>&lt;R&gt; : T</span>
<span class="code-block-extension-codeLine" data-line-num="3">: <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> trimed = <span class="hljs-title class_">TrimLeft</span>&lt;<span class="hljs-string">'  Hello World '</span>&gt; <span class="hljs-comment">// åº”æ¨å¯¼å‡º 'Hello World '</span></span>
</code></pre>
  <h2 data-id="heading-52">ğŸŒŸå­—ç¬¦ä¸²è½¬æ•°å­—</h2>
  <p>ä½¿ç”¨åœºæ™¯ï¼šå­—ç¬¦ä¸²çš„é€ä¸ªè§£ææœ‰é€’å½’ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è½¬æˆå­—ç¬¦ä¸²ååšä¸€äº›è¿™æ–¹é¢çš„å¤„ç†ï¼Œå¤„ç†å®Œåè¿˜éœ€è¦è½¬å›å»</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ToNumber</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer N <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="2">  ? N</span>
<span class="code-block-extension-codeLine" data-line-num="3">  : T</span>
</code></pre>
  <h2 data-id="heading-53">æ˜ å°„ç±»å‹ keyå€¼çš„äº¤é›†ä¸å¹¶é›†</h2>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> foo = {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-attr">age</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">}</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> coo = {</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="8">  <span class="hljs-attr">sex</span>: <span class="hljs-built_in">string</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">}</span>
<span class="code-block-extension-codeLine" data-line-num="10"></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestUnion</span> = keyof foo | keyof coo; <span class="hljs-comment">// 'name' | 'age' | 'sex'</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestBoth</span> = keyof (foo | coo);  <span class="hljs-comment">// 'age'</span></span>
</code></pre>
  <h2 data-id="heading-54">ğŸŒŸè”åˆç±»å‹å˜äº¤å‰ç±»å‹</h2>
  <p>åˆ©ç”¨å‡½æ•°å…¥å‚çš„é€†å˜ç‰¹æ€§ï¼ŒæŠŠè¾“å…¥ç±»å‹æ„å»ºæˆå‡½æ•°å‚æ•°</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">UnionToIntersection</span>&lt;U&gt; = </span>
<span class="code-block-extension-codeLine" data-line-num="2">  (U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span> </span>
<span class="code-block-extension-codeLine" data-line-num="3">   ? <span class="hljs-function">(<span class="hljs-params">arg: U</span>) =&gt;</span> <span class="hljs-built_in">any</span> </span>
<span class="code-block-extension-codeLine" data-line-num="4">   : <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">  ) <span class="hljs-keyword">extends</span> (<span class="hljs-function">(<span class="hljs-params">arg: infer I</span>) =&gt;</span> <span class="hljs-built_in">any</span>) </span>
<span class="code-block-extension-codeLine" data-line-num="6">  ? I </span>
<span class="code-block-extension-codeLine" data-line-num="7">  : <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestUnion2Intersection</span> = <span class="hljs-title class_">UnionToIntersection</span>&lt;{<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>} | {<span class="hljs-attr">b</span>: <span class="hljs-number">2</span>} | {<span class="hljs-attr">c</span>: <span class="hljs-number">3</span>}&gt; </span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-comment">// expected to be {a: 1} &amp; {b: 2} &amp; {c: 3}</span></span>
</code></pre>
  <h2 data-id="heading-55">è”åˆç±»å‹è½¬å…ƒç»„ - å¤šä¸ªå‡½æ•°äº¤é›†çš„è¿”å›å€¼ç±»å‹åªå–æœ€åä¸€ä¸ª</h2>
  <p><code>(()=&gt;a) &amp; (()=&gt;b) &amp; (()=&gt;c)</code>è·å¾—è¿™äº›å‡½æ•°è¿”å›å€¼ä¼šæ˜¯c</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">//éœ€è¦äº†è§£æ€§è´¨ï¼šå¤šä¸ªå‡½æ•°äº¤é›†çš„è¿”å›å€¼ç±»å‹åªå–æœ€åä¸€ä¸ªï¼(This is Important!)</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">//ä¾‹å¦‚ï¼š</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-comment">// type Intersepted = (() =&gt; 'a') &amp; (() =&gt; 'b') &amp; (() =&gt; 'c')</span></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-comment">// type Last = Intersepted extends () =&gt; infer R ? R : never // 'c'</span></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">//å‚è€ƒï¼šhttps://github.com/type-challenges/type-challenges/issues/21658#issue-1523555097</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-comment">/**å¹¶é›†è½¬äº¤é›† */</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-title class_">UnionToIntersection</span>&lt;T&gt; = (T <span class="hljs-keyword">extends</span> T ? <span class="hljs-function">(<span class="hljs-params">args: T</span>) =&gt;</span> <span class="hljs-built_in">any</span> : <span class="hljs-built_in">never</span>) </span>
<span class="code-block-extension-codeLine" data-line-num="9">  <span class="hljs-keyword">extends</span> (<span class="hljs-attr">args</span>: infer P) =&gt; <span class="hljs-built_in">any</span> </span>
<span class="code-block-extension-codeLine" data-line-num="10">  ? P </span>
<span class="code-block-extension-codeLine" data-line-num="11">  : <span class="hljs-built_in">never</span>;    <span class="hljs-comment">// a | b | c ==&gt; a &amp; b &amp; c</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-comment">/**è”åˆç±»å‹æœ€åä¸€ä¸ª */</span></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-keyword">type</span> <span class="hljs-title class_">UnionLast</span>&lt;T&gt; = (<span class="hljs-title class_">UnionToIntersection</span>&lt;T <span class="hljs-keyword">extends</span> T ? <span class="hljs-function">() =&gt;</span> T : <span class="hljs-built_in">never</span>&gt;) </span>
<span class="code-block-extension-codeLine" data-line-num="14">  <span class="hljs-keyword">extends</span> () =&gt; infer R ? R : <span class="hljs-built_in">never</span>;           <span class="hljs-comment">// a | b | c ==&gt; (()=&gt;a) | (()=&gt;b) | (()=&gt;c) ==&gt; (()=&gt;a) &amp; (()=&gt;b) &amp; (()=&gt;c) ==&gt; c</span></span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">type</span> <span class="hljs-title class_">UnionToTuple</span>&lt;T&gt; = [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">never</span>] </span>
<span class="code-block-extension-codeLine" data-line-num="17">  ? [] </span>
<span class="code-block-extension-codeLine" data-line-num="18">  : [<span class="hljs-title class_">UnionLast</span>&lt;T&gt;, ...<span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-title class_">Exclude</span>&lt;T, <span class="hljs-title class_">UnionLast</span>&lt;T&gt;&gt;&gt;];</span>
<span class="code-block-extension-codeLine" data-line-num="19"></span>
<span class="code-block-extension-codeLine" data-line-num="20"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestUnionToTuple1</span> = <span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-number">1</span>&gt;           <span class="hljs-comment">// [1]</span></span>
<span class="code-block-extension-codeLine" data-line-num="21"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestUnionToTuple2</span> = <span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-string">'any'</span> | <span class="hljs-string">'a'</span>&gt; <span class="hljs-comment">// ['any','a']</span></span>
<span class="code-block-extension-codeLine" data-line-num="22"><span class="hljs-title class_">Equal</span>&lt;<span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-built_in">any</span> | <span class="hljs-string">'a'</span>&gt;,       <span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-built_in">any</span>&gt;&gt;         <span class="hljs-comment">// will always be a true</span></span>
<span class="code-block-extension-codeLine" data-line-num="23"><span class="hljs-title class_">Equal</span>&lt;<span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-built_in">unknown</span> | <span class="hljs-string">'a'</span>&gt;,   <span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-built_in">unknown</span>&gt;&gt;     <span class="hljs-comment">// will always be a true</span></span>
<span class="code-block-extension-codeLine" data-line-num="24"><span class="hljs-title class_">Equal</span>&lt;<span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-built_in">never</span> | <span class="hljs-string">'a'</span>&gt;,     <span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-string">'a'</span>&gt;&gt;         <span class="hljs-comment">// will always be a true</span></span>
<span class="code-block-extension-codeLine" data-line-num="25"><span class="hljs-title class_">Equal</span>&lt;<span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-string">'a'</span> | <span class="hljs-string">'a'</span> | <span class="hljs-string">'a'</span>&gt;, <span class="hljs-title class_">UnionToTuple</span>&lt;<span class="hljs-string">'a'</span>&gt;&gt;         <span class="hljs-comment">// will always be a true</span></span>
<span class="code-block-extension-codeLine" data-line-num="26">  </span>
</code></pre>
  <h2 data-id="heading-56">åˆ¤æ–­ä¸¤ä¸ªç±»å‹ç›¸ç­‰</h2>
  <p>å¤§å¤šæ•°éä¸¥æ ¼æƒ…å†µä¸‹çš„ç›¸ç­‰ä½¿ç”¨ <code>A extends B</code>åŸºæœ¬å¯ä»¥åšåˆ°ï¼Œè­¬å¦‚å‰ä¸€æ­¥çš„ç±»å‹ä¸­é—´æ–¹æ³•æ ¹æ®æ¡ä»¶è¿”å›äº†trueæˆ–falseï¼Œæ¥ä¸‹æ¥è¦åˆ¤æ–­ç»“æœæ˜¯å¦æ˜¯trueï¼Œç›´æ¥ç”¨ <code>T extends true ? xxx : xxx</code>è¿›è¡Œæ¥ä¸‹æ¥çš„æ“ä½œå°±å¥½ã€‚</p>
  <p>ä½†æ˜¯æšä¸¾ç±»å‹ä¸‹ï¼Œextendsæ— æ³•å¾ˆå¥½çš„åŒºåˆ†æ˜¯å¦å¯é€‰ï¼Œæ˜¯å¦åªè¯»çš„åŒºåˆ«ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> a = {<span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>} <span class="hljs-keyword">extends</span> {<span class="hljs-keyword">readonly</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>} ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>; <span class="hljs-comment">// true</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> b = {<span class="hljs-keyword">readonly</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>} <span class="hljs-keyword">extends</span> {<span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>} ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>; <span class="hljs-comment">// true</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">type</span> c = {<span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>} <span class="hljs-keyword">extends</span> {a?: <span class="hljs-built_in">string</span>} ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>; <span class="hljs-comment">// true</span></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> d = {a?: <span class="hljs-built_in">string</span>} <span class="hljs-keyword">extends</span> {<span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>} ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>; <span class="hljs-comment">// false</span></span>
</code></pre>
  <p>æ‰€ä»¥ä¸¥æ ¼çš„ç›¸ç­‰è¦å€ŸåŠ©å‡½æ•°çš„åå˜ï¼Œå…·ä½“çš„é€»è¾‘æˆ‘ä¹Ÿæ²¡getåˆ°ã€‚ã€‚ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Equal</span>&lt;X, Y&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="2">  (&lt;T&gt;<span class="hljs-function">() =&gt;</span> T <span class="hljs-keyword">extends</span> X ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>) <span class="hljs-keyword">extends</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">  (&lt;T&gt;<span class="hljs-function">() =&gt;</span> T <span class="hljs-keyword">extends</span> Y ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>) ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span></span>
</code></pre>
  <h2 data-id="heading-57">åˆ¤æ–­never</h2>
  <p>å…ˆæ¥çœ‹ä¸€ä¸ªåç›´è§‰çš„ç°è±¡ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// 1.</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">JudgeNever</span> = <span class="hljs-built_in">never</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>; <span class="hljs-comment">// true</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-comment">// 2.</span></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TryIsNever</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> testTryIsNever = <span class="hljs-title class_">TryIsNever</span>&lt;<span class="hljs-built_in">never</span>&gt; <span class="hljs-comment">// never</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-comment">// 3.</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">type</span> <span class="hljs-title class_">IsNever</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>&gt; = [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">never</span>] ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">type</span> testIsNever = <span class="hljs-title class_">IsNever</span>&lt;<span class="hljs-built_in">never</span>&gt;  <span class="hljs-comment">// true</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"></span>
</code></pre>
  <p>éå¸¸éš¾ä»¥ç†è§£æ˜¯ä¸</p>
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a5cf3434e3c54e53b474117d85b52567~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image">
    è¯¦æƒ…ï¼š</p>
  <p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼šneveræ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è”åˆç±»å‹ï¼ˆå®ƒæœ¬èº«æ˜¯ä¸€ä¸ªåº•éƒ¨ç±»å‹ï¼‰ï¼Œå®ƒæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæˆå‘˜ï¼Œè€Œæ ¹æ®Distributive Conditional Typesï¼Œè”åˆç±»å‹ä½œä¸ºæ³›å‹ä¼ å…¥åï¼Œä¼šåˆ†å¼€è®¡ç®—ï¼Œå› æ­¤å½“è¾“å…¥æ˜¯neveræ—¶ï¼Œå› ä¸ºä»–ä¸€ä¸ªæˆå‘˜éƒ½æ²¡æœ‰ï¼Œè‡ªç„¶ä¹Ÿä¸éœ€è¦è®¡ç®—äº†ï¼Œç›´æ¥è¿”å›neverã€‚è€Œ<code>[T]</code>æ˜¯tså®ç°çš„ä¸€ä¸ªç‰¹æ€§ï¼Œèƒ½å¤Ÿæ‰“ç ´è¿™ç§Distributive Conditional Typesè§„åˆ™ã€‚
    ç„¶åä¼¼ä¹èŒƒå‹é»˜è®¤æ˜¯å½“è”åˆç±»å‹å¤„ç†æ¡ä»¶è¯­å¥ï¼Ÿæ‰€ä»¥1å’Œ2çš„ç»“æ„ä¸åŒ
    å¦‚æœä¸èƒ½ç†è§£å’±å°±è®°ä½ï¼š<code>[T] extends [never]</code>åªèƒ½è¿™ä¹ˆåˆ¤æ–­ç±»å‹æ˜¯å¦æ˜¯never</p>
  <h2 data-id="heading-58">â“â“â“T extends neverçš„ä½œç”¨</h2>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// è§£æï¼šhttps://github.com/type-challenges/type-challenges/issues/22792ã€</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">// https://github.com/type-challenges/type-challenges/issues/1140</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">type</span> <span class="hljs-title class_">IsUnion</span>&lt;T, <span class="hljs-title class_">Copy</span> = T&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="4">  [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">never</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="5">    ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">    : T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">      ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">      : [<span class="hljs-title class_">Copy</span>] <span class="hljs-keyword">extends</span> [T]</span>
<span class="code-block-extension-codeLine" data-line-num="9">        ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="10">        : <span class="hljs-literal">true</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">;</span>
<span class="code-block-extension-codeLine" data-line-num="12"></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestN</span>&lt;T, <span class="hljs-title class_">Copy</span> = T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="14">      ? <span class="hljs-literal">false</span> : [<span class="hljs-title class_">Copy</span>] <span class="hljs-keyword">extends</span> [T] ? <span class="hljs-literal">false</span> : <span class="hljs-literal">true</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestNI</span> = <span class="hljs-title class_">TestN</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt; <span class="hljs-comment">// true</span></span>
<span class="code-block-extension-codeLine" data-line-num="16"></span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestNC</span>&lt;T, <span class="hljs-title class_">Copy</span> = T&gt; = [<span class="hljs-title class_">Copy</span>] <span class="hljs-keyword">extends</span> [T] ? <span class="hljs-literal">false</span> : <span class="hljs-literal">true</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestNCI</span> = <span class="hljs-title class_">TestNC</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt; <span class="hljs-comment">// false</span></span>
<span class="code-block-extension-codeLine" data-line-num="19"></span>
</code></pre>
  <p>ä¸ºä»€ä¹ˆTestNIå’ŒTestNCIå¦‚æ­¤ä¸åŒï¼Œ <code>T extends never</code>çš„ä½œç”¨ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/652be1cfbc7346c1afb391e15b21bc32~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image">
    è®©æˆ‘ä»¬æ¥çœ‹çœ‹ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Hmm</span>&lt;T&gt; = keyof T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">// å¦‚å‰äººæ‰€è¯´æ˜¯true</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-comment">// 1.</span></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> testMapVal = <span class="hljs-title class_">Hmm</span>&lt;{ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span> } | { <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }&gt; <span class="hljs-comment">// true</span></span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> testUnionMapKeyType = keyof ({ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span> } | { <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> }) <span class="hljs-comment">// never</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-comment">// å‡ ä¸ªæ²¡æœ‰å…±åŒå±æ€§çš„æ˜ å°„ç±»å‹çš„è”åˆç±»å‹çš„keyof æ˜¯never</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestUnkown</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-comment">// 2.</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> testUnionMapKey = <span class="hljs-title class_">TestUnkown</span>&lt;keyof ({ <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span> } | { <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> })&gt; <span class="hljs-comment">// never</span></span>
</code></pre>
  <p>1å’Œ2çš„å·®å¼‚ä¹ä¸€çœ‹å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯çœ‹äº†ä¸Šä¸€å¼ æˆ‘ä»¬çŸ¥é“1ä¸­<code> keyof T extends never</code>ç­‰åŒäº<code> never extends never</code>å°±æ˜¯trueã€‚2ä¸­keyofæ˜¯å…ˆæ±‚å€¼å†ä½œä¸ºèŒƒå‹ä¼ è¿›å»ï¼ŒæŒ‰ç…§è”åˆç±»å‹åˆ†é…å¾‹ï¼Œneverè¿™ä¸ªåº•éƒ¨ç±»å‹ç»„æˆçš„è”åˆç±»å‹æ²¡æœ‰æˆå‘˜ï¼Œä¸ä¼šæ‰§è¡Œæ¡ä»¶è¯­å¥ï¼Œä¹Ÿå°±è¿”å›neveräº†ã€‚</p>
  <p>å†å›å¤´çœ‹çœ‹è¿™ä¸€æ®µ</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">IsUnion</span>&lt;T, <span class="hljs-title class_">Copy</span> = T&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="2">  [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">never</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="3">    ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">    : T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">      ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">      : [<span class="hljs-title class_">Copy</span>] <span class="hljs-keyword">extends</span> [T]</span>
<span class="code-block-extension-codeLine" data-line-num="7">        ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">        : <span class="hljs-literal">true</span></span>
<span class="code-block-extension-codeLine" data-line-num="9">;</span>
</code></pre>
  <ul>
    <li>ç¬¬1ä¸ªæ¡ä»¶è®©Tä¸ºneverç±»å‹æ—¶è¿”å›false</li>
    <li>ç¬¬2ä¸ªæ¡ä»¶æ˜¯è¿›è¡Œè”åˆç±»å‹è¿›è¡Œåˆ†é…å¾‹æ‹†è§£è¿›å…¥ä¸‹ä¸€æ­¥éª¤çš„æ¡¥æ¢ï¼Ÿå¹¶ä¸æ˜¯ç”¨æ¥åšæ¡ä»¶åˆ¤æ–­çš„ï¼Œä¸Šä¸€æ­¥å·²ç»æ’é™¤neverç±»å‹åï¼Œè¿™é‡Œéƒ½ä¼šåˆ¤æ–­ä¸ºä¸æˆç«‹ã€‚</li>
    <li>ç¬¬3ä¸ªæ¡ä»¶<code>[Copy] extends [T]</code>æ˜¯è¦æ±‚ä¸ä½¿ç”¨åˆ†é…å¾‹æ¥åˆ¤æ–­ç»“æœï¼Œå¤§èƒ†æ¨æµ‹è¿™é‡Œåªæ˜¯ä¸å¯¹copyç”¨åˆ†é…å¾‹ï¼Œcopyåªèƒ½æ˜¯è”åˆç±»å‹ï¼ŒTä¾æ—§å¯ä»¥æ˜¯è”åˆç±»å‹ä¸­çš„æŸä¸€ä¸ªï¼Œæ‰€ä»¥è”åˆç±»å‹<code>[number|string] extends [string]</code>å°±ä¼šè¿›å…¥åˆ°ä¸ºå‡çš„è¯­å¥é‡Œè¿”å›trueï¼Œæœ‰ä¸”åªæœ‰è”åˆç±»å‹èƒ½åšåˆ°è¿™æ ·</li>
  </ul>
  <p>å•Šã€‚ã€‚ã€‚æˆ‘å¼ºè¡Œè§£é‡Šä¹Ÿè§£é‡Šä¸äº†äº†ï¼Œè°èƒ½è§£é‡Šç•™è¨€æ•™æ•™æˆ‘ğŸ¶ã€‚</p>
  <p>å›åˆ°è¿™é¢˜ä¸çº ç»“neverï¼Œè‚¯èƒ½æ¢ç§å†™æ³•æ›´å¥½ç†è§£</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-title class_">IsUnion</span>&lt;T, B = T&gt; = [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">never</span>] </span>
<span class="code-block-extension-codeLine" data-line-num="2">  ? <span class="hljs-literal">false</span> </span>
<span class="code-block-extension-codeLine" data-line-num="3">  : (T <span class="hljs-keyword">extends</span> T </span>
<span class="code-block-extension-codeLine" data-line-num="4">     ? [B] <span class="hljs-keyword">extends</span> [T] </span>
<span class="code-block-extension-codeLine" data-line-num="5">     	? <span class="hljs-literal">false</span> </span>
<span class="code-block-extension-codeLine" data-line-num="6">     	: <span class="hljs-literal">true</span> </span>
<span class="code-block-extension-codeLine" data-line-num="7">     : <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">  );</span>
</code></pre>
  <p>:::info
    è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæŠ€å·§<code>IsUnion&lt;T, B = T&gt;</code>çœ‹ä¸Šå»Bå’ŒTæ˜¯ä¸€æ ·ï¼Œä½†å…¶å®å½“Tä¸ºè”åˆç±»å‹æ—¶ï¼ŒBå¯èƒ½ä¸ºå…¶ä¸­ä»»æ„ä¸€ç§å­ç±»å‹ï¼Œè­¬å¦‚Tæ˜¯<code>string|number</code>ï¼ŒBå¯ä»¥æ˜¯<code>number</code>
    :::</p>
  <h2 data-id="heading-59">ğŸŒŸæšä¸¾ç±»å‹keyçš„é‡æ–°æ˜ å°„å’Œè¿‡æ»¤</h2>
  <p>å¯ä»¥ä½¿ç”¨<code>Key in keyof T as XXX</code>ï¼Œå¯¹æšä¸¾ç±»å‹é‡æ–°å°è£…ç”Ÿæˆæ–°ç±»å‹
    å¦‚æœasåçš„ç±»å‹æ˜¯<code>never</code>åˆ™ä¼šåœ¨ç»“æœä¸­è¿‡æ»¤æ‰è¿™ä¸ªç±»å‹ã€‚
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/276f6502fd6a4bb9adc5b268082d4d4f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <blockquote>
    <p>Implement RemoveIndexSignature , exclude the index signature from object types.</p>
  </blockquote>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TypeLiteralOnly</span>&lt;T&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-built_in">string</span> <span class="hljs-keyword">extends</span> T</span>
<span class="code-block-extension-codeLine" data-line-num="3">  ? <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">  : <span class="hljs-built_in">number</span> <span class="hljs-keyword">extends</span> T</span>
<span class="code-block-extension-codeLine" data-line-num="5">    ? <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">    : <span class="hljs-built_in">boolean</span> <span class="hljs-keyword">extends</span> T</span>
<span class="code-block-extension-codeLine" data-line-num="7">      ? <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">      : <span class="hljs-built_in">symbol</span> <span class="hljs-keyword">extends</span> T</span>
<span class="code-block-extension-codeLine" data-line-num="9">        ? <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="10">        : T;</span>
<span class="code-block-extension-codeLine" data-line-num="11"></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">type</span> <span class="hljs-title class_">RemoveIndexSignature</span>&lt;T&gt; = {</span>
<span class="code-block-extension-codeLine" data-line-num="13">  [</span>
<span class="code-block-extension-codeLine" data-line-num="14">    <span class="hljs-title class_">Key</span> <span class="hljs-keyword">in</span> keyof T</span>
<span class="code-block-extension-codeLine" data-line-num="15">    <span class="hljs-keyword">as</span> <span class="hljs-title class_">TypeLiteralOnly</span>&lt;<span class="hljs-title class_">Key</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="16">  ]: T[<span class="hljs-title class_">Key</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="17">};</span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FooRemove</span> = {</span>
<span class="code-block-extension-codeLine" data-line-num="19">  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="20">  <span class="hljs-title function_">foo</span>(): <span class="hljs-built_in">void</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="21">}</span>
<span class="code-block-extension-codeLine" data-line-num="22"></span>
<span class="code-block-extension-codeLine" data-line-num="23"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ARemove</span> = <span class="hljs-title class_">RemoveIndexSignature</span>&lt;<span class="hljs-title class_">FooRemove</span>&gt;  <span class="hljs-comment">// expected { foo(): void }</span></span>
</code></pre>
  <h2 data-id="heading-60">ğŸ‘¼æšä¸¾å¯èƒ½æ€§ç»„åˆ - è”åˆç±»å‹</h2>
  <p>è”åˆç±»å‹åœ¨éå†æ—¶èƒ½äº§ç”Ÿæšä¸¾çš„æ•ˆæœï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// [] | [1] | [3] | [1, 2, 3] | [2, 3] | [1, 2] | [2] | [1, 3]</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Subsequence</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[]&gt; = T <span class="hljs-keyword">extends</span> [infer <span class="hljs-title class_">Left</span>, ...infer <span class="hljs-title class_">Rest</span>] </span>
<span class="code-block-extension-codeLine" data-line-num="3">? [<span class="hljs-title class_">Left</span>, ...<span class="hljs-title class_">Subsequence</span>&lt;<span class="hljs-title class_">Rest</span>&gt;] | <span class="hljs-title class_">Subsequence</span>&lt;<span class="hljs-title class_">Rest</span>&gt; </span>
<span class="code-block-extension-codeLine" data-line-num="4">: T</span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-comment">// //  [1, 2, 3]</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-comment">// type Subsequence&lt;T extends any[]&gt; = T extends [infer Left, ...infer Rest] </span></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-comment">// ? [Left, ...Subsequence&lt;Rest&gt;]</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-comment">// : T</span></span>
<span class="code-block-extension-codeLine" data-line-num="10"></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-comment">// []</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-comment">// type Subsequence&lt;T extends any[]&gt; = T extends [infer Left, ...infer Rest] </span></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-comment">// ? Subsequence&lt;Rest&gt; </span></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-comment">// : T</span></span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TestSubsequence</span> = <span class="hljs-title class_">Subsequence</span>&lt;[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&gt; <span class="hljs-comment">//[] | [1] | [3] | [1, 2, 3] | [2, 3] | [1, 2] | [2] | [1, 3]</span></span>
</code></pre>
  <p>è¿™é‡Œçš„å·§å¦™ä¹‹å¤„å°±æ˜¯æ„å»ºäº†ä¸€ä¸ªè”åˆç±»å‹ï¼Œè€Œå…¶ä¸­ä¸€é¡¹å¯èƒ½æ˜¯ç©ºå…ƒç»„<code>[]</code>ã€‚é€šè¿‡åˆ†è§£æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œ<code>Subsequence&lt;Rest&gt;</code>çš„ç»“æœå¯èƒ½æ˜¯<code>[]</code>ä¹Ÿå¯èƒ½æ˜¯è¿™ä¸ªå…ƒç»„æœ¬èº«ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šæœ‰ï¼š</p>
  <ul>
    <li>
      <p>æ¯æ¬¡é€’å½’éƒ½å‘½ä¸­ç©ºå…ƒç»„ï¼Œç»“æœå°±æ˜¯<code>[]</code></p>
    </li>
    <li>
      <p>ç¬¬1æ¬¡é€’å½’å‘½ä¸­<code>[Left, ...Subsequence&lt;Rest&gt;]</code>ï¼Œè¿™æ—¶å€™å…ƒç»„ä¼šæœ‰<code>[1, ...Subsequence&lt;2,3&gt;]</code></p>
      <ul>
        <li>ç¬¬2è½®é€’å½’ï¼š<code>Subsequence&lt;2,3&gt;</code>å‘½ä¸­<code>[Left, ...Subsequence&lt;Rest&gt;]</code>ï¼Œç»“æœï¼š<code>[1, 2, ...Subsequence&lt;3&gt;]</code>
          <ul>
            <li>ç¬¬3è½®é€’å½’ï¼Œ<code>Subsequence&lt;3&gt;</code>å‘½ä¸­<code>[Left, ...Subsequence&lt;Rest&gt;]</code>ï¼Œç»è¿‡ç¬¬å››è½®è·å¾—çš„<code>[]</code>ï¼Œæ•´ä½“ç»“æœ<code>[1,2,3]</code></li>
            <li>ç¬¬3è½®é€’å½’ï¼Œ<code>Subsequence&lt;3&gt;</code>å‘½ä¸­<code>Subsequence&lt;Rest&gt;</code>ï¼Œæ•´ä½“ç»“æœ<code>[1,2]</code></li>
          </ul>
        </li>
        <li>ç¬¬2è½®é€’å½’ï¼š<code>Subsequence&lt;2,3&gt;</code>å‘½ä¸­<code>Subsequence&lt;Rest&gt;</code>ï¼Œç»“æœï¼š<code>[1, ...Subsequence&lt;3&gt;]</code>
          <ul>
            <li>ç¬¬3è½®é€’å½’ï¼Œ<code>Subsequence&lt;3&gt;</code>å‘½ä¸­<code>[Left, ...Subsequence&lt;Rest&gt;]</code>ï¼Œç»è¿‡ç¬¬å››è½®è·å¾—çš„<code>[]</code>ï¼Œæ•´ä½“ç»“æœ<code>[1,3]</code></li>
            <li>ç¬¬3è½®é€’å½’ï¼Œ<code>Subsequence&lt;3&gt;</code>å‘½ä¸­<code>Subsequence&lt;Rest&gt;</code>ï¼Œæ•´ä½“ç»“æœ<code>[1]</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <p>åŒç†ï¼Œå¦‚æœç¬¬1æ¬¡é€’å½’å‘½ä¸­çš„å–å€¼æ˜¯<code>Subsequence&lt;Rest&gt;</code>çš„ç±»å‹ï¼Œåˆ™è¿™æ¬¡é€’å½’ç»“æœæ˜¯<code>[]</code>ï¼Œç»è¿‡åç»­2ï¼Œ3ï¼Œ4è½®é€’å½’ä¼šæœ‰</p>
      <ul>
        <li><code>[2ï¼Œ3]</code></li>
        <li><code>[2]</code></li>
      </ul>
    </li>
    <li>
      <p>å†åŒç†ï¼Œç¬¬ä¸€äºŒè½®é€’å½’éƒ½å¯èƒ½å‘½ä¸­<code>Subsequence&lt;Rest&gt;</code>çš„ç±»å‹ï¼Œé€’å½’ç»“æœæ˜¯<code>[]</code>ï¼Œå‰©ä¸‹çš„é ç¬¬3è½®å¾—åˆ°ï¼š</p>
      <ul>
        <li><code>[3]</code></li>
      </ul>
    </li>
  </ul>
  <p>è¿™ä¸ªæ’åˆ—ç»„åˆç¡®å®é€»è¾‘æ¯”è¾ƒç»•ã€‚
    å¯ä»¥å†çœ‹ä¸ªä¾‹å­ï¼Œè‡ªä¸ªè„‘è¡¥è¿‡ç¨‹å·©å›ºä¸‹ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Combination</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>[], U = T[<span class="hljs-built_in">number</span>], K = U&gt; = K <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span></span>
<span class="code-block-extension-codeLine" data-line-num="2">    ? K | <span class="hljs-string">`<span class="hljs-subst">${K}</span> <span class="hljs-subst">${Combination&lt;[], Exclude&lt;U, K&gt;&gt;}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">    : <span class="hljs-string">''</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">    </span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-comment">// expected to be `"foo" | "bar" | "baz" | "foo bar" | "foo bar baz" | "foo baz" | "foo baz bar" | "bar foo" | "bar foo baz" | "bar baz" | "bar baz foo" | "baz foo" | "baz foo bar" | "baz bar" | "baz bar foo"`</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Keys</span> = <span class="hljs-title class_">Combination</span>&lt;[<span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span>, <span class="hljs-string">'baz'</span>]&gt;</span>
</code></pre>
  <h2 data-id="heading-61">ğŸŒŸæ‹†åˆ†æ›´æ¸…æ™°</h2>
  <p>ä¸€ä¸ªç±»å‹æ¨å¯¼æ‹†æˆå‡ ä¸ªæ­¥éª¤ï¼Œå®ç°å‡ ä¸ªä¸­é—´æ€çš„æ¨å¯¼ç±»å‹ï¼Œå°±ç±»ä¼¼æŠŠä¸€ä¸ªå¤§å‡½æ•°æ‹†æ•£ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æ–¹ä¾¿çš„æ‹¥æœ‰äº†å­˜å‚¨çš„ä¸­é—´æ€ç±»å‹ï¼Œä¹Ÿèƒ½èƒ½æœ‰æ•ˆå‡å°‘æ¡ä»¶è¯­å¥çš„åˆ†æ”¯æ•°é‡ã€‚</p>
  <p>å®ç°ç±»å‹ PercentageParserã€‚æ ¹æ®è§„åˆ™<code> /^(\+|\-)?(\d*)?(\%)?$/</code> åŒ¹é…ç±»å‹ Tã€‚
    åŒ¹é…çš„ç»“æœç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š[æ­£è´Ÿå·, æ•°å­—, å•ä½]ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™é»˜è®¤æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PString1</span> = <span class="hljs-string">''</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PString2</span> = <span class="hljs-string">'+85%'</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PString3</span> = <span class="hljs-string">'-85%'</span></span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PString4</span> = <span class="hljs-string">'85%'</span></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PString5</span> = <span class="hljs-string">'85'</span></span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">R1</span> = <span class="hljs-title class_">PercentageParser</span>&lt;<span class="hljs-title class_">PString1</span>&gt; <span class="hljs-comment">// expected ['', '', '']</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">R2</span> = <span class="hljs-title class_">PercentageParser</span>&lt;<span class="hljs-title class_">PString2</span>&gt; <span class="hljs-comment">// expected ["+", "85", "%"]</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">R3</span> = <span class="hljs-title class_">PercentageParser</span>&lt;<span class="hljs-title class_">PString3</span>&gt; <span class="hljs-comment">// expected ["-", "85", "%"]</span></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">R4</span> = <span class="hljs-title class_">PercentageParser</span>&lt;<span class="hljs-title class_">PString4</span>&gt; <span class="hljs-comment">// expected ["", "85", "%"]</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">R5</span> = <span class="hljs-title class_">PercentageParser</span>&lt;<span class="hljs-title class_">PString5</span>&gt; <span class="hljs-comment">// expected ["", "85", ""]</span></span>
</code></pre>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Symbol</span> = <span class="hljs-string">"+"</span> | <span class="hljs-string">"-"</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PercentageParser</span>&lt;A <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="3">  A <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer F <span class="hljs-keyword">extends</span> <span class="hljs-built_in">Symbol</span>}</span><span class="hljs-subst">${infer R}</span>%`</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">    ? [F, R, <span class="hljs-string">"%"</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="5">    : A <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer F <span class="hljs-keyword">extends</span> <span class="hljs-built_in">Symbol</span>}</span><span class="hljs-subst">${infer R}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">    ? [F, R, <span class="hljs-string">""</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="7">    : A <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer R}</span>%`</span></span>
<span class="code-block-extension-codeLine" data-line-num="8">    ? [<span class="hljs-string">""</span>, R, <span class="hljs-string">"%"</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="9">    : [<span class="hljs-string">""</span>, A, <span class="hljs-string">""</span>];</span>
</code></pre>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ParseSign</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="2">  T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer Head}</span><span class="hljs-subst">${<span class="hljs-built_in">string</span>}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">    ? <span class="hljs-title class_">Head</span> <span class="hljs-keyword">extends</span> <span class="hljs-string">'+'</span> | <span class="hljs-string">'-'</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">      ? <span class="hljs-title class_">Head</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">      : <span class="hljs-string">''</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">    : <span class="hljs-string">''</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ParsePercent</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="9">  T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">string</span>}</span>%`</span></span>
<span class="code-block-extension-codeLine" data-line-num="10">    ? <span class="hljs-string">'%'</span></span>
<span class="code-block-extension-codeLine" data-line-num="11">    : <span class="hljs-string">''</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="12"></span>
<span class="code-block-extension-codeLine" data-line-num="13"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ParseNumber</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="14">  T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${ParseSign&lt;T&gt;}</span><span class="hljs-subst">${infer N}</span><span class="hljs-subst">${ParsePercent&lt;T&gt;}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="15">    ? N</span>
<span class="code-block-extension-codeLine" data-line-num="16">    : <span class="hljs-string">''</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="17"></span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PercentageParser</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = [</span>
<span class="code-block-extension-codeLine" data-line-num="19">  <span class="hljs-title class_">ParseSign</span>&lt;T&gt;,</span>
<span class="code-block-extension-codeLine" data-line-num="20">  <span class="hljs-title class_">ParseNumber</span>&lt;T&gt;,</span>
<span class="code-block-extension-codeLine" data-line-num="21">  <span class="hljs-title class_">ParsePercent</span>&lt;T&gt;,</span>
<span class="code-block-extension-codeLine" data-line-num="22">];</span>
<span class="code-block-extension-codeLine" data-line-num="23"></span>
</code></pre>
  <h2 data-id="heading-62">è®¡æ•°</h2>
  <p>tsç±»å‹æ˜¯æ— æ³•è¿›è¡Œæ•°å­¦åŠ å‡è¿ç®—çš„ï¼Œæœ‰è¿ç®—æˆ–è€…è®¡æ•°çš„è¯‰æ±‚ï¼Œéƒ½å¯ä»¥æ„å»ºä¸€ä¸ªå…ƒç»„ï¼Œç”¨å…ƒç»„çš„lengthæ¥è®¡æ•°</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FlattenDepth</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="2">  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[],</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-title class_">Depth</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="4">  <span class="hljs-title class_">Count</span> <span class="hljs-keyword">extends</span> <span class="hljs-number">1</span>[] = []</span>
<span class="code-block-extension-codeLine" data-line-num="5">&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-title class_">Count</span>[<span class="hljs-string">'length'</span>] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Depth</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">  ? T</span>
<span class="code-block-extension-codeLine" data-line-num="8">  : T <span class="hljs-keyword">extends</span> [infer <span class="hljs-title class_">Head</span>, ...infer <span class="hljs-title class_">Tail</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="9">    ? <span class="hljs-title class_">Head</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[]</span>
<span class="code-block-extension-codeLine" data-line-num="10">      ? [</span>
<span class="code-block-extension-codeLine" data-line-num="11">          ...<span class="hljs-title class_">FlattenDepth</span>&lt;<span class="hljs-title class_">Head</span>, <span class="hljs-title class_">Depth</span>, [...<span class="hljs-title class_">Count</span>, <span class="hljs-number">1</span>]&gt;,</span>
<span class="code-block-extension-codeLine" data-line-num="12">          ...<span class="hljs-title class_">FlattenDepth</span>&lt;<span class="hljs-title class_">Tail</span>, <span class="hljs-title class_">Depth</span>, <span class="hljs-title class_">Count</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="13">        ]</span>
<span class="code-block-extension-codeLine" data-line-num="14">      : [</span>
<span class="code-block-extension-codeLine" data-line-num="15">          <span class="hljs-title class_">Head</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="16">          ...<span class="hljs-title class_">FlattenDepth</span>&lt;<span class="hljs-title class_">Tail</span>, <span class="hljs-title class_">Depth</span>, <span class="hljs-title class_">Count</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="17">        ]</span>
<span class="code-block-extension-codeLine" data-line-num="18">    : [];</span>
<span class="code-block-extension-codeLine" data-line-num="19"></span>
<span class="code-block-extension-codeLine" data-line-num="20"><span class="hljs-keyword">type</span> a = <span class="hljs-title class_">FlattenDepth</span>&lt;[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [[[<span class="hljs-number">5</span>]]]], <span class="hljs-number">2</span>&gt; <span class="hljs-comment">// [1, 2, 3, 4, [5]]. flattern 2 times</span></span>
<span class="code-block-extension-codeLine" data-line-num="21"><span class="hljs-keyword">type</span> b = <span class="hljs-title class_">FlattenDepth</span>&lt;[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [[[<span class="hljs-number">5</span>]]]]&gt; <span class="hljs-comment">// [1, 2, 3, 4, [[5]]]. Depth defaults to be 1</span></span>
</code></pre>
  <h2 data-id="heading-63">ğŸ˜‡åŠ å‡è¿ç®—</h2>
  <p>ç”¨ä¸Šé¢è®¡æ•°ç›¸åŒçš„æ€æƒ³ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥ç”¨ç±»å‹è®¡ç®—æ–æ³¢æ‹‰å¥‘æ•°åˆ—ï¼š
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/961c871541494e638b91f4b2b6adec70~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Fibonacci</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="2">  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-title class_">CurrentIndex</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[] = [<span class="hljs-string">''</span>],</span>
<span class="code-block-extension-codeLine" data-line-num="4">  <span class="hljs-title class_">Prev</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[] = [],</span>
<span class="code-block-extension-codeLine" data-line-num="5">  <span class="hljs-title class_">Current</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[] = [<span class="hljs-string">''</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="6">&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="7">  <span class="hljs-title class_">CurrentIndex</span>[<span class="hljs-string">'length'</span>] <span class="hljs-keyword">extends</span> T</span>
<span class="code-block-extension-codeLine" data-line-num="8">  ? <span class="hljs-title class_">Current</span>[<span class="hljs-string">'length'</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="9">  : <span class="hljs-title class_">Fibonacci</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="10">      T,</span>
<span class="code-block-extension-codeLine" data-line-num="11">      [...<span class="hljs-title class_">CurrentIndex</span>, <span class="hljs-string">''</span>],</span>
<span class="code-block-extension-codeLine" data-line-num="12">      <span class="hljs-title class_">Current</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="13">      [...<span class="hljs-title class_">Prev</span>, ...<span class="hljs-title class_">Current</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="14">    &gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ResultFibonacci1</span> = <span class="hljs-title class_">Fibonacci</span>&lt;<span class="hljs-number">3</span>&gt; <span class="hljs-comment">// 2</span></span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ResultFibonacci2</span> = <span class="hljs-title class_">Fibonacci</span>&lt;<span class="hljs-number">8</span>&gt; <span class="hljs-comment">// 21</span></span>
</code></pre>
  <h1 data-id="heading-64">tsé¢˜</h1>
  <h2 data-id="heading-65">ConnectedFn</h2>
  <ul>
    <li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FLeetCode-OpenSource%2Fhire%2Fblob%2Fmaster%2Ftypescript_zh.md" target="_blank" title="https://github.com/LeetCode-OpenSource/hire/blob/master/typescript_zh.md" ref="nofollow noopener noreferrer">github.com/LeetCode-Opâ€¦</a></li>
  </ul>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Origin</span> = {</span>
<span class="code-block-extension-codeLine" data-line-num="2">  <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="3">  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4">  asyncMethod&lt;T, U&gt;(<span class="hljs-attr">input</span>: <span class="hljs-title class_">Promise</span>&lt;T&gt;): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Action</span>&lt;U&gt;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="5">  syncMethod&lt;T, U&gt;(<span class="hljs-attr">action</span>: <span class="hljs-title class_">Action</span>&lt;T&gt;): <span class="hljs-title class_">Action</span>&lt;U&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="6">}</span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span> = {</span>
<span class="code-block-extension-codeLine" data-line-num="9">  asyncMethod&lt;T, U&gt;(<span class="hljs-attr">input</span>: T): <span class="hljs-title class_">Action</span>&lt;U&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="10">  syncMethod&lt;T, U&gt;(<span class="hljs-attr">action</span>: T): <span class="hljs-title class_">Action</span>&lt;U&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="11">}</span>
<span class="code-block-extension-codeLine" data-line-num="12"></span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ExtractFun</span>&lt;T&gt; = {</span>
<span class="code-block-extension-codeLine" data-line-num="15">  [key <span class="hljs-keyword">in</span> keyof T]: T[key] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Function</span> ? <span class="hljs-attr">key</span>: <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="16">}[keyof T];</span>
<span class="code-block-extension-codeLine" data-line-num="17"></span>
<span class="code-block-extension-codeLine" data-line-num="18"><span class="hljs-keyword">type</span> onlyFunKey&lt;T&gt; = <span class="hljs-title class_">ExtractFun</span>&lt;T&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="19"><span class="hljs-comment">// type test0 = onlyFunKey&lt;Origin&gt;;</span></span>
<span class="code-block-extension-codeLine" data-line-num="20"></span>
<span class="code-block-extension-codeLine" data-line-num="21"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PickFun</span>&lt;T&gt; = <span class="hljs-title class_">Pick</span>&lt;T, onlyFunKey&lt;T&gt;&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="22"><span class="hljs-keyword">type</span> test0 = <span class="hljs-title class_">PickFun</span>&lt;<span class="hljs-title class_">Origin</span>&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="23"></span>
<span class="code-block-extension-codeLine" data-line-num="24"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TmpAsyncMethod</span>&lt;T, U&gt; = <span class="hljs-function">(<span class="hljs-params">input: <span class="hljs-built_in">Promise</span>&lt;T&gt;</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Action</span>&lt;U&gt;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="25"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TransformAsyncFn</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (<span class="hljs-attr">input</span>: <span class="hljs-title class_">Promise</span>&lt;infer P&gt;) =&gt; <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Action</span>&lt;infer K&gt;&gt; ? <span class="hljs-function">(<span class="hljs-params">input: P</span>) =&gt;</span> <span class="hljs-title class_">Action</span>&lt;K&gt;: <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="26"></span>
<span class="code-block-extension-codeLine" data-line-num="27"><span class="hljs-keyword">type</span> test1&lt;T,U&gt; = <span class="hljs-title class_">TransformAsyncFn</span>&lt;<span class="hljs-title class_">TmpAsyncMethod</span>&lt;T,U&gt;&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="28"></span>
<span class="code-block-extension-codeLine" data-line-num="29"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TmpSyncMethod</span>&lt;T, U&gt; = <span class="hljs-function">(<span class="hljs-params">action: Action&lt;T&gt;</span>) =&gt;</span> <span class="hljs-title class_">Action</span>&lt;U&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="30"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TransformSyncFn</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (<span class="hljs-attr">action</span>: <span class="hljs-title class_">Action</span>&lt;infer P&gt;) =&gt; <span class="hljs-title class_">Action</span>&lt;infer K&gt; ? <span class="hljs-function">(<span class="hljs-params">action: P</span>) =&gt;</span> <span class="hljs-title class_">Action</span>&lt;K&gt;: <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="31"></span>
<span class="code-block-extension-codeLine" data-line-num="32"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TransformFn</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (<span class="hljs-attr">input</span>: <span class="hljs-title class_">Promise</span>&lt;infer P&gt;) =&gt; <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Action</span>&lt;infer K&gt;&gt; ? <span class="hljs-function">(<span class="hljs-params">input: P</span>) =&gt;</span> <span class="hljs-title class_">Action</span>&lt;K&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="33">: T <span class="hljs-keyword">extends</span> (<span class="hljs-attr">action</span>: <span class="hljs-title class_">Action</span>&lt;infer P&gt;) =&gt; <span class="hljs-title class_">Action</span>&lt;infer K&gt; ? <span class="hljs-function">(<span class="hljs-params">action: P</span>) =&gt;</span> <span class="hljs-title class_">Action</span>&lt;K&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="34">: <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="35"></span>
<span class="code-block-extension-codeLine" data-line-num="36"><span class="hljs-keyword">type</span> test2&lt;T,U&gt; = <span class="hljs-title class_">TransformFn</span>&lt;<span class="hljs-title class_">TmpAsyncMethod</span>&lt;T,U&gt;&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="37"><span class="hljs-keyword">type</span> test3&lt;T,U&gt; = <span class="hljs-title class_">TransformFn</span>&lt;<span class="hljs-title class_">TmpSyncMethod</span>&lt;T,U&gt;&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="38"></span>
<span class="code-block-extension-codeLine" data-line-num="39"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ConnectedFn</span>&lt;T&gt; = {</span>
<span class="code-block-extension-codeLine" data-line-num="40">  [key <span class="hljs-keyword">in</span> keyof <span class="hljs-title class_">PickFun</span>&lt;T&gt;]: <span class="hljs-title class_">TransformFn</span>&lt;<span class="hljs-title class_">PickFun</span>&lt;T&gt;[key]&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="41">}</span>
<span class="code-block-extension-codeLine" data-line-num="42"></span>
<span class="code-block-extension-codeLine" data-line-num="43"><span class="hljs-keyword">type</span> test4&lt;T, U&gt; = <span class="hljs-title class_">ConnectedFn</span>&lt;<span class="hljs-title class_">Origin</span>&gt;;</span>
</code></pre>
  <ul>
    <li><a href="https://juejin.cn/post/6994102811218673700#heading-14" target="_blank" title="https://juejin.cn/post/6994102811218673700#heading-14">juejin.cn/post/699410â€¦</a></li>
  </ul>
  <h2 data-id="heading-66">å˜æ€é¢˜</h2>
  <h3 data-id="heading-67">ğŸ’¥å‡æ³•è¿ç®—</h3>
  <blockquote>
    <p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•°ä½œä¸ºç±»å‹çš„å‚æ•°ï¼Œè¦æ±‚è¿”å›çš„ç±»å‹æ˜¯è¯¥æ•°å­—å‡ 1ã€‚</p>
  </blockquote>
  <p>ä¾‹å¦‚ï¼š</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Zero</span> = <span class="hljs-title class_">MinusOne</span>&lt;<span class="hljs-number">1</span>&gt; <span class="hljs-comment">// 0</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FiftyFour</span> = <span class="hljs-title class_">MinusOne</span>&lt;<span class="hljs-number">55</span>&gt; <span class="hljs-comment">// 54</span></span>
</code></pre>
  <p>åŸé¢˜å¹²ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftype-challenges%2Ftype-challenges%2Fblob%2Fmain%2Fquestions%2F02257-medium-minusone%2FREADME.zh-CN.md" target="_blank" title="https://github.com/type-challenges/type-challenges/blob/main/questions/02257-medium-minusone/README.zh-CN.md" ref="nofollow noopener noreferrer">github.com/type-challeâ€¦</a></p>
  <p>è§£æ³•ä¸€ï¼š</p>
  <p>åˆ©ç”¨æ•°ç»„çš„é•¿åº¦æ¥ä»£è¡¨æ•°å­—ï¼ŒåŠ å‡æ³•éƒ½å¯ä»¥é€šè¿‡æ”¹å˜æ•°ç»„é•¿åº¦å®ç°</p>
  <p>æŠ€å·§æ˜¯æŠŠåŸæ•°å­—ä¸­<strong>æ¯ä½æ•°éƒ½å˜æˆäº†ä¸€ä¸ªæ•°ç»„</strong>é•¿åº¦å’Œæ•°å­—ç›¸åŒçš„æ•°ç»„ï¼Œé¿å…æ•´ä½“ä¸€èµ·ç®—å¯¼è‡´çš„é€’å½’æœ‰1000æ¬¡é™åˆ¶é—®é¢˜ï¼Œå¤§å¤§å‡å°‘é€’å½’æ¬¡æ•°ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">// Utility Type</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ToNumber</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-string">`0<span class="hljs-subst">${infer N <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">  ? N</span>
<span class="code-block-extension-codeLine" data-line-num="4">  : T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer N <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="5">    ? N</span>
<span class="code-block-extension-codeLine" data-line-num="6">    : T</span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-comment">// Utility Type</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DigitToArr</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, R <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[] = []&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="10">  R[<span class="hljs-string">'length'</span>] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ToNumber</span>&lt;T&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="11">    ? R</span>
<span class="code-block-extension-codeLine" data-line-num="12">    : <span class="hljs-title class_">DigitToArr</span>&lt;T, [...R, <span class="hljs-number">0</span>]&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="13"></span>
<span class="code-block-extension-codeLine" data-line-num="14"><span class="hljs-comment">// Step 1</span></span>
<span class="code-block-extension-codeLine" data-line-num="15"><span class="hljs-keyword">type</span> <span class="hljs-title class_">NumberToArr</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>, <span class="hljs-title class_">Arr</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[][] = []&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="16">  <span class="hljs-string">`<span class="hljs-subst">${T}</span>`</span> <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer A <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>}</span><span class="hljs-subst">${infer Rest}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="17">    ? <span class="hljs-title class_">NumberToArr</span>&lt;<span class="hljs-title class_">Rest</span>, [...<span class="hljs-title class_">Arr</span>, <span class="hljs-title class_">DigitToArr</span>&lt;A&gt;]&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="18">    : <span class="hljs-title class_">Arr</span></span>
<span class="code-block-extension-codeLine" data-line-num="19"></span>
<span class="code-block-extension-codeLine" data-line-num="20"><span class="hljs-comment">// Step 2</span></span>
<span class="code-block-extension-codeLine" data-line-num="21"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MinusArr</span>&lt;R <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[]&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="22">  R <span class="hljs-keyword">extends</span> [...infer A, infer B]</span>
<span class="code-block-extension-codeLine" data-line-num="23">    ? B <span class="hljs-keyword">extends</span> [...infer M, infer _N]</span>
<span class="code-block-extension-codeLine" data-line-num="24">      ? [...A, M]</span>
<span class="code-block-extension-codeLine" data-line-num="25">      : [...<span class="hljs-title class_">MinusArr</span>&lt;A&gt;, <span class="hljs-title class_">DigitToArr</span>&lt;<span class="hljs-number">9</span>&gt;]</span>
<span class="code-block-extension-codeLine" data-line-num="26">    : []</span>
<span class="code-block-extension-codeLine" data-line-num="27"></span>
<span class="code-block-extension-codeLine" data-line-num="28"><span class="hljs-comment">// Step 3</span></span>
<span class="code-block-extension-codeLine" data-line-num="29"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ArrToString</span>&lt;<span class="hljs-title class_">Arr</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[][], R = <span class="hljs-string">''</span>&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="30">  <span class="hljs-title class_">Arr</span> <span class="hljs-keyword">extends</span> [infer A <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[], ...infer <span class="hljs-title class_">Rest</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[][]]</span>
<span class="code-block-extension-codeLine" data-line-num="31">    ? <span class="hljs-string">`<span class="hljs-subst">${A[<span class="hljs-string">'length'</span>]}</span><span class="hljs-subst">${ArrToString&lt;Rest&gt;}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="32">    : R</span>
<span class="code-block-extension-codeLine" data-line-num="33"></span>
<span class="code-block-extension-codeLine" data-line-num="34"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MinusOne</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="35">  T <span class="hljs-keyword">extends</span> <span class="hljs-number">0</span></span>
<span class="code-block-extension-codeLine" data-line-num="36">    ? -<span class="hljs-number">1</span></span>
<span class="code-block-extension-codeLine" data-line-num="37">    : <span class="hljs-title class_">ToNumber</span>&lt;<span class="hljs-title class_">ArrToString</span>&lt;<span class="hljs-title class_">MinusArr</span>&lt;<span class="hljs-title class_">NumberToArr</span>&lt;T&gt;&gt;&gt;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="38"></span>
<span class="code-block-extension-codeLine" data-line-num="39"><span class="hljs-comment">// Steps</span></span>
<span class="code-block-extension-codeLine" data-line-num="40"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Step1</span> = <span class="hljs-title class_">NumberToArr</span>&lt;<span class="hljs-number">3450</span>&gt; <span class="hljs-comment">// [[0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0, 0], []]</span></span>
<span class="code-block-extension-codeLine" data-line-num="41"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Step2</span> = <span class="hljs-title class_">MinusArr</span>&lt;<span class="hljs-title class_">Step1</span>&gt; <span class="hljs-comment">// [[0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0]]</span></span>
<span class="code-block-extension-codeLine" data-line-num="42"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Step3</span> = <span class="hljs-title class_">ArrToString</span>&lt;<span class="hljs-title class_">Step2</span>&gt; <span class="hljs-comment">// "3449"</span></span>
<span class="code-block-extension-codeLine" data-line-num="43"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span> = <span class="hljs-title class_">ToNumber</span>&lt;<span class="hljs-title class_">Step3</span>&gt; <span class="hljs-comment">// 3449</span></span>
</code></pre>
  <p>åŸç­”æ¡ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftype-challenges%2Ftype-challenges%2Fissues%2F22169" target="_blank" title="https://github.com/type-challenges/type-challenges/issues/22169" ref="nofollow noopener noreferrer">github.com/type-challeâ€¦</a></p>
  <p>è§£æ³•äºŒï¼š
    ç›´æ¥å¯¹æ¯ä½æ•°åšäº†0-9å‡1åçš„æ˜ å°„ã€‚å¹¶ä¸”åˆ©ç”¨äº†å­—ç¬¦ä¸²å’Œæ•°å­—äº’è½¬çš„ç‰¹æ€§ï¼Œé‡‡ç”¨å­—ç¬¦ä¸²è§£æ„æ¥åšåˆ°é€ä½å¤„ç†ã€‚</p>
  <p>2æ¬¡reverseå¯¼è‡´æ˜¯å› ä¸ºå­—ç¬¦ä¸²å¾ˆå®¹æ˜“è·å–ç¬¬ä¸€ä½æ•°ï¼Œä½†æ— æ³•ç›´æ¥è·å–æœ€åä¸€ä½æ•°ï¼Œè€Œå‡æ³•æ˜¯æœ«å°¾å‘å·¦é€æ­¥è®¡ç®—çš„ï¼Œæ‰€ä»¥éœ€è¦å€’ç½®å¤„ç†</p>
  <p>è¿™ç§æ–¹å¼æ²¡æœ‰ç”¨é€’å½’ï¼Œæ€§èƒ½æ¯”è¾ƒå¥½ã€‚</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ParseInt</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer Digit <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>}</span>`</span> ? <span class="hljs-title class_">Digit</span> : <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ReverseString</span>&lt;S <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = S <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer First}</span><span class="hljs-subst">${infer Rest}</span>`</span> ? <span class="hljs-string">`<span class="hljs-subst">${ReverseString&lt;Rest&gt;}</span><span class="hljs-subst">${First}</span>`</span> : <span class="hljs-string">''</span></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">type</span> <span class="hljs-title class_">RemoveLeadingZeros</span>&lt;S <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt; = S <span class="hljs-keyword">extends</span> <span class="hljs-string">'0'</span> ? S : S <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-string">'0'</span>}</span><span class="hljs-subst">${infer R}</span>`</span> ? <span class="hljs-title class_">RemoveLeadingZeros</span>&lt;R&gt; : S</span>
<span class="code-block-extension-codeLine" data-line-num="4"><span class="hljs-keyword">type</span> <span class="hljs-title class_">InternalMinusOne</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="5">  S <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">&gt; = S <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer Digit <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>}</span><span class="hljs-subst">${infer Rest}</span>`</span> ?</span>
<span class="code-block-extension-codeLine" data-line-num="7">    <span class="hljs-title class_">Digit</span> <span class="hljs-keyword">extends</span> <span class="hljs-number">0</span> ?</span>
<span class="code-block-extension-codeLine" data-line-num="8">      <span class="hljs-string">`9<span class="hljs-subst">${InternalMinusOne&lt;Rest&gt;}</span>`</span> :</span>
<span class="code-block-extension-codeLine" data-line-num="9">    <span class="hljs-string">`<span class="hljs-subst">${[<span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>][Digit]}</span><span class="hljs-subst">${Rest}</span>`</span>:</span>
<span class="code-block-extension-codeLine" data-line-num="10">  <span class="hljs-built_in">never</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MinusOne</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>&gt; = <span class="hljs-title class_">ParseInt</span>&lt;<span class="hljs-title class_">RemoveLeadingZeros</span>&lt;<span class="hljs-title class_">ReverseString</span>&lt;<span class="hljs-title class_">InternalMinusOne</span>&lt;<span class="hljs-title class_">ReverseString</span>&lt;<span class="hljs-string">`<span class="hljs-subst">${T}</span>`</span>&gt;&gt;&gt;&gt;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-keyword">type</span> test = <span class="hljs-title class_">MinusOne</span>&lt;<span class="hljs-number">9007199254740992</span>&gt;</span>
</code></pre>
  <p>åŸç­”æ¡ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftype-challenges%2Ftype-challenges%2Fissues%2F13507" target="_blank" title="https://github.com/type-challenges/type-challenges/issues/13507" ref="nofollow noopener noreferrer">github.com/type-challeâ€¦</a></p>
  <p>ç”¨æ•°ç»„çš„é•¿åº¦æ¥ä½œä¸ºæ•°å­—å»æ¯”è¾ƒå¤§å°æˆ–è€…å»è®¡ç®—ï¼Œæ˜¯å¸¸ç”¨çš„è®¡è¾ƒï¼Œä¼šå˜ç§å‡ºå¾ˆå¤šå˜æ€çš„é¢˜ï¼Œè­¬å¦‚ï¼š</p>
  <ul>
    <li>æ¯”è¾ƒå¤§å°
      <ul>
        <li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftype-challenges%2Ftype-challenges%2Fblob%2Fmain%2Fquestions%2F04425-medium-greater-than%2FREADME.md" target="_blank" title="https://github.com/type-challenges/type-challenges/blob/main/questions/04425-medium-greater-than/README.md" ref="nofollow noopener noreferrer">github.com/type-challeâ€¦</a></li>
        <li>è§£æï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftype-challenges%2Ftype-challenges%2Fissues%2F24326" target="_blank" title="https://github.com/type-challenges/type-challenges/issues/24326" ref="nofollow noopener noreferrer">github.com/type-challeâ€¦</a>ã€‚ï¼ˆä¸æ˜¯æœ€ä½³ç­”æ¡ˆï¼Œæœ€ä½³ç­”æ¡ˆå¯ä»¥å†ä¸Šä¸€é¢˜è§£é¢˜æ€è·¯ä¸Šæ‰©å±•ï¼‰</li>
      </ul>
    </li>
  </ul>
  <h3 data-id="heading-68">åŠ æ³•è¿ç®—</h3>
  <blockquote>
    <p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target, å¦‚æœ nums æ•°ç»„ä¸­å­˜åœ¨ä¸¤ä¸ªå…ƒç´ çš„å’Œç­‰äº target è¿”å› true, å¦åˆ™è¿”å› false</p>
  </blockquote>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-comment">/** Helpers */</span></span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Equal</span>&lt;X, Y&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="3">  (&lt;T&gt;<span class="hljs-function">() =&gt;</span> T <span class="hljs-keyword">extends</span> X ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>) <span class="hljs-keyword">extends</span></span>
<span class="code-block-extension-codeLine" data-line-num="4">  (&lt;T&gt;<span class="hljs-function">() =&gt;</span> T <span class="hljs-keyword">extends</span> Y ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>) ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="5"></span>
<span class="code-block-extension-codeLine" data-line-num="6"><span class="hljs-comment">// new Array(N).fill(T)</span></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Repeat</span>&lt;N <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span> = <span class="hljs-literal">null</span>, M <span class="hljs-keyword">extends</span> T[] = []&gt; = </span>
<span class="code-block-extension-codeLine" data-line-num="8">  M[<span class="hljs-string">"length"</span>] <span class="hljs-keyword">extends</span> N ? M : <span class="hljs-title class_">Repeat</span>&lt;N, T, [T, ...M]&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-comment">// If A &gt;= B, return A - B. Else, return never.</span></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Subtract</span>&lt;A <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, B <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>&gt; = </span>
<span class="code-block-extension-codeLine" data-line-num="12">  <span class="hljs-title class_">Repeat</span>&lt;A&gt; <span class="hljs-keyword">extends</span> [...<span class="hljs-title class_">Repeat</span>&lt;B&gt;, ...infer <span class="hljs-title class_">Rest</span>] </span>
<span class="code-block-extension-codeLine" data-line-num="13">    ? <span class="hljs-title class_">Rest</span>[<span class="hljs-string">"length"</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="14">    : <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="15"></span>
<span class="code-block-extension-codeLine" data-line-num="16"><span class="hljs-comment">// T &lt; U ? true: false</span></span>
<span class="code-block-extension-codeLine" data-line-num="17"><span class="hljs-keyword">type</span> <span class="hljs-title class_">LessThan</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>&gt; = </span>
<span class="code-block-extension-codeLine" data-line-num="18">  <span class="hljs-title class_">Equal</span>&lt;T, U&gt; <span class="hljs-keyword">extends</span> <span class="hljs-literal">true</span> ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="19">    : <span class="hljs-title class_">Subtract</span>&lt;T, U&gt; <span class="hljs-keyword">extends</span> <span class="hljs-built_in">never</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="20"></span>
<span class="code-block-extension-codeLine" data-line-num="21"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Shift</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[], N <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>&gt; = </span>
<span class="code-block-extension-codeLine" data-line-num="22">  N <span class="hljs-keyword">extends</span> <span class="hljs-number">0</span> ? T </span>
<span class="code-block-extension-codeLine" data-line-num="23">    : T <span class="hljs-keyword">extends</span> [infer _, ...infer <span class="hljs-title class_">Rest</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="24">      ? <span class="hljs-title class_">Shift</span>&lt;<span class="hljs-title class_">Rest</span>, <span class="hljs-title class_">Subtract</span>&lt;N, <span class="hljs-number">1</span>&gt;&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="25">      : [];</span>
<span class="code-block-extension-codeLine" data-line-num="26"></span>
<span class="code-block-extension-codeLine" data-line-num="27"><span class="hljs-comment">// Iterate over T </span></span>
<span class="code-block-extension-codeLine" data-line-num="28"><span class="hljs-comment">// -&gt; If current element CURR &gt; TARGET and TARGET - CURR exists in the remainder of T, return true.</span></span>
<span class="code-block-extension-codeLine" data-line-num="29"><span class="hljs-comment">// -&gt; Else, recursively call TwoSum over remainder of T.</span></span>
<span class="code-block-extension-codeLine" data-line-num="30"><span class="hljs-comment">// -&gt; If iteration is completed, return false.</span></span>
<span class="code-block-extension-codeLine" data-line-num="31"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TwoSum</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="32">  T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>[], </span>
<span class="code-block-extension-codeLine" data-line-num="33">  <span class="hljs-variable constant_">TARGET</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="34">  <span class="hljs-variable constant_">CURR</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span> = T[<span class="hljs-number">0</span>],</span>
<span class="code-block-extension-codeLine" data-line-num="35">  <span class="hljs-variable constant_">NEXT</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>[] = <span class="hljs-title class_">Shift</span>&lt;T&gt;,</span>
<span class="code-block-extension-codeLine" data-line-num="36">  <span class="hljs-variable constant_">RESULT</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">boolean</span> = T <span class="hljs-keyword">extends</span> [] </span>
<span class="code-block-extension-codeLine" data-line-num="37">    ? <span class="hljs-literal">false</span></span>
<span class="code-block-extension-codeLine" data-line-num="38">    : <span class="hljs-title class_">LessThan</span>&lt;<span class="hljs-variable constant_">TARGET</span>, <span class="hljs-variable constant_">CURR</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-literal">true</span> </span>
<span class="code-block-extension-codeLine" data-line-num="39">      ? <span class="hljs-title class_">TwoSum</span>&lt;<span class="hljs-variable constant_">NEXT</span>, <span class="hljs-variable constant_">TARGET</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="40">      : <span class="hljs-title class_">Subtract</span>&lt;<span class="hljs-variable constant_">TARGET</span>, <span class="hljs-variable constant_">CURR</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-variable constant_">NEXT</span>[<span class="hljs-built_in">number</span>] </span>
<span class="code-block-extension-codeLine" data-line-num="41">        ? <span class="hljs-literal">true</span></span>
<span class="code-block-extension-codeLine" data-line-num="42">        : <span class="hljs-title class_">TwoSum</span>&lt;<span class="hljs-variable constant_">NEXT</span>, <span class="hljs-variable constant_">TARGET</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="43">&gt; = <span class="hljs-variable constant_">RESULT</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="44"></span>
<span class="code-block-extension-codeLine" data-line-num="45"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Test1TwoSum</span> = <span class="hljs-title class_">TwoSum</span>&lt;[<span class="hljs-number">3</span>,<span class="hljs-number">8</span>], <span class="hljs-number">11</span>&gt;</span>
</code></pre>
  <p>è¿™é‡Œå®é™…ä¸Šæ˜¯æŠŠåŠ æ³•è½¬åŒ–æˆäº†å‡æ³•ï¼Œæ€§èƒ½ä¹Ÿä¸æ˜¯æœ€ä¼˜çš„ï¼Œä»…ä¾›è§‚æ‘©ä½“æ“</p>
  <h3 data-id="heading-69">é™¤æ³•è¿ç®—</h3>
  <blockquote>
    <p>The FizzBuzz problem is a classic test given in coding interviews. The task is simple:
      Print integers 1 to N, except:</p>
    <ul>
      <li>Print "Fizz" if an integer is divisible by 3;</li>
      <li>Print "Buzz" if an integer is divisible by 5;</li>
      <li>Print "FizzBuzz" if an integer is divisible by both 3 and 5.</li>
    </ul>
  </blockquote>
  <p>For example, for N = 20, the output should be: 1, 2, Fizz, 4, Buzz, Fizz, 7, 8, Fizz, Buzz, 11, Fizz, 13, 14, FizzBuzz, 16, 17, Fizz, 19, Buzz</p>
  <blockquote>
    <p>In the challenge below, we will want to generate this as an array of string literals.
      For large values of N, you will need to ensure that any types generated do so efficiently (e.g. by correctly using the tail-call optimisation for recursion).</p>
  </blockquote>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FizzBuzzOne</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="2">    C <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, </span>
<span class="code-block-extension-codeLine" data-line-num="3">    <span class="hljs-variable constant_">C3</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, </span>
<span class="code-block-extension-codeLine" data-line-num="4">    <span class="hljs-variable constant_">C5</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, </span>
<span class="code-block-extension-codeLine" data-line-num="5">    _FB = <span class="hljs-string">`<span class="hljs-subst">${C3 <span class="hljs-keyword">extends</span> <span class="hljs-number">3</span> ? <span class="hljs-string">'Fizz'</span> : <span class="hljs-string">''</span>}</span><span class="hljs-subst">${C5 <span class="hljs-keyword">extends</span> <span class="hljs-number">5</span> ? <span class="hljs-string">'Buzz'</span> : <span class="hljs-string">''</span>}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="6">  &gt; = _FB <span class="hljs-keyword">extends</span> <span class="hljs-string">''</span> ? <span class="hljs-string">`<span class="hljs-subst">${C}</span>`</span> : _FB</span>
<span class="code-block-extension-codeLine" data-line-num="7"></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FizzBuzz</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="9">    N <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, </span>
<span class="code-block-extension-codeLine" data-line-num="10">    _R <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>[] = [], </span>
<span class="code-block-extension-codeLine" data-line-num="11">    _CT <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[] = [<span class="hljs-built_in">unknown</span>], </span>
<span class="code-block-extension-codeLine" data-line-num="12">    _C3T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[] = [<span class="hljs-built_in">unknown</span>], </span>
<span class="code-block-extension-codeLine" data-line-num="13">    _C5T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[] = [<span class="hljs-built_in">unknown</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="14">  &gt; = </span>
<span class="code-block-extension-codeLine" data-line-num="15">    _R[<span class="hljs-string">'length'</span>] <span class="hljs-keyword">extends</span> N</span>
<span class="code-block-extension-codeLine" data-line-num="16">    ? _R</span>
<span class="code-block-extension-codeLine" data-line-num="17">    : <span class="hljs-title class_">FizzBuzz</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="18">        N,</span>
<span class="code-block-extension-codeLine" data-line-num="19">        [..._R, <span class="hljs-title class_">FizzBuzzOne</span>&lt;_CT[<span class="hljs-string">'length'</span>], _C3T[<span class="hljs-string">'length'</span>], _C5T[<span class="hljs-string">'length'</span>]&gt;],</span>
<span class="code-block-extension-codeLine" data-line-num="20">        [..._CT, <span class="hljs-built_in">unknown</span>],</span>
<span class="code-block-extension-codeLine" data-line-num="21">        (_C3T[<span class="hljs-string">'length'</span>] <span class="hljs-keyword">extends</span> <span class="hljs-number">3</span> ? [<span class="hljs-built_in">unknown</span>] : [..._C3T, <span class="hljs-built_in">unknown</span>]),</span>
<span class="code-block-extension-codeLine" data-line-num="22">        (_C5T[<span class="hljs-string">'length'</span>] <span class="hljs-keyword">extends</span> <span class="hljs-number">5</span> ? [<span class="hljs-built_in">unknown</span>] : [..._C5T, <span class="hljs-built_in">unknown</span>])</span>
<span class="code-block-extension-codeLine" data-line-num="23">      &gt;</span>
</code></pre>
  <p>è¿™é‡Œè§£æ³•è·Ÿé¢˜å¹²ç›¸å…³ï¼Œ<code>n/3</code>é€šè¿‡åœ¨é€’å½’ä¸­ä¸æ–­æ„å»ºé€ä½é€’å¢çš„æ•°ç»„ä¸”ä¸€åˆ°3æ—¶å°±æ¸…ç©ºé‡æ¥ï¼Œå¯¹æ¯”æ•°æ®ç›¸åŒæ¥åšçš„ï¼Œä¸æ˜¯çœŸçš„é™¤ï¼Œè€Œæ˜¯éå†æ‰¾åˆ°äº†æ‰€æœ‰3çš„å€æ•°å€¼ã€‚</p>
  <h3 data-id="heading-70">æ¯”è¾ƒå¤§å°</h3>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ToTuple</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, R <span class="hljs-keyword">extends</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">unknown</span>[] = []&gt; = R[<span class="hljs-string">'length'</span>] <span class="hljs-keyword">extends</span> T</span>
<span class="code-block-extension-codeLine" data-line-num="2">  ? R</span>
<span class="code-block-extension-codeLine" data-line-num="3">  : <span class="hljs-title class_">ToTuple</span>&lt;T, [...R, <span class="hljs-built_in">unknown</span>]&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Max</span>&lt;L <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, R <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="6">  <span class="hljs-title class_">ToTuple</span>&lt;L&gt; <span class="hljs-keyword">extends</span> [...<span class="hljs-title class_">ToTuple</span>&lt;R&gt;, ...infer _]</span>
<span class="code-block-extension-codeLine" data-line-num="7">  ? L</span>
<span class="code-block-extension-codeLine" data-line-num="8">  : R</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Maximum</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>[]&gt; = T <span class="hljs-keyword">extends</span> [infer F]</span>
<span class="code-block-extension-codeLine" data-line-num="11">  ? F</span>
<span class="code-block-extension-codeLine" data-line-num="12">  : T <span class="hljs-keyword">extends</span> [infer L <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, infer R <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="13">    ? <span class="hljs-title class_">Max</span>&lt;L, R&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="14">    : T <span class="hljs-keyword">extends</span> [infer L <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, infer R <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>, ...infer O <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>[]]</span>
<span class="code-block-extension-codeLine" data-line-num="15">      ? <span class="hljs-title class_">Maximum</span>&lt;[<span class="hljs-title class_">Max</span>&lt;L, R&gt;, ...O]&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="16">      : <span class="hljs-built_in">never</span></span>
</code></pre>
  <p>è¿™é‡Œæœ‰ä¸ªæŠ€å·§æ€§çš„æ¯”è¾ƒå¤§å°çš„æ–¹å¼<code>Max</code>ï¼Œæ˜¯æ„å»º2ä¸ªå’Œæ•°å€¼ç›¸åŒé•¿åº¦çš„å…ƒç»„ï¼Œç„¶åç”¨ä¸€ä¸ªextendså¦ä¸€ä¸ªï¼Œçœ‹ä¸€ä¸‹æ˜¯å¦è¿˜æœ‰å‰©ä½™å€¼ï¼Œéå¸¸ä½“æ“çš„è¡Œä¸ºäº†ğŸ¶ã€‚</p>
  <h3 data-id="heading-71">æ’åˆ—ç»„åˆ</h3>
  <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72c547e740e0482b9128b2c702f48ac8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png" loading="lazy" class="medium-zoom-image"></p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">AllCombinations</span>_ABC = <span class="hljs-title class_">AllCombinations</span>&lt;<span class="hljs-string">'ABC'</span>&gt;;</span>
<span class="code-block-extension-codeLine" data-line-num="2"><span class="hljs-comment">// should be '' | 'A' | 'B' | 'C' | 'AB' | 'AC' | 'BA' | 'BC' | 'CA' | 'CB' | 'ABC' | 'ACB' | 'BAC' | 'BCA' | 'CAB' | 'CBA'</span></span>
</code></pre>
  <p>é¦–å…ˆè¿ç”¨äº†æŠŠå­—ç¬¦ä¸²æ‹†æˆå•ä¸ªå­—ç¬¦çš„è”åˆç±»å‹ï¼Œä½œä¸ºåŸºç¡€å•å…ƒ
    åˆ©ç”¨inéå†è”åˆç±»å‹ï¼Œå–å‡ºä¸€ä¸ªå’Œå…¶ä»–çš„ç»„åˆè·å¾—ç»“æœ</p>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Exclude</span>&lt;T, U&gt; = T <span class="hljs-keyword">extends</span> U ? <span class="hljs-built_in">never</span> : T;</span>
<span class="code-block-extension-codeLine" data-line-num="2"></span>
<span class="code-block-extension-codeLine" data-line-num="3"><span class="hljs-keyword">type</span> <span class="hljs-title class_">IsNever</span>&lt;T&gt; = [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">never</span>] ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="4"></span>
<span class="code-block-extension-codeLine" data-line-num="5"><span class="hljs-keyword">type</span> <span class="hljs-title class_">StringToUnion</span>&lt;T&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="6">  T <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer Head}</span><span class="hljs-subst">${infer Tail}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="7">  ? <span class="hljs-title class_">Head</span> | <span class="hljs-title class_">StringToUnion</span>&lt;<span class="hljs-title class_">Tail</span>&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="8">  : <span class="hljs-built_in">never</span>;</span>
<span class="code-block-extension-codeLine" data-line-num="9"></span>
<span class="code-block-extension-codeLine" data-line-num="10"><span class="hljs-keyword">type</span> <span class="hljs-title class_">AllCombinations</span>&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="11">  S,</span>
<span class="code-block-extension-codeLine" data-line-num="12">  <span class="hljs-title class_">Acc</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> = <span class="hljs-title class_">StringToUnion</span>&lt;S&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="13">&gt; =</span>
<span class="code-block-extension-codeLine" data-line-num="14">  <span class="hljs-title class_">IsNever</span>&lt;<span class="hljs-title class_">Acc</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-literal">true</span></span>
<span class="code-block-extension-codeLine" data-line-num="15">  ? <span class="hljs-string">""</span></span>
<span class="code-block-extension-codeLine" data-line-num="16">  : <span class="hljs-string">""</span> | {</span>
<span class="code-block-extension-codeLine" data-line-num="17">    [<span class="hljs-title class_">Combo</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Acc</span>]:</span>
<span class="code-block-extension-codeLine" data-line-num="18">      <span class="hljs-string">`<span class="hljs-subst">${</span></span></span>
<span class="code-block-extension-codeLine" data-line-num="19">        Combo</span>
<span class="code-block-extension-codeLine" data-line-num="20">      }<span class="hljs-subst">${</span></span>
<span class="code-block-extension-codeLine" data-line-num="21">        AllCombinations&lt;</span>
<span class="code-block-extension-codeLine" data-line-num="22">          <span class="hljs-built_in">never</span>,</span>
<span class="code-block-extension-codeLine" data-line-num="23">          Exclude&lt;Acc, Combo&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="24">        &gt;</span>
<span class="code-block-extension-codeLine" data-line-num="25">      }`</span>
<span class="code-block-extension-codeLine" data-line-num="26">  }[<span class="hljs-title class_">Acc</span>];</span>
</code></pre>
  <h3 data-id="heading-72">ğŸ’¥å¹‚è¿ç®— - äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</h3>
  <pre><div class="code-block-extension-header" style="background-color: rgb(248, 248, 248);"><div class="code-block-extension-headerLeft"><div class="code-block-extension-foldBtn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div></div><div class="code-block-extension-headerRight"><span class="code-block-extension-lang">typescript</span><div class="code-block-extension-copyCodeBtn">å¤åˆ¶ä»£ç </div></div></div><code class="hljs language-typescript copyable code-block-extension-codeShowNum" lang="typescript"><span class="code-block-extension-codeLine" data-line-num="1"><span class="hljs-keyword">type</span> <span class="hljs-title class_">BinaryToDecimal</span>&lt;S <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>, <span class="hljs-title class_">Acc</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">unknown</span>[] = []&gt; = S <span class="hljs-keyword">extends</span> <span class="hljs-string">`<span class="hljs-subst">${infer First}</span><span class="hljs-subst">${infer Rest}</span>`</span></span>
<span class="code-block-extension-codeLine" data-line-num="2">? <span class="hljs-title class_">First</span> <span class="hljs-keyword">extends</span> <span class="hljs-string">'1'</span></span>
<span class="code-block-extension-codeLine" data-line-num="3">  ? <span class="hljs-title class_">BinaryToDecimal</span>&lt;<span class="hljs-title class_">Rest</span>, [...<span class="hljs-title class_">Acc</span>, ...<span class="hljs-title class_">Acc</span>, <span class="hljs-string">''</span>]&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="4">  : <span class="hljs-title class_">BinaryToDecimal</span>&lt;<span class="hljs-title class_">Rest</span>, [...<span class="hljs-title class_">Acc</span>, ...<span class="hljs-title class_">Acc</span>]&gt;</span>
<span class="code-block-extension-codeLine" data-line-num="5">: <span class="hljs-title class_">Acc</span>[<span class="hljs-string">'length'</span>]</span>
<span class="code-block-extension-codeLine" data-line-num="6"></span>
<span class="code-block-extension-codeLine" data-line-num="7"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Res1BinaryToDecimal</span> = <span class="hljs-title class_">BinaryToDecimal</span>&lt;<span class="hljs-string">'10'</span>&gt;; <span class="hljs-comment">// expected to be 0 + 2 = 2</span></span>
<span class="code-block-extension-codeLine" data-line-num="8"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Res2BinaryToDecimal</span> = <span class="hljs-title class_">BinaryToDecimal</span>&lt;<span class="hljs-string">'0011'</span>&gt;; <span class="hljs-comment">// expected to be 1 + 2 = 3</span></span>
<span class="code-block-extension-codeLine" data-line-num="9"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Res3BinaryToDecimal</span> = <span class="hljs-title class_">BinaryToDecimal</span>&lt;<span class="hljs-string">'1011'</span>&gt;; <span class="hljs-comment">// expected to be 1 + 2 + 0 + 8 = 11</span></span>
<span class="code-block-extension-codeLine" data-line-num="10"></span>
<span class="code-block-extension-codeLine" data-line-num="11"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Res5BinaryToDecimal</span> = <span class="hljs-title class_">BinaryToDecimal</span>&lt;<span class="hljs-string">'1000'</span>&gt;; <span class="hljs-comment">// expected to be 0 + 0 + 0 + 8 = 8</span></span>
<span class="code-block-extension-codeLine" data-line-num="12"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="13"> * BinaryToDecimal&lt;'1011'&gt; æ¯è½®é€’å½’ACCçš„å€¼</span>
<span class="code-block-extension-codeLine" data-line-num="14"> * 1 - '1': ['']</span>
<span class="code-block-extension-codeLine" data-line-num="15"> * 2 - '0': ['', '']</span>
<span class="code-block-extension-codeLine" data-line-num="16"> * 3 - '1': [...['', ''], ...['', ''], ''].length = 5</span>
<span class="code-block-extension-codeLine" data-line-num="17"> * 4 - '1': [...['', '', '', '', ''], ...['', '', '', '', ''], ''].length = 11</span>
<span class="code-block-extension-codeLine" data-line-num="18"> */</span>
<span class="code-block-extension-codeLine" data-line-num="19"></span>
<span class="code-block-extension-codeLine" data-line-num="20"></span>
<span class="code-block-extension-codeLine" data-line-num="21"><span class="hljs-comment">/**</span></span>
<span class="code-block-extension-codeLine" data-line-num="22"> * BinaryToDecimal&lt;'1000'&gt; æ¯è½®é€’å½’ACCçš„å€¼</span>
<span class="code-block-extension-codeLine" data-line-num="23"> * 1 - '1': ['']</span>
<span class="code-block-extension-codeLine" data-line-num="24"> * 2 - '0': ['', '']</span>
<span class="code-block-extension-codeLine" data-line-num="25"> * 3 - '0': [...['', ''], ...['', '']].length = 4</span>
<span class="code-block-extension-codeLine" data-line-num="26"> * 4 - '0': [...['', '', '', ''], ...['', '', '', '']].length = 8</span>
<span class="code-block-extension-codeLine" data-line-num="27"> */</span>
</code></pre>
  <p>æ•°ç»„é•¿åº¦è®¡æ•°å’Œé€’å½’åˆ°äº†è¿™ä¸ªè¿›åº¦åéƒ½æ˜¯å¸¸è§„æ“ä½œäº†ã€‚</p>
  <p><code>[...Acc, ...Acc]</code>ä¹Ÿä¸éš¾ç†è§£ï¼ŒäºŒè¿›åˆ¶ï¼Œæ¯å¤šä¸€ä½ï¼Œéƒ½æ˜¯å‰é¢çš„æ•°é‡*2ç¿»å€ä¹ˆã€‚</p>
  <p>åªæ˜¯è¿™é‡Œæˆ‘ä¸€å¼€å§‹ååˆ†çš„ä¸ç†è§£äººè„‘æ˜¯ä»å³å¾€å·¦é€ä½ç®—çš„ï¼Œæ‰€ä»¥1011 = 1 + 2 + 0 + 8 = 11ã€‚
    ä¸ºä»€ä¹ˆç¨‹åºä»å·¦åˆ°å³ç®—ä¹Ÿèƒ½å¯¹ã€‚ç„¶åå‘ç°æ˜¯è„‘å­å¤ªå›ºåŒ–äº†ï¼Œ1011 = 8 + 0 + 2 + 1 = 11 å¯ä¸ä¹Ÿæˆç«‹ä¹ˆã€‚æ¯æ¬¡å¾€æ•°ç»„é‡Œä¸¢ä¸€ä¸ªæ–°çš„å€¼è¿›å»ï¼Œåœ¨åé¢çš„é€’å½’ä¸­éƒ½ä¼šè¢«æ¯è½®*2ï¼Œæ‰€ä»¥æ•°ç»„å¢åŠ ä¸€ä½ï¼Œå°±æ˜¯åœ¨å®Œæˆ2^n çš„æ“ä½œï¼Œè¿™é‡Œçš„nå°±æ˜¯åç»­é€’å½’æ¬¡æ•°ï¼Œæ¯æ¬¡é€’å½’ç¿»å€ã€‚æ‰€ä»¥0å’Œ1çš„åŒºåˆ«ä¹Ÿç¡®å®å°±æ˜¯åªæ˜¯nå¢åŠ ä¸€ä½éœ€è¦åšåŸæœ¬çš„ç¿»å€ï¼Œè¿˜æ˜¯è¯¥ä½æœ‰æ•°æ®ï¼Œéœ€è¦ä¸¢ä¸ªæ•°æ®è¿›æ•°ç»„ï¼Œä»è€Œè¿›è¡Œåç»­çš„ç¿»å€ã€‚<strong>å…³é”®ç‚¹å°±æ˜¯æ¯æ¬¡æ•°ç»„æ–°å¢åŠ çš„ä¸€ä½éƒ½å®Œæˆäº†åç»­nè½®é€’å½’ä¸­2</strong>**^n **<strong>çš„èŒèƒ½ã€‚</strong></p>
  <h1 data-id="heading-73">ğŸ¤¸â€â™€ï¸è·¯åˆ«èµ°åäº†</h1>
  <p>æ•´ç†çœ‹ä¸‹æ¥ï¼Œç±»å‹ä½“æ“æ˜¯ä¸æ˜¯è§‰å¾—æ¯”jsè¿˜éš¾å­¦ï¼Œå°±è·Ÿjsçš„åŸå‹é“¾å®ç°çš„ç±»ä¸€æ ·ï¼Œå¥‡å¥‡æ€ªæ€ªçš„ã€‚æˆ‘è§‰å¾—åŸå› æ˜¯TSä¸€å¼€å§‹è®¾è®¡æ—¶æ²¡æƒ³æ‰¿è½½è¿™ä¹ˆå¤šï¼Œè­¬å¦‚åšåŠ å‡ä¹˜é™¤è¿ç®—ï¼Œæ˜¯å¤§å®¶çš„åœ¨åˆ©ç”¨çš„å®ƒçš„è§„åˆ™å’Œç‰¹æ€§æäº‹æƒ…ã€‚TSæœ¬èº«ç¼ºä¹ç±»å‹æ–¹æ³•å†…å˜é‡å­˜å‚¨çš„è®¾è®¡ã€æ²¡æœ‰è®¡æ•°å’Œè¿ç®—èƒ½åŠ›ã€é€»è¾‘è¯­å¥åˆåªæœ‰ä¸‰å…ƒè¿ç®—ç¬¦æ²¡æœ‰å¾ªç¯ä¹‹ç±»çš„ï¼Œæ‰€ä»¥åœ¨åšè®¡æ•°è¿ç®—ã€é€’å½’ç­‰éƒ½æ¯”è¾ƒè®©äººè¿·æƒ‘ï¼Œæœ‰äº›æµ®å¤¸çš„ä½“æ“æˆ‘è‡ªå·±ä¹Ÿæ˜¯è§‰å¾—åšåšå¼€å¼€çœ¼å›¾ä¸€ä¹å°±å¥½ï¼Œè¿˜æ˜¯ä¸“æ³¨äºæ—¥å¸¸å·¥å…·æ–¹æ³•ã€ç±»èƒ½ç”¨å¾—åˆ°çš„ç±»å‹æ¨å¯¼éƒ¨åˆ†å§ã€‚</p>
  <p>æœ€åï¼Œå³ä½¿å·²ç»è¿›é˜¶åˆ°é«˜çº§é€‰æ‰‹äº†ï¼Œ<strong>ä¸è¦æ»¥ç”¨å·¥å…·ç±»å‹ï¼Œå¯¹å¤–æš´éœ²çš„APIï¼Œåº”è¯¥å°½é‡å¤šæ‰‹åŠ¨æ ‡æ³¨å‡½æ•°è¿”å›å€¼ç±»å‹</strong>ã€‚<strong>å¥‘çº¦é«˜äºå®ç°ã€‚</strong></p>
  <p>è¿™äº›tsç±»å‹ä½“æ“çš„èŠ±æ´»å¤šæ˜¯ç•™ç»™åŸºç¡€æ¡†æ¶å†…éƒ¨ç”¨çš„ï¼Œé€šè¿‡å†™æ¨å¯¼ç±»å‹ä½œä¸ºç±»å‹çš„é€šç”¨æ–¹æ³•ï¼Œæé«˜æˆ‘ä»¬çš„ç±»å‹ç¼–ç¨‹çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚</p></div>
